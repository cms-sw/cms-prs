{"additions": 7, "auther_ref": "fix-G4TransportationWithMsc", "auther_sha": "24bfcac11a1c0c83844d400c4bbe7ddb824515fa", "author": "hahnjo", "body": "This fixes a very rare bug when `G4Transportation` runs without field, `G4TransportationWithMsc` is allowed to make multiple internal steps, and the last internal step does *not* sample scattering (because the track is either ranging out, or the step is very small). In this case `G4Transportation` will reset `fMomentumChanged = false` because linear propagation does not change the momentum direction, when in fact earlier internal steps updated the direction due to scattering.\r\n\r\nInstead always update the momentum direction because the above is rare. Numerical differences are observed in the simulation histories, but not statistically significant.", "branch": "cms/v11.1.2", "changed_files": 1, "comments": 4, "commits": 1, "created_at": "1698226265", "deletions": 2, "labels": ["orp-pending", "tests-rejected", "pending-signatures", "externals-pending"], "number": 76, "release-notes": [], "review_comments": 0, "state": "open", "title": "G4TransportationWithMsc: Always update momentum direction", "updated_at": "1698259521", "user": "hahnjo"}