{"additions": 18, "auther_ref": "fix-source-cmsset_default", "auther_sha": "f6b08c7c30a0fc0dcc413cf88fd7cd3ee5f34dfd", "author": "cms-sw", "body": "This change allows to source the `cmsset_default.sh` via `bash --init-file cmsset_default.sh` in the newly created shell. This makes sure that alias (e.g. `cmsrel`, `cmsenv`) set via `cmsset_default.sh` are available in the container and auto completion of command e.g. `crab` also works\r\n\r\n@kpedro88 , do you foresee any issue with this change? Or do you have any better suggestion?\r\n\r\n[a]\r\n- Auto completion of crab\r\n```\r\n> /build/muz/x/common/cmssw-el8\r\nSingularity> crab\r\ncheckdataset      checkwrite        --debug           getoutput         --help            preparelocal      --quiet           report            setdatasetstatus  status            tasks             --version         \r\ncheckusername     createmyproxy     getlog            -h                kill              proceed           remake            resubmit          setfilestatus     submit            uploadlog         \r\nSingularity> exit\r\nexit\r\n```\r\n\r\n- Run one or more commands\r\n```\r\n> /build/muz/x/common/cmssw-el8 -- echo OK\r\nOK\r\n> /build/muz/x/common/cmssw-el8 -- \"echo OK; echo DONE\"\r\nOK\r\nDONE\r\n>\r\n```\r\n\r\n- Testing cmsrel alias\r\n```\r\n> /build/muz/x/common/cmssw-el8 -- \"cmsrel CMSSW_14_0_0_pre2; ls CMSSW_14_0_0_pre2\"\r\nbiglib  bin  cfipython  config  doc  include  lib  logs  objs  python  src  static  test  tmp\r\n```", "branch": "master", "changed_files": 1, "closed_at": "1704866884", "comments": 7, "commits": 1, "created_at": "1704811413", "deletions": 9, "labels": ["tests-approved", "fully-signed", "externals-approved", "orp-pending"], "merge_commit_sha": "5b0a846d3885a9037893eb628da5f2e9e444b6f6", "merged_at": "1704866884", "merged_by": "smuzaffar", "number": 13, "release-notes": [], "review_comments": 0, "state": "closed", "title": "source cmsset_default.sh in the new shell to get alias and crab auto completion working", "updated_at": "1704866884", "user": "smuzaffar"}