{"additions": 1, "auther_ref": "smuzaffar-patch-2", "auther_sha": "9ff695241258b2a8ee7acef0872b23110f83508f", "author": "cms-sw", "body": "We have noticed  ( https://github.com/cms-sw/cmssw/pull/28881  https://github.com/cms-sw/cmssw/pull/28847 ) that git-cms-sparse-checkout does not checkout packages where we only have renamed files. Problem is that `git diff --name-only`  does not show files which were renamed, passing `--no-renames` option should fix this issue\r\n\r\nFYI, @silviodonato , @kpedro88 , @makortel , @fabiocos\r\n\r\n[a]\r\n\r\n```\r\ndiff -u <(git diff CMSSW_11_1_X_2020-02-04-2300..CMSSW_11_1_X_2020-02-05-2300 --name-only) <(git diff CMSSW_11_1_X_2020-02-04-2300..CMSSW_11_1_X_2020-02-05-2300 --name-only --no-renames)\r\n--- /dev/fd/63  2020-02-08 14:12:52.960402077 +0100\r\n+++ /dev/fd/62  2020-02-08 14:12:52.960402077 +0100\r\n@@ -1,3 +1,5 @@\r\n+Configuration/Eras/python/Modifier_dd4hep_cff.py\r\n+Configuration/Geometry/python/DD4hep_GeometrySim_cff.py\r\n Configuration/Geometry/python/GeometryDD4hepExtended2021Reco_cff.py\r\n Configuration/Geometry/python/GeometryDD4hepExtended2021_cff.py\r\n Configuration/ProcessModifiers/python/dd4hep_cff.py\r\n```", "branch": "master", "changed_files": 1, "closed_at": "1581229725", "comments": 9, "commits": 1, "created_at": "1581164254", "deletions": 1, "labels": ["comparison-available", "externals-approved", "fully-signed", "orp-pending", "tests-approved"], "merge_commit_sha": "6cd3f0a0c54c177740ae78586b8e9790ec688d21", "merged_at": "1581229725", "merged_by": "smuzaffar", "number": 108, "release-notes": [], "review_comments": 0, "state": "closed", "title": "use no-renames with git diff to get package names with renamed files", "updated_at": "1581229732", "user": "smuzaffar"}