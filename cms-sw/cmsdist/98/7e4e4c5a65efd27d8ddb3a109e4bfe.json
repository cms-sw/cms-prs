{"additions": 0, "auther_ref": "tf-disable-mcpu-native", "auther_sha": "97a1b9e615db94c2cba54906d697f99d90af5f1c", "author": "cms-sw", "body": "do not pass `--copt=-mcpu=native --copt=-mtune=native` to TF build if CMS `arch_build_flags` is not set. For `x86_64` though we set `--copt=-march=x86-64-v2` but as  `arch_build_flags` is not set for `x86_64` so we also end up passing  `--copt=-mcpu=native --copt=-mtune=native` . This can cause compiler to optimize tf build for the machine where it was build .\r\n\r\nhttps://github.com/cms-sw/cmsdist/pull/9166/ PR has accidentally included `--copt=-mcpu=native --copt=-mtune=native` for `x86_64`. Before that `--copt=-mcpu=native --copt=-mtune=native` were added for non-x86_64 arch if  `arch_build_flags` was not set for those archs.", "branch": "IB/CMSSW_14_2_X/master", "changed_files": 1, "closed_at": "1727235533", "comments": 6, "commits": 1, "created_at": "1727187315", "deletions": 2, "labels": ["tests-approved", "externals-approved", "fully-signed", "orp-pending"], "merge_commit_sha": "85d15395756a78e9067e423d4dc38ca45394e770", "merged_at": "1727235532", "merged_by": "smuzaffar", "number": 9434, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[TF] Do not use mcpu/mtune native if CMS arch_build_flags are not set", "updated_at": "1727235548", "user": "smuzaffar"}