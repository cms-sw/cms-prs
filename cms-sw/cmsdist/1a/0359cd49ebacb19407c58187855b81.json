{"additions": 1, "auther_ref": "jemalloc-arm-fix", "auther_sha": "4a354294a3c0717fefaa0ebc69b292713f8ba6b2", "author": "cms-sw", "body": "On GRID nodes, pagesize is set to 4096, while on lxplus-arm and vocms-arm it is 65536. If jemalloc was built on GRID node, using it on lxplus or vocms will cause failures ([e.g.](https://cmssdt.cern.ch/SDT/cgi-bin/logreader/el8_aarch64_gcc12/CMSSW_14_1_X_2024-06-06-2300/pyRelValMatrixLogs/run/4.17_RunMinBias2011A/step2_RunMinBias2011A.log#/)):\r\n\r\n```\r\n<jemalloc>: Unsupported system page size\r\n```\r\n\r\nFrom install.MD for jemalloc:\r\n> `--with-lg-page`: Specify the base 2 log of the allocator page size, which must in turn be at least as large as the system page size. \r\n\r\nNotice that this change *may* cause performance issues, see e.g. discussion here: https://github.com/jemalloc/jemalloc/issues/2639#issuecomment-2073576515", "branch": "IB/CMSSW_14_1_X/master", "changed_files": 1, "comments": 9, "commits": 1, "created_at": "1718178265", "deletions": 0, "labels": ["tests-approved", "externals-approved", "fully-signed", "orp-pending", "requires-external"], "number": 9243, "release-notes": [], "review_comments": 0, "state": "open", "title": "[AARCH64] jemalloc: explicitly set pagesize", "updated_at": "1718196852", "user": "iarspider"}