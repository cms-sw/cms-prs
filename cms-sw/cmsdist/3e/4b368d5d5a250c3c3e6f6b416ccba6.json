{"additions": 459, "auther_ref": "py2-cleanup", "auther_sha": "a866f2f7e2452bf41d273e78086d6acc719893de", "author": "cms-sw", "body": "Cleanup for `py2-*` packages. These changes work with `pkgtools V00-32-XX` branch.\r\n- match cms package name to pip package name. `.` in package name should be replaced with `-` e.g. pip package `backports.lzma` becomes `py2-backports-lzma.spec`\r\n- dropped most of `py2-*-toolfile.spec` and automatically generate these via `cmssw-tool-conf.spec`\r\n- Make sure that dependency of a `py2-*` package satisfied and fail at build time if missing\r\n- Simplified `py2-*` packages to be of the form\r\n```\r\n### RPM external py2-PipPackageName Version\r\n## IMPORT build-with-pip\r\n\r\n<extra build/requires flags>\r\n```\r\none day we can auto generate these from a single file. For packages with `<extra build/requires flags>` can have py2-PipPackageName.file which can be included in the auto-generated package specs (using new `## INCLUDE file-name` feature of `cmsBuild`).\r\n- make `build-with-pip.file` generic enough so that we can customize the build from the package spec.\r\n", "branch": "IB/CMSSW_10_4_X/gcc700", "changed_files": 243, "comments": 20, "commits": 4, "created_at": "1541512580", "deletions": 2056, "labels": ["externals-pending", "hold", "orp-pending", "pending-signatures", "tests-started"], "number": 4482, "release-notes": [], "review_comments": 0, "state": "open", "title": "cleanup of py2 packages; make sure to install their dependencies", "updated_at": "1541663523", "user": "smuzaffar"}