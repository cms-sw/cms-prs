{"additions": 458, "auther_ref": "py2-cleanup", "auther_sha": "3e2c6962cf87bdc6bcf09cf8faa8e77a2dad7673", "author": "cms-sw", "body": "Cleanup for `py2-*` packages. These changes work with `pkgtools V00-32-XX` branch.\r\n- match cms package name to pip package name. `.` in package name should be replaced with `-` e.g. pip package `backports.lzma` becomes `py2-backports-lzma.spec`\r\n- dropped most of `py2-*-toolfile.spec` and automatically generate these via `cmssw-tool-conf.spec`\r\n- Make sure that dependency of a `py2-*` package satisfied and fail at build time if missing\r\n- Simplified `py2-*` packages to be of the form\r\n```\r\n### RPM external py2-PipPackageName Version\r\n## IMPORT build-with-pip\r\n\r\n<extra build/requires flags>\r\n```\r\none day we can auto generate these from a single file. For packages with `<extra build/requires flags>` can have py2-PipPackageName.file which can be included in the auto-generated package specs (using new `## INCLUDE file-name` feature of `cmsBuild`).\r\n- make `build-with-pip.file` generic enough so that we can customize the build from the package spec.\r\n", "branch": "IB/CMSSW_10_4_X/gcc700", "changed_files": 243, "closed_at": "1541709816", "comments": 30, "commits": 6, "created_at": "1541512580", "deletions": 2056, "labels": ["externals-approved", "hold", "orp-pending", "pending-signatures", "tests-approved"], "merge_commit_sha": "995b143178f7dcfa1d751f3331ff7d671e9a6f40", "merged_at": "1541709816", "merged_by": "smuzaffar", "number": 4482, "release-notes": [], "review_comments": 0, "state": "closed", "title": "cleanup of py2 packages; make sure to install their dependencies", "updated_at": "1541709825", "user": "smuzaffar"}