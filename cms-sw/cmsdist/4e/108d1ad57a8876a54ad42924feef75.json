{"additions": 84, "auther_ref": "feature/aot_models_via_externals", "auther_sha": "1ff0e6e362e88c0e0ba9ad1e2f6d80c7b159f51e", "author": "riga", "body": "This PR is a continuation of https://github.com/cms-sw/cmsdist/pull/9005 and adds all necessary tools to AOT compile TensorFlow models provided via external resources or data repositories.\r\n\r\n- A new, small external package `cms_tfaot` is provided which forwards the compilation commands to the already existing cmsml package and also dynamically build tool files. It also has a `dev` mode which produces more verbose outputs with instructions for local compilations.\r\n- The package also provides 2 test models which will be required by the unittests in PhysicsTools/TensorFlowAOT.\r\n- The compilation instructions are handled by a `tfaot-compile.file` which only requires 2 variables. With that, each model should have its own spec file which can `##INCLUDE tfaot-compile.file`.\r\n- The tensorflow-xla-runtime is now provided as a shared library. However, it seems like this is not necessarily the intention. When building the `*.so` normally, the plugin build process in CMSSW will complain about missing symbols from absl and tsl. For this reason we manually linked to absl libraries and disabled complaints about unresolved symbols via `-Wl,--unresolved-symbols=ignore-in-shared-libs` in the tool file.\r\n\r\nI enabled edit permissions, so feel free to move the `cms-tfaot` tool to cms-externals.\r\n\r\nThis PR is needed by https://github.com/cms-sw/cmssw/pull/44519.\r\n\r\n@Bogdan-Wiederspan", "branch": "IB/CMSSW_14_1_X/master", "changed_files": 11, "comments": 2, "commits": 7, "created_at": "1711124184", "deletions": 3, "labels": ["tests-pending", "externals-pending", "pending-signatures", "orp-pending"], "number": 9093, "release-notes": [], "review_comments": 0, "state": "open", "title": "Add tools to build TF AOT models", "updated_at": "1711124323", "user": "riga"}