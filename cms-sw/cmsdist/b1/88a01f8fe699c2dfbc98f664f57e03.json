{"additions": 41, "auther_ref": "IB/CMSSW_14_1_X/master_cuda-12.4.0", "auther_sha": "a00c4c1220be4f077abaaf58fbf3d15b66c603cd", "author": "fwyzard", "body": "### Update CMake to version 3.28.3.\r\n  - backport from Geant4 v11.2.0 a fix for CMake 3.27 and later\r\n\r\n### Update to CUDA 12.4.0:\r\n  * CUDA runtime version 12.4.99\r\n  * NVIDIA drivers version 550.54.14\r\n\r\nSee https://docs.nvidia.com/cuda/archive/12.4.0/cuda-toolkit-release-notes/index.html for the full CUDA 12.4.0 release notes and change log.\r\n\r\nForce CUDA to consider only the major/minor version of GCC, to work around a problem in the GCC version checks inside `cudafe++`, where GCC 12.3.1 is not recognised as equivalent to GCC 12.3.0.\r\n\r\nRename the CUDA-related flags used in the spec files to avoid potential problems when adding,\r\nremoving or reordering them.\r\n\r\n### Update cuDNN to version 8.9:\r\n\r\nSee https://docs.nvidia.com/deeplearning/cudnn/archives/cudnn-897/release-notes/index.html for the release notes and change log.\r\n\r\n### Update NVIDIA gdrcopy to v2.4.1\r\n\r\nAdd support for new hardware (Grace Hopper, BlueField 3 NICs and DPUs).\r\nAdd support for recent OS (kernel, RHEL, SUSE).\r\nVarious bug fixes.\r\n\r\nSee https://github.com/NVIDIA/gdrcopy/releases/tag/v2.4 and https://github.com/NVIDIA/gdrcopy/releases/tag/v2.4.1 for the release notes and change log.\r\n\r\n### Update ONNX runtime to version 1.17.1:\r\n\r\nOlder version of ONNX runtime fail to compile with CUDA 12.4.\r\nOn the other hand, ONNX 1.17.1 requires CMAKE 3.26 or later, and cuDNN 8.9 or later.\r\n\r\nThis version requires two more workarounds:\r\n  - `-Wno-error=maybe-uninitialized` is needed to a void a (hopefully false positive) warning about a potentially uninitialised variable with cuDNN 8.9 and 9.0\r\n  - `-Donnxruntime_NVCC_THREADS=0` is needed because the default is `ON`, causing nvcc to be called as `nvcc ... --threads ON ...`, which causes an error.\r\n\r\nThis version requires an update inside CMSSW, implemented in https://github.com/cms-sw/cmssw/pull/44354.\r\n\r\n### Add missing thrust include in PyTorch\r\n\r\nBackport of https://github.com/pytorch/pytorch/pull/121421.", "branch": "IB/CMSSW_14_1_X/master", "changed_files": 12, "comments": 87, "commits": 9, "created_at": "1709708549", "deletions": 29, "labels": ["externals-pending", "pending-signatures", "tests-started", "orp-pending", "requires-external"], "number": 9046, "release-notes": [], "review_comments": 1, "state": "open", "title": "Update to CUDA 12.4.0", "updated_at": "1710179394", "user": "fwyzard"}