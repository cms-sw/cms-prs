{"additions": 30, "auther_ref": "build-rules-non-default-min-microarch", "auther_sha": "d84654e7cc5180b88a5e6455896551a7462c45fd", "author": "cms-sw", "body": "This contains build rules improvement. By default, during the build phase, we use the default micro-arch edm tools to \r\n- register edm plugins\r\n- generate edm plugin configuration\r\n- Run edm class version checks\r\n\r\nThis break the build if the build node does not support the default micro-arch e.g. build on node with x86-64-v2  only support for CMSSW releases where x86-64-v3 is default micro-arch.\r\n\r\nAlso we only build cuda/rocm code for default micro-arch and then link it for additional micro-archs. This works as long as default micro-arch is subset of all addtional micro-archs but fails otherwise.\r\n\r\nNew build rules has the following changes\r\n- Use min supported micro-arch edm tools to register edm plugins, generate edn plugin configs and edm class version checks\r\n- Build cuda/rocm (+ alpaka cuda/rocm backend) once using the min supported micro-arch flags \r\n\r\nLets test the changes in DEVEL IBs first and then we can integrate it in main branch", "branch": "IB/CMSSW_15_0_X/devel", "changed_files": 5, "comments": 3, "commits": 1, "created_at": "1736758532", "deletions": 3, "labels": ["tests-pending", "externals-pending", "pending-signatures", "orp-pending"], "number": 9610, "release-notes": [], "review_comments": 0, "state": "open", "title": "[DEVEL]Build rules non default min microarch", "updated_at": "1736758560", "user": "smuzaffar"}