{"additions": 0, "auther_ref": "mariadb_v3", "auther_sha": "0c9bfd062853e40892ce7bc6ce397f50a2a05d1b", "author": "jmonkevicius", "body": "- Updated database from MySQL to MariaDB 10.0.12 version.\n- Updated py2-mysqldb to newer 1.2.4b4 version.\n- Updated  py2-mysqldb-setup.patch for correct py2-mysqldb working with new mysqldb version.\n- Removed mysql.spec file\n\nIt was tested only in SLC6 and pushed to comp_gcc481 branch.\nIt was tested also with SQLAlchemy 0.9.6 version [ https://github.com/cms-sw/cmsdist/pull/983 ]. Not with 0.5.2 version.\nIt was tested also with cx_Oracle 5.1.3 version [ https://github.com/cms-sw/cmsdist/pull/1024 ]. Not with 5.1 version.\n\nIn WMAgent deployment case, before starting MariaDB services, need to change deployment file [ https://github.com/jmonkevicius/deployment/commit/fb33c9e12365d760b0ca27075d0fd5285df77503 ]. \nReason: new version of database don't understand simbols \"set-variable\" . Seting my.cnf parameters at mariadb.spec file is not working because deployment script [  https://github.com/dmwm/deployment ] is overwriting this config file.\n# \n- [Not resolved yet] Standart testing and validation of WMAgent from Justas was successful, but this MariaDB version gives warning after command \n\n\" ./manage execute-agent wmagent-resource-control --add-all-sites --plugin=CondorPlugin --pending-slots=50 --running-slots=50 \" -->\n\n\"\nAdding T3_GR_IASA to the resource control db...\n/data/srv/wmagent/0.9.95b-comp2/sw.pre.jmonkevi/slc6_amd64_gcc481/external/py2-sqlalchemy/0.9.6/lib/python2.6/site-packages/sqlalchemy/engine/default.py:435: Warning: Duplicate entry 'T3_GR_IASA' for key 'site_name'\ncursor.execute(statement, parameters)\n\"\n# .\n\n@amaltaro @juztas @hufnagel @geneguvo\n", "branch": "comp_gcc481", "changed_files": 0, "closed_at": "1411061074", "comments": 5, "commits": 0, "created_at": "1410995334", "deletions": 0, "labels": [], "number": 1025, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Updating db from Mysql to Mariadb_10.0.12 version + py2-mysqldb_1.2.4b4", "updated_at": "1411061092", "user": "jmonkevicius"}