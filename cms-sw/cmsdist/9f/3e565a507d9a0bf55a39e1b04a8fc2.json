{"additions": 2, "auther_ref": "fix-force-link-cuda-lib", "auther_sha": "73d86601cb4d380bd4e48e4b576271fc744c2a0e", "author": "cms-sw", "body": "This PR contains the following changes\r\n- add  `-Wl,-z,noexecstack` link flag to avoid link type warings\r\n```\r\ngcc/12.3.1-40d504be6370b5a30e3947a6e575ca28/bin/../lib/gcc/x86_64-redhat-linux-gnu/12.3.1/../../../../x86_64-redhat-linux-gnu/bin/ld.bfd: warning: DeviceAdditionKernel.cu_nv.o: missing .note.GNU-stack section implies executable stack\r\ngcc/12.3.1-40d504be6370b5a30e3947a6e575ca28/bin/../lib/gcc/x86_64-redhat-linux-gnu/12.3.1/../../../../x86_64-redhat-linux-gnu/bin/ld.bfd: NOTE: This behaviour is deprecated and will be removed in a future version of the linker\r\n```\r\n- Force link a CMSSW shared library if it has a `_nv.a` (see https://github.com/cms-sw/cmssw/issues/46864#issuecomment-2595894973 ). This should fix the GPU unit tests in 15.0.X IBs\r\n\r\nfixes https://github.com/cms-sw/cmssw/issues/46864\r\n\r\nfailing gpu tests now run locally on lxplus-gpu\r\n```\r\nSingularity> scram b use-ibeos runtests -j 10\r\n>> Local Products Rules ..... started\r\n>> Local Products Rules ..... done\r\n>> Creating project symlinks\r\nCreating test log file logs/el8_amd64_gcc12/testing.log\r\n>> Created tmp/el8_amd64_gcc12/das_client/dasgoclient\r\nPass    2s ... HeterogeneousTest/CUDAWrapper/testCudaDeviceAdditionWrapper\r\nPass    2s ... HeterogeneousTest/CUDAKernel/testCudaDeviceAdditionKernel\r\nPass    7s ... HeterogeneousTest/CUDAKernel/testCUDATestKernelAdditionModule\r\nPass    7s ... HeterogeneousTest/CUDAWrapper/testCUDATestWrapperAdditionModule\r\n>> Test sequence completed for CMSSW CMSSW_15_0_X_2025-01-20-1100\r\n```", "branch": "IB/CMSSW_15_0_X/master", "changed_files": 2, "comments": 7, "commits": 1, "created_at": "1737375383", "deletions": 2, "labels": ["tests-approved", "externals-pending", "pending-signatures", "orp-pending", "tests-ib-failure"], "number": 9629, "release-notes": [], "review_comments": 0, "state": "open", "title": "buildrulles: fix for linking cuda libs", "updated_at": "1737391998", "user": "smuzaffar"}