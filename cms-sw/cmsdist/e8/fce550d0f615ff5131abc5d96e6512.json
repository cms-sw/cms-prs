{"additions": 2, "auther_ref": "gmp-static-avx-illegal-inst", "auther_sha": "aadc83df5b9c9c963b12139a673f2eeb3c9928f5", "author": "davidlt", "body": "GMP package automatically detects CPU on the build system and optimizes\nthe whole build for that particular architecture.\n\nThis caused crashes (illegal instruction) in a number of workflows due\nto usage of CGAL (links to GMP).\n\n```\n5  __gmpq_set_d () [Illegal instruction -- vmovq (AVX)]\n6  CGAL::Cartesian_converter..\n7  CGAL::Sign CGAL::Filtered_predicate..\n8  CGAL::Triangulation_2..\n9  CGAL::Triangulation_2..\n10 CGAL::Delaunay_triangulation_2..\n11 CGAL::VoronoiDiagram_2::Internal::Delaunay_triangulation_nearest_site_2..\n12 CGAL::Voronoi_diagram_2..\n13 VoronoiAlgorithm::voronoi_area_incident() [CMSSW]\n```\n\nThis happened because `gmp-static` was built on AVX-capable machine.\n\nNOTE: GMP supports `--enable-fat` for building fat binaries.\n\nSigned-off-by: David Abdurachmanov David.Abdurachmanov@cern.ch\n", "branch": "IB/CMSSW_8_0_X/stable", "changed_files": 1, "closed_at": "1445230302", "comments": 0, "commits": 1, "created_at": "1445230283", "deletions": 0, "labels": [], "merge_commit_sha": "fe2fd5b2160ef9c470131d79daba58cae18ad623", "merged_at": "1445230302", "merged_by": "davidlt", "number": 1907, "release-notes": [], "review_comments": 0, "state": "closed", "title": "gmp-static: set --host and --build to for a generic build", "updated_at": "1445230302", "user": "davidlt"}