{"additions": 1, "auther_ref": "smuzaffar-patch-5", "auther_sha": "9e806e2a57860ce4721924317c252133b4f49df2", "author": "cms-sw", "body": "If chardet is already available then package is build with no contents.\r\n```\r\n+ pip install --user -v --no-deps chardet-3.0.4.tar.gz\r\nProcessing ./chardet-3.0.4.tar.gz\r\n  Running setup.py (path:tmp/pip-Li_eTP-build/setup.py) egg_info for package from file://BUILD/slc6_amd64_gcc630/external/py2-chardet/3.0.4-npnolj2/chardet-3.0.4.tar.gz\r\n    Running command python setup.py egg_info\r\n    running egg_info\r\n    creating pip-egg-info/chardet.egg-info\r\n    writing pip-egg-info/chardet.egg-info/PKG-INFO\r\n    writing top-level names to pip-egg-info/chardet.egg-info/top_level.txt\r\n    writing dependency_links to pip-egg-info/chardet.egg-info/dependency_links.txt\r\n    writing entry points to pip-egg-info/chardet.egg-info/entry_points.txt\r\n    writing manifest file 'pip-egg-info/chardet.egg-info/SOURCES.txt'\r\n    warning: manifest_maker: standard file '-c' not found\r\n\r\n    reading manifest file 'pip-egg-info/chardet.egg-info/SOURCES.txt'\r\n    reading manifest template 'MANIFEST.in'\r\n    warning: no files found matching 'requirements.txt'\r\n    writing manifest file 'pip-egg-info/chardet.egg-info/SOURCES.txt'\r\n  Source in tmp/pip-Li_eTP-build has version 3.0.4, which satisfies requirement chardet==3.0.4 from file://BUILD/slc6_amd64_gcc630/external/py2-chardet/3.0.4-npnolj2/chardet-3.0.4.tar.gz\r\n  Requirement already satisfied (use --upgrade to upgrade): chardet==3.0.4 from file://BUILD/slc6_amd64_gcc630/external/py2-chardet/3.0.4-npnolj2/chardet-3.0.4.tar.gz in /opt/py2-packages\r\nCleaning up...\r\n  Removing source in tmp/pip-Li_eTP-build\r\n+ touch BUILD/slc6_amd64_gcc630/external/py2-chardet/3.0.4-npnolj2/files\r\n```\r\nwith force --upgrade it build the package fine. For now I am only added --upgrade for py2-chardet but we might want to add it in build-with-pip.file so that all packages can make use of it.\r\n```\r\n  Source in w2/tmp/pip-nqmwRr-build has version 3.0.4, which satisfies requirement chardet==3.0.4 from file:/BUILD/slc6_amd64_gcc630/external/py2-chardet/3.0.4-cms/chardet-3.0.4.tar.gz\r\nInstalling collected packages: chardet\r\n  Running setup.py install for chardet: started\r\n    Running command slc6_amd64_gcc630/external/python/2.7.11-fmblme/bin/python -u -c \"import setuptools, tokenize;__file__='tmp/pip-nqmwRr-build/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record tmp/pip-ZvPyO3-record/install-record.txt --single-version-externally-managed --compile --user --prefix=\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib\r\n    creating build/lib/chardet\r\n    copying chardet/big5prober.py -> build/lib/chardet\r\n```", "branch": "IB/CMSSW_10_0_X/gcc630", "changed_files": 1, "closed_at": "1512750990", "comments": 1, "commits": 1, "created_at": "1512750970", "deletions": 1, "labels": ["externals-pending", "orp-pending", "pending-signatures", "tests-pending"], "merge_commit_sha": "d4eca3e7a965c870f0f99a8efe366cb70830d490", "merged_at": "1512750990", "merged_by": "smuzaffar", "number": 3620, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Update py2-chardet.spec", "updated_at": "1513089202", "user": "smuzaffar"}