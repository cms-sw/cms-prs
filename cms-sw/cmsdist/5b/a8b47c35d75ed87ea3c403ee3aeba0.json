{"additions": 2, "auther_ref": "fix-cmsos", "auther_sha": "c5b7a20176643dfddad0ed789346657abe807e30", "author": "davidlt", "body": "It looks there are some magic involved in ./common/cmsos execution.\nUnder QEMU user-mode emulation it fails as it attempts executing\nthe file directly and file does not contain a proper shebang.\n\n```\n-sh-4.3$ type -a cmsos\ncmsos is /mnt/build/davidlt/proot/cmsinst/common/cmsos\ncmsos is /mnt/build/davidlt/proot/cmsinst/bin/cmsos\ncmsos is /cvmfs/cms.cern.ch/common/cmsos\ncmsos is /cvmfs/cms.cern.ch/bin/cmsos\ncmsos is /cvmfs/cms.cern.ch/common/cmsos\ncmsos is /cvmfs/cms.cern.ch/bin/cmsos\n\n-sh-4.3$ head -n3 $(which cmsos)\n### FILE cmsos\n\ncmsos()\n\n-sh-4.3$ cmsos\nError while loading /mnt/build/davidlt/proot/cmsinst/common/cmsos: Exec format error\n```\n\nIf shebang is missing parent shell most likely uses itself as interpreter,\nthus the ./common/cmsos will fail on C Shells (e.g., tcsh).\n\n```\n$ /cvmfs/cms.cern.ch/common/cmsos\nBadly placed ()'s.\n```\n\nAdd a proper sheband to avoid mystery.\n\nSigned-off-by: David Abdurachmanov david.abdurachmanov@gmail.com\n", "branch": "IB/CMSSW_8_1_X/stable", "changed_files": 2, "closed_at": "1456830079", "comments": 6, "commits": 2, "created_at": "1455965927", "deletions": 2, "labels": ["externals-approved", "fully-signed", "orp-pending", "tests-approved"], "merge_commit_sha": "9dd98cd4123f3cb445c5bb651f54f8c8e00e8e4d", "merged_at": "1456830079", "merged_by": "davidlt", "number": 2152, "release-notes": [], "review_comments": 0, "state": "closed", "title": "cmsos.file: add a proper shebang", "updated_at": "1456830080", "user": "davidlt"}