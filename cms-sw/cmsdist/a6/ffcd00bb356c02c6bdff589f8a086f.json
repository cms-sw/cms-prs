{"additions": 2, "auther_ref": "root6-drop-cuda.modulemap", "auther_sha": "b54917b1530b333b7b62915cd074fca7a1276f6f", "author": "cms-sw", "body": "`cuda.pcm` contains ref to the build directory path for `math.h` file\r\n```\r\n[cmsbld@cmsbuild957 lib]$ strings /cvmfs/cms-ib.cern.ch/sw/aarch64/nweek-02885/el8_aarch64_gcc12/lcg/root/6.35.1-7c4ea1a1bc92e150e3e1f567333c632d/lib/cuda.pcm  | grep math.h\r\n/data/cmsbld/jenkins_b/workspace/build-any-ib/w/el8_aarch64_gcc12/external/gcc/12.3.1-40d504be6370b5a30e3947a6e575ca28/bin/../lib/gcc/aarch64-redhat-linux-gnu/12.3.1/../../../../include/c++/12.3.1/math.h\r\n/data/cmsbld/jenkins_b/workspace/build-any-ib/w/el8_aarch64_gcc12/external/gcc/12.3.1-40d504be6370b5a30e3947a6e575ca28/bin/../lib/gcc/aarch64-redhat-linux-gnu/12.3.1/../../../../include/c++/12.3.1/math.h\r\n```\r\n\r\nmay be that is causing various relvals failing for aarch64 [a]. Though x86_64 build of root also contains refs to build directory `math.h` but for some reason relvals does not fail for x86_64.\r\n\r\nThis PR drops the creation of `cuda.pcm` and also deletes `root/etc/cuda.modulemap` to avoid the creation of `cuda.pcm` as runtime. Let see if this fixes the issue with aarch64 relvals\r\n\r\n[a] https://cmssdt.cern.ch/SDT/cgi-bin/logreader/el8_aarch64_gcc12/CMSSW_15_1_ROOT6_X_2025-04-13-2300/pyRelValMatrixLogs/run/7.25_Cosmics_UP25/step2_Cosmics_UP25.log#/\r\n```\r\nfatal error: cannot open file '/data/cmsbld/jenkins_b/workspace/build-any-ib/w/el8_aarch64_gcc12/external/gcc/12.3.1-40d504be6370b5a30e3947a6e575ca28/bin/../lib/gcc/aarch64-redhat-linux-gnu/12.3.1/../../../../include/c++/12.3.1/math.h': No such file or directory\r\n14-Apr-2025 07:55:40 CEST  Closed file file:step1.root\r\n----- Begin Fatal Exception 14-Apr-2025 07:55:40 CEST-----------------------\r\nAn exception of category 'FatalRootError' occurred while\r\n   [0] Constructing the EventProcessor\r\n   [1] Constructing module: class=L2MuonProducer label='hltL2Muons'\r\n   [2] While initializing meta data for branch: L2MuonTrajectorySeedsToManyL2MuonTrajectorySeedsAssociation_hltL2Muons__HLT.\r\n   [3] Calling edm::TypeWithDict::byName()\r\n   Additional Info:\r\n      [a] Getting TClass for edm::AssociationMap<edm::OneToMany<std::vector<L2MuonTrajectorySeed>,std::vector<L2MuonTrajectorySeed>,unsigned int> >\r\n      [b] Fatal Root Error: @SUB=TInterpreter::AutoParse\r\nError parsing payload code for class L2MuonTrajectorySeed with content:\r\n```", "branch": "IB/CMSSW_15_1_X/rootmaster", "changed_files": 1, "closed_at": "1744631197", "comments": 11, "commits": 3, "created_at": "1744607951", "deletions": 5, "labels": ["tests-rejected", "externals-pending", "pending-signatures", "orp-pending"], "number": 9788, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[ROOT6] Instead of creating cuda.pcm delete cuda.modulemap", "updated_at": "1744631203", "user": "smuzaffar"}