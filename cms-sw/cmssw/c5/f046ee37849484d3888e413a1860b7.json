{"additions": 5, "auther_ref": "rth_getPositionLayer", "auther_sha": "97f6dd936337b7a4f46037ddaf84c6078985c7a4", "author": "clelange", "body": "#### PR description:\r\n\r\nThere is a bug in `RecHitTools::getPositionLayer(int layer, bool nose)`: when getting the z position of the wafer, one needs to account for the FH (HGCalSi) offset, starting the layer number at 1 instead of continuing to count up beyond EE.\r\n\r\n#### PR validation:\r\n\r\nRan in D41 (`geometryType_ == 1`) and instead of getting z = 0 for layers > 28, I actually obtained increasing z values:\r\n\r\n```\r\nlayer 1: z = 322.103\r\nlayer 2: z = 323.047\r\nlayer 3: z = 325.073\r\nlayer 4: z = 326.017\r\nlayer 5: z = 328.043\r\nlayer 6: z = 328.987\r\nlayer 7: z = 331.013\r\nlayer 8: z = 331.957\r\nlayer 9: z = 333.983\r\nlayer 10: z = 334.927\r\nlayer 11: z = 336.953\r\nlayer 12: z = 337.897\r\nlayer 13: z = 339.923\r\nlayer 14: z = 340.867\r\nlayer 15: z = 342.893\r\nlayer 16: z = 343.837\r\nlayer 17: z = 345.863\r\nlayer 18: z = 346.807\r\nlayer 19: z = 348.833\r\nlayer 20: z = 349.777\r\nlayer 21: z = 351.803\r\nlayer 22: z = 352.747\r\nlayer 23: z = 354.773\r\nlayer 24: z = 355.717\r\nlayer 25: z = 357.743\r\nlayer 26: z = 358.687\r\nlayer 27: z = 360.713\r\nlayer 28: z = 361.657\r\nlayer 29: z = 367.699\r\nlayer 30: z = 373.149\r\nlayer 31: z = 378.599\r\nlayer 32: z = 384.049\r\nlayer 33: z = 389.499\r\nlayer 34: z = 394.949\r\nlayer 35: z = 400.399\r\nlayer 36: z = 405.849\r\nlayer 37: z = 411.299\r\nlayer 38: z = 416.749\r\nlayer 39: z = 422.199\r\nlayer 40: z = 427.649\r\nlayer 41: z = 436.199\r\nlayer 42: z = 444.749\r\nlayer 43: z = 453.299\r\nlayer 44: z = 461.849\r\nlayer 45: z = 470.399\r\nlayer 46: z = 478.949\r\nlayer 47: z = 487.499\r\nlayer 48: z = 496.049\r\nlayer 49: z = 504.599\r\nlayer 50: z = 513.149\r\n```\r\n\r\nFYI @bsunanda ", "branch": "master", "changed_files": 1, "closed_at": "1563204701", "comments": 20, "commits": 1, "created_at": "1562861609", "deletions": 1, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "21acc72235dce468592ff9ff5a5c5822997e076b", "merged_at": "1563204701", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 27503, "release-notes": [], "review_comments": 2, "state": "closed", "title": "Account for layer offset when using waferZ in new geometry", "updated_at": "1563204701", "user": "clelange"}