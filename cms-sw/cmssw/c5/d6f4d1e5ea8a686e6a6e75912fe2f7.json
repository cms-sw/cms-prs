{"additions": 86, "auther_ref": "mm_scoutingDataFormat_15_0_X", "auther_sha": "002484ca6782d4566a9ef6c7481edb53c732d026", "author": "cms-tsg-storm", "body": "backport of https://github.com/cms-sw/cmssw/pull/48763\r\n\r\n#### PR description:\r\n\r\nThe goal of this PR is to improve the handling of scouting collections in derived data-tiers, after the merge of https://github.com/cms-sw/cmssw/pull/48666.\r\nThe implementation in that PR has two draw-backs:\r\n- the derived dataset events content `outputCommands` statements had duplicated `keep`s in them.\r\n- after the integration of [CMSHLT-3607](https://its.cern.ch/jira/browse/CMSHLT-3607) via https://github.com/cms-sw/cmssw/pull/48719 the collection `hltScoutingRecHitPacker` was missing from `HLTScoutingAll` and there was not a mechanism in place to ensure it gets added to real data event contents but NOT to e.g. `MINIAODSIM`.\r\n\r\nThis PR solves the issues by adding a new set of `outputCommands` called `HLTScoutingExtra` (which contains only the decommissioned scouting collections) and that's what we add to the existing `HLTrigger*` event contents. \r\nTo ensure that the sum of event contents of `HLTScouting` and `HLTScoutingExtra` stays in synch with the intended full list of collections (`HLTScoutingAll`) a new unit test is put into place (`testHLTScoutingEventContent`).\r\n\r\n#### PR validation:\r\n\r\nThe unit test:\r\n\r\n```\r\nscram b runtests_testHLTScoutingEventContent\r\n```\r\nruns fine.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nVerbatim backport of https://github.com/cms-sw/cmssw/pull/48763 for 2025 data-taking operations.\r\n\r\nCc: @silviodonato @elfontan @patinkaew ", "branch": "CMSSW_15_0_X", "changed_files": 4, "comments": 6, "commits": 3, "created_at": "1755599241", "deletions": 19, "labels": ["hlt-pending", "operations-approved", "pending-signatures", "tests-approved", "orp-pending", "backport-ok"], "milestone": "CMSSW_15_0_X", "number": 48765, "release-notes": [], "review_comments": 0, "state": "open", "title": "[15.0.X] Improve HLT Scouting DataFormat event content handing in derived datasets", "updated_at": "1755617823", "user": "mmusich"}