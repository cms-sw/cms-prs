{"additions": 5, "auther_ref": "ubsan-l1-check-nan", "auther_sha": "513cdcdd7ac56f74e1da9a591d5027c2dce9cb05", "author": "smuzaffar", "body": "This PR fixes a runtime error (show in UBSAN IBs [a] workflow 29751.85/step2). This happens with either [rinvapprox](https://github.com/cms-sw/cmssw/blob/master/L1Trigger/TrackFindingTracklet/src/TrackletCalculatorDisplaced.cc#L987) or [d0approx](https://github.com/cms-sw/cmssw/blob/master/L1Trigger/TrackFindingTracklet/src/TrackletCalculatorDisplaced.cc#L989) are `nan`. This change now also check if these variables have finite values. @cms-sw/l1-l2  [TrackletCalculatorDisplaced::LLLSeeding(...)](https://github.com/cms-sw/cmssw/blob/master/L1Trigger/TrackFindingTracklet/src/TrackletCalculatorDisplaced.cc#L372) also have similar code, so let me know we should add these check in there.\r\n\r\nI also move https://github.com/cms-sw/cmssw/blob/master/L1Trigger/TrackFindingTracklet/src/TrackletCalculatorDisplaced.cc#L942-L966 code under `if (settings_.debugTracklet())` condition ( just to avoid running for loops if `settings_.debugTracklet()` is not true\r\n\r\n\r\n[a] https://cmssdt.cern.ch/SDT/cgi-bin/buildlogs/raw/el8_amd64_gcc12/CMSSW_15_0_UBSAN_X_2024-11-22-2300/pyRelValMatrixLogs/run/29751.85_HydjetQMinBias_5519GeV+Run4D110_hi/step2_HydjetQMinBias_5519GeV+Run4D110_hi.log\r\n```\r\nsrc/L1Trigger/TrackFindingTracklet/src/TrackletCalculatorDisplaced.cc:1020:27: runtime error: signed integer overflow: -2147483648 * 2 cannot be represented in type 'int'\r\n    #0 0x1477a984083f in trklet::TrackletCalculatorDisplaced::DDLSeeding(trklet::Stub const*, trklet::L1TStub const*, trklet::Stub const*, trklet::L1TStub const*, trklet::Stub const*, trklet::L1TStub const*) src/L1Trigger/TrackFindingTracklet/src/TrackletCalculatorDisplaced.cc:1020\r\n    #1 0x1477a9af4430 in trklet::TrackletProcessorDisplaced::execute(unsigned int, double, double) src/L1Trigger/TrackFindingTracklet/src/TrackletProcessorDisplaced.cc:296\r\n    #2 0x1477a9494fe8 in trklet::Sector::executeTPD() src/L1Trigger/TrackFindingTracklet/src/Sector.cc:379\r\n    #3 0x1477a99c560c in trklet::TrackletEventProcessor::event(trklet::SLHCEvent&, std::vector<std::vector<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, \r\n```", "branch": "master", "changed_files": 1, "comments": 6, "commits": 1, "created_at": "1732544513", "deletions": 8, "labels": ["l1-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved"], "milestone": "CMSSW_15_0_X", "number": 46794, "release-notes": [], "review_comments": 0, "state": "open", "title": "[UBSAN]Check for finite tracklet seeding or d0 cut", "updated_at": "1732545135", "user": "smuzaffar"}