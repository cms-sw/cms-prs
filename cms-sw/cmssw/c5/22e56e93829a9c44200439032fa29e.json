{"additions": 194, "auther_ref": "modernize_DisappearingMuonsSkimming_13_0_X", "auther_sha": "559f2c274ddfeda22c1074701c485b738833ade3", "author": "mmusich", "body": "backport of https://github.com/cms-sw/cmssw/pull/41225\r\n\r\n#### PR description:\r\n\r\nI noticed that the code introduced in https://github.com/cms-sw/cmssw/pull/40666 could be optimized in a few places, mostly:\r\n  * do not use track matching in dR / dPt when direct comparison of track references is available\r\n  * use range-based loops\r\n  * modernize access to event collections\r\n  * avoid repeated calculations\r\n  * avoid code duplication\r\n  * use `deltaR2` in lieu of `deltaR`\r\n  \r\nI propose these optimizations here, as well as a test configuration that I have been using to make sure the update code results in exactly the same output as the old one.\r\n\r\n#### PR validation:\r\n\r\nRun the `Configuration/Skimming/test/test_DisMuon_cfg.py` file introduced here in a vanilla `CMSSW_13_1_X_2023-03-27-1100` release and in this branch and checked that the exact same events are selected.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nVerbatim backport of https://github.com/cms-sw/cmssw/pull/41225, as request in https://github.com/cms-sw/cmssw/pull/41225#issuecomment-1498725573", "branch": "CMSSW_13_0_X", "changed_files": 3, "comments": 2, "commits": 5, "created_at": "1681191504", "deletions": 144, "labels": ["pending-signatures", "orp-pending", "pdmv-pending", "tests-started", "backport"], "milestone": "CMSSW_13_0_X", "number": 41311, "release-notes": [], "review_comments": 0, "state": "open", "title": "[13.0.X] Modernize / optimize `DisappearingMuonsSkimming`", "updated_at": "1681191607", "user": "mmusich"}