{"additions": 11, "auther_ref": "11_2_X_fix-lostTracks-lostInnerHits", "auther_sha": "8fb2fb45949b5cf7cb589cc5f234e3114896c8de", "author": "elusian", "body": "#### PR description:\r\n\r\nThe lostTracks producer has a bug that leaves the `lostInnerHits` of the `PackedCandidate` unset (and thus at its default value of `validHitInFirstPixelBarrelLayer`). Other than in `lostInnerHits` the bug propagates in the number of valid pixel hits and the number of pixel and tracker layers with measurements in the `HitPattern` of the `bestTrack` of the candidate.\r\n\r\nAs agreed with xPOG and TAU POG ( @mariadalfonso  , @gouskos  , @mbluj  ), this PR fixes the bug by adding the call to `setLostInnerHits` as the code from the packedPFCandidates producer does. This fix has been checked running the workflow 136.8311 and the issue was solved (see attached figures in the PR on master).\r\n\r\n#### PR validation:\r\n\r\nThis PR has been validated with `runTheMatrix.py -l limited -i all --ibeos` and all checks are ok.\r\nThe final output is\r\n35 34 33 25 16 4 1 1 1 tests passed, 0 0 0 0 0 0 0 0 0 failed\r\nIn particular the DQM output of 136.8311 shows the differences which are expected: inside `Tracking/PackedCandidate/lostTracks`, in `diffLostInnerHits`, `diffHitPatternNumberOfLostPixelHits`, `diffHitPatternHasValidHitInFirstPixelBarrel`, `diffHitPatternNumberOfValidPixelHits`, `diffHitPatternPixelLayersWithMeasurement`, `diffHitPatternTrackerLayersWithMeasurement`, see the attached plots in the PR on master\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nThis PR is a backport of #32814, needed for the reminiAOD for HeavyIon.\r\n", "branch": "CMSSW_11_2_X", "changed_files": 1, "closed_at": "1613044576", "comments": 10, "commits": 1, "created_at": "1612884042", "deletions": 0, "labels": ["bug-fix", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "631a4f9d85b030b2fc4c69a8c8cab9092d441bd0", "merged_at": "1613044576", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 32853, "release-notes": [], "review_comments": 0, "state": "closed", "title": "fix lostTracks producer not setting lostInnerHits", "updated_at": "1613044576", "user": "elusian"}