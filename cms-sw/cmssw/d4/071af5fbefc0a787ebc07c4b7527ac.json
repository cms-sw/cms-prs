{"additions": 5, "auther_ref": "emptyPlots_13_3_X", "auther_sha": "2eaa8a0e8d59d83de41727846c838e4a45abb0d6", "author": "alejands", "body": "#### PR description:\r\n\r\nECAL DQM plots were showing up empty in GPU WFs in the most recent CMSSW IB releases. This was due to the introduction of a dummy `EcalRawData` collection in PR https://github.com/cms-sw/cmssw/pull/42844, which was done in order to get rid of the error messages in issue https://github.com/cms-sw/cmssw/issues/42720.\r\n\r\nThe problem is that most ECAL DQM tasks implement a `filterRunType()` function that uses `EcalRawData` to determine whether or not the task should run. It appears that for MC the run type is set to -1 (at least on GPUs), which is not a defined run type. This means that all tasks with a `filterRunType()` function are not scheduled to run.\r\n\r\nThe solution implemented is to skip `EcalRawData` using the new `skipCollections` parameter introduced in https://github.com/cms-sw/cmssw/pull/42848. This is done using the `gpu` modifier to skip the collection for all GPU WFs, not just those used for ECAL GPU validation.\r\n\r\nThis is only to be used as long as the GPU unpacker unpacks a dummy `EcalRawData` collection.\r\n\r\nIt would be great if this could be integrated before 13_3_0_pre4 gets cut.\r\n\r\n#### PR validation:\r\n\r\nValidated on WF `12434.513`. Plots are now filled as expected.\r\n\r\n```\r\nrunTheMatrix.py --what gpu -l 12434.513\r\n```\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nN/A", "branch": "master", "changed_files": 1, "closed_at": "1698405476", "comments": 22, "commits": 1, "created_at": "1697694578", "deletions": 0, "labels": ["dqm-approved", "fully-signed", "tests-approved", "bug-fix", "orp-approved", "code-checks-approved", "ecal"], "merge_commit_sha": "0d6cd59385c9ce8548522462c30f1293ab8b119c", "merged_at": "1698405476", "merged_by": "cmsbuild", "milestone": "CMSSW_13_3_X", "number": 43058, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Skip EcalRawData collection in ECAL DQM in GPU WFs", "updated_at": "1698405476", "user": "alejands"}