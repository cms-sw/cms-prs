{"additions": 389, "auther_ref": "from113X_202101191100_nanojme_sizereduction", "auther_sha": "6e83ab4ee2d62986883fb4871cf4961ba420bd83", "author": "nurfikri89", "body": "#### PR description:\r\n\r\nThis PR is to reduce the size of custom JME NanoAODs. The following changes are made:\r\n- Check that `npuProd[ibx].getPU_pT_hats()` size is more than 0 in `PhysicsTools/NanoAOD/plugins/NPUTablesProducer.cc`.\r\n- Switch on storing Parton Shower (PS) weights.\r\n- b-tagging algorithm outputs are saved for AK4 jets with pT > 15 GeV.\r\n- Low-level input variables for PileUp jet ID and Quark-Gluon Likelihood are saved for AK4 jets with pT > 10 GeV.\r\n- Remove AK4 PF and AK8 PF jet collections.\r\n- Add separate AK8 GEN and AK8 Puppi jet collections for JEC studies. Minimal information are saved.\r\n- For reclustered GEN jet collections, the minimum pT at the jet clustering level uses the default value (3 GeV) in `RecoJets/JetProducers/python/ak4GenJets_cfi.py`.\r\n- For reclustered reco-level jet collections, the minimum pT at the jet clustering level is set to be 0. Then, only jets with (JEC-corrected) pT > 8 GeV are saved. Additionally for MC samples, jets with pT < 8 GeV are saved if they are matched to GEN jets.\r\n\r\n\r\nWith this PR, the event size is now reduced to **6.42 kb/event** from **9.32 kb/event**. The comparison was made using 10K events from a TTJets RunIISummer19UL17MiniAOD sample. The changes in this PR was discussed in the 13/01/2021 XPOG meeting [1]. \r\n\r\n[1] https://indico.cern.ch/event/978436/\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nOnce merged, this PR needs to be backported to 10_6_X,  for the ultra legacy campaigns.", "branch": "master", "changed_files": 3, "closed_at": "1611878705", "comments": 15, "commits": 7, "created_at": "1611401198", "deletions": 203, "labels": ["code-checks-approved", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved", "xpog-approved"], "merge_commit_sha": "3aa05aa563be2302f8c68373732db3718ee2aced", "merged_at": "1611878705", "merged_by": "cmsbuild", "milestone": "CMSSW_11_3_X", "number": 32722, "release-notes": [], "review_comments": 2, "state": "closed", "title": "[JME NanoAOD] Changes for event size reduction", "updated_at": "1611878705", "user": "nurfikri89"}