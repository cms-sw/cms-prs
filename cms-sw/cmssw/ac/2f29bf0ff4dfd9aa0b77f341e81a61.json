{"additions": 990, "auther_ref": "from-CMSSW_12_0_X_2021-05-28-1100", "auther_sha": "9b89607f39efaff9a7ecda4122d2e72b1570b32f", "author": "dildick", "body": "#### PR description:\r\n\r\nMore prep work for the Run-3 GEM-CSC integrated local trigger. Follow-up of https://github.com/cms-sw/cmssw/pull/33617\r\n* Move CCLUT into separate class `ComparatorCodeLUT`\r\n* Separate class to match GEM clusters to CSC TPs `CSCGEMMatcher` (at the moment it's all contained in the TMB code)\r\n* Revert last piece of #29562 in the anode processor \r\n* Add more useful features in the `GEMInternalCluster`\r\n* Small bugfix for the CCLUT algorithm where rarely the half-strip number was assigned 65535 or some other unphysical value (see example below). \r\n```\r\n%MSG-e LCTQualityControl:   CSCTriggerPrimitivesProducer:cscTriggerPrimitiveDigis 02-Jun-2021 15:56:23 CDT  Run: 341761 Event: 47\r\nCSCCLCTDigi with invalid half-strip: 65535; allowed [0, 31]\r\n%MSG\r\n%MSG-e LCTQualityControl:   CSCTriggerPrimitivesProducer:cscTriggerPrimitiveDigis 02-Jun-2021 15:56:23 CDT  Run: 341761 Event: 47\r\nInvalid stub in  E:1 S:1 R:1 C:2 L:0 (1 errors):\r\nCSC CLCT #1: Valid = 1 Quality = 5 Pattern = 3 StripType = 1 Bend = 1 Strip = 65535 KeyStrip = 31 CFEB = 1 BX = 7 Comp Code 3668\r\n%MSG\r\n```\r\n\r\n#### PR validation:\r\n\r\nTested on 10k events taken with the B904 test-stand. There should be no changes to workflows\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nN/A\r\n\r\nBefore submitting your pull requests, make sure you followed this checklist:\r\n- verify that the PR is really intended for the chosen branch\r\n- verify that changes follow [CMS Naming, Coding, And Style Rules](http://cms-sw.github.io/cms_coding_rules.html)\r\n- verify that the PR passes the basic test procedure suggested in the [CMSSW PR instructions](https://cms-sw.github.io/PRWorkflow.html)\r\n", "branch": "master", "changed_files": 20, "closed_at": "1623134323", "comments": 19, "commits": 11, "created_at": "1622773385", "deletions": 315, "labels": ["code-checks-approved", "fully-signed", "l1-approved", "orp-approved", "simulation-approved", "tests-approved"], "merge_commit_sha": "ddcf4ece292ba38c5a260f9abf5335178fe4827c", "merged_at": "1623134323", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 33974, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Prep work for the Run-3 GEM-CSC integrated local trigger (III)", "updated_at": "1623134323", "user": "dildick"}