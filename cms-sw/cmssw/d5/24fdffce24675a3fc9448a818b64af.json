{"additions": 2, "auther_ref": "FixForValgrindInvalidRead", "auther_sha": "6379dd160d6d3fa9b35c39899cc7fb83d220f088", "author": "wmtan", "body": "This is a fix for a valgrind error discovered by Vincenzo Innocente.  The function TypeWithDict::name() returns a string by value.  A caller of this function, the free function typeCode(), saved the value of the char\\* to the embedded C string without saving the string itself.  In those cases where TypeWithDict returns a temporary (as it will when the type is a pointer), the stored char\\* gets used after the temporary string is reclaimed.  The fault is in the caller.  This pull request has the caller save the returned string on the stack so that it does not get prematurely reclaimed.\nThis problem was introduced in 7_0_X.  A separate pull request will be issued for 7_0_X.\n", "branch": "CMSSW_7_1_X", "changed_files": 1, "closed_at": "1395049895", "comments": 3, "commits": 1, "created_at": "1394841793", "deletions": 1, "labels": ["analysis-pending", "pending-signatures", "reconstruction-pending", "tests-approved"], "merge_commit_sha": "565266250481bbf84486dff3df3f81932dc2436d", "merged_at": "1395049895", "merged_by": "ktf", "milestone": "CMSSW_7_1_0_pre5", "number": 2877, "release-notes": [], "review_comments": 0, "state": "closed", "title": "String returned by value must be stored", "updated_at": "1403332697", "user": "wmtan"}