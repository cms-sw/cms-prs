{"additions": 1, "auther_ref": "fix-unittest-deps", "auther_sha": "4627d00724cfee1acab4f11f026d28c6d51c135d", "author": "smuzaffar", "body": "#### PR description:\r\n\r\nUnit test `ReadStreamerFile` reads a data files which is generated by `WriteStreamerFile` . This PR makes sure that `scram` runs `WriteStreamerFile` before `ReadStreamerFile`\r\n\r\nFYI @Dr15Jones \r\n\r\n#### PR validation:\r\n\r\nbuild and run locally ( for CentOs8)\r\n\r\n[a]\r\n```\r\n===== Test \"WriteStreamerFile\" ====\r\nTrying to Write a Streamer file\r\nTrying to Write Out The Init message into Streamer File: teststreamfile.dat\r\nWriting Event# : 2000 To Streamer file\r\nWriting Event# : 2001 To Streamer file\r\nWriting Event# : 2002 To Streamer file\r\nWriting Event# : 2003 To Streamer file\r\nWriting Event# : 2004 To Streamer file\r\nWriting Event# : 2005 To Streamer file\r\nWriting Event# : 2006 To Streamer file\r\nWriting Event# : 2007 To Streamer file\r\nWriting Event# : 2008 To Streamer file\r\nWriting Event# : 2009 To Streamer file\r\n\r\n---> test WriteStreamerFile succeeded\r\n \r\n^^^^ End Test WriteStreamerFile ^^^^\r\nPackage IOPool/Streamer: Running test ReadStreamerFile\r\n \r\n===== Test \"ReadStreamerFile\" ====\r\n27-Nov-2019 16:05:03 CET  Initiating request to open file teststreamfile.dat\r\n27-Nov-2019 16:05:03 CET  Successfully opened file teststreamfile.dat\r\nTrying to Read The Init message from Streamer File: teststreamfile.dat\r\n27-Nov-2019 16:05:03 CET  Closed file teststreamfile.dat\r\n27-Nov-2019 16:05:03 CET  Initiating request to open file file:teststreamfile.dat\r\n27-Nov-2019 16:05:03 CET  Successfully opened file file:teststreamfile.dat\r\nTrying to Read The Init message from Streamer File: teststreamfile.dat\r\n27-Nov-2019 16:05:03 CET  Closed file file:teststreamfile.dat\r\n27-Nov-2019 16:05:03 CET  Initiating request to open file file:teststreamfile.dat\r\n27-Nov-2019 16:05:03 CET  Successfully opened file file:teststreamfile.dat\r\nFile Boundary has just been crossed, a new file is read\r\nA new INIT Message is available\r\nEvent from next file is also avialble\r\n TOTAL Events Read: 20\r\n27-Nov-2019 16:05:03 CET  Closed file file:teststreamfile.dat\r\nException caught:  An exception of category 'LogicalFileNameNotFound' occurred.\r\nException Message:\r\nStreamerInputFile::openStreamerFile()\r\nLogical file name 'teststreamfile.dat' was not found in the file catalog.\r\nIf you wanted a local file, you forgot the 'file:' prefix\r\nbefore the file name in your configuration file.\r\n\r\n\r\nReadStreamerFile TEST DONE\r\n\r\n\r\n---> test ReadStreamerFile succeeded\r\n\r\n```", "branch": "master", "changed_files": 1, "closed_at": "1574926738", "comments": 11, "commits": 1, "created_at": "1574863678", "deletions": 0, "labels": ["code-checks-approved", "comparison-available", "core-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "c20438a6584be40f6639a81b261d3cdcd14702a1", "merged_at": "1574926738", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 28491, "release-notes": [], "review_comments": 0, "state": "closed", "title": "make sure to run WriteStreamerFile before ReadStreamerFile", "updated_at": "1574926738", "user": "smuzaffar"}