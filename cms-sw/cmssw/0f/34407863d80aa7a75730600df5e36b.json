{"additions": 57, "auther_ref": "messageLoggerContextForProcessBlock", "auther_sha": "5a777f0cf03a2960961fb645015cf5da007eea09", "author": "wddgit", "body": "#### PR description:\r\n\r\nAffects only MessageLogger context strings during ProcessBlock transitions.\r\n\r\nChange the MessageLogger code so that it handles the ProcessBlock case in a manner as close as possible to the way it is handled for Runs. Before this it was more similar to the way beginJob was handled. \r\n\r\nThe main practical difference is that this can now properly deal with the case where a module ProcessBlock function goes into a wait that could allow other TBB tasks to run and another module runs its ProcessBlock transition before execution goes back to the original module and we want the context to be reset again for the original module. This does not currently happen anywhere, but it is possible. Logically the code is also cleaner and easier to understand if it is the same as in the Run case.\r\n\r\n#### PR validation:\r\n\r\nRelies on existing tests. One unit test is updated because of a minor change to make the context string more similar to that used for Runs.\r\n", "branch": "master", "changed_files": 3, "closed_at": "1626390035", "comments": 7, "commits": 1, "created_at": "1626368497", "deletions": 35, "labels": ["code-checks-approved", "core-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "04500395158376e2ffb38c060ccd14956bd7b6d4", "merged_at": "1626390035", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 34506, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Improve MessageLogger Context  Handling for ProcessBlock Transitions", "updated_at": "1626390035", "user": "wddgit"}