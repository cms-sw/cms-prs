{"additions": 17, "auther_ref": "PATTriggerFullModeZeroFilterFix_1130pre6", "auther_sha": "43d08718434448cffaeb1a7519e416b28dab59b0", "author": "Sam-Harper", "body": "#### PR description:\r\n\r\nAs reported by @aescalante , PATTriggerProducer throws an out of bounds exception when run in \" onlyStandAlone = cms.bool(False)\" mode. \r\n\r\nThis is because there code assumes an HLT path will have at least one filter and has no protections for the case of a path having no filters. While this assumption seems reasonable, all HLT paths should have at least one filter (eg a prescale module) although personally I wouldnt assume this, in practice it fails as things like reconstruction_step and digi_step are also paths and have no filters\r\n\r\nTherefore if PATTriggerProducer is run on data in full mode where the HLT was run together with other steps, it will fail.  Note in production we use onlyStandAlone=True\r\n\r\nThis PR checks that a path has filters before accessing them. \r\n\r\nNo physics changes are expected, only  changes is now workflows that crashed should now succeed. \r\n\r\n#### PR validation:\r\n\r\nTest config from Alberto now runs.\r\n\r\n", "branch": "master", "changed_files": 1, "closed_at": "1630106722", "comments": 7, "commits": 1, "created_at": "1630058789", "deletions": 11, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "5c28861756ecb60c0dcffbdb62f84bd4dd888749", "merged_at": "1630106721", "merged_by": "cmsbuild", "milestone": "CMSSW_12_1_X", "number": 35043, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Adding protections to PATTriggerProducer when the path has zero filters: 12_1", "updated_at": "1630106722", "user": "Sam-Harper"}