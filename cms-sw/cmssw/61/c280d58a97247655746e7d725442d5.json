{"additions": 22, "auther_ref": "mm_improve_evtContent_ALCARECOTkAlHLTTracks_v2_15_0_X", "auther_sha": "09c3b41529b45b3925ecdb2ad484a5f0f6088063", "author": "mmusich", "body": "backport of https://github.com/cms-sw/cmssw/pull/48474\r\n\r\n#### PR description:\r\n\r\nThis PR is a follow-up to PR https://github.com/cms-sw/cmssw/pull/46888 which introduced the High Granularity Tracker Alignment Prompt Calibration Loop for HLT alignment conditions. In that PR two new flavours of ALCARECO were introduced `TkAlHLTTracks` and `TkAlHLTTracksZMuMu`. \r\nI add in this PR the `hltPixelVertices` collection to the list of HLT products saved in both ALCARECO flavours.\r\nThen I profit of the existing machinery from `AlignmentTracksFromVertexSelector` in order to save also all the pixel tracks associated to the `hltPixelVertex` closest in space to the di-muon decay vertex selected by `TkAlHLTTracksZMuMu` (not necessarily the hardest in the event).\r\nIn this way it would be possible to recompute offline the vertex with different calibration constants and measure the impact of that. \r\nI profit of this PR to introduce in commit 6d243a77aa187c2974399eb339bed912dcb61c64 a small bug-fix in order to consume an intermediated collection only when it's needed. \r\n\r\n#### PR validation:\r\n\r\nRun successfully the following command :\r\n\r\n```bash\r\n#!/bin/bash -ex\r\n\r\ncmsDriver.py testReAlCaHLT \\\r\n\t     -s ALCA:TkAlHLTTracks+TkAlHLTTracksZMuMu  \\\r\n\t     --conditions 150X_dataRun3_HLT_v1 \\\r\n\t     --scenario pp \\\r\n\t     --data \\\r\n\t     --era Run3_2025 \\\r\n\t     --datatier ALCARECO \\\r\n\t     --eventcontent ALCARECO \\\r\n\t     --processName=ReAlCa \\\r\n\t     -n 10000 \\\r\n\t     --dasquery='file dataset=/HLTMonitor/Run2025C-Express-v2/FEVTHLTALL site=T2_CH_CERN' \\\r\n\t     --nThreads 4 >& ReAlCa.log\r\n```\r\n\r\non 10k input events:\r\n - 9900 events are selected by `ALCA:TkAlHLTTracks`. The size of the output file `TkAlHLTTracks.root` goes form `348M` to `362M` (i.e. a **+4.02%** increase)\r\n - 706 events are selected by `ALCA:TkAlHLTTracksZMuMu`. The size of the output file `TkAlHLTTracksZMuMu.root` goes from `4.2M` to `7.9M` (i.e. a **+88%** increase -- though the event size per event remains fairly small 11kB/event).\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nVerbatim backport of https://github.com/cms-sw/cmssw/pull/48474 to CMSSW,_15_0_X for 2025 data-taking operations. \r\n", "branch": "CMSSW_15_0_X", "changed_files": 4, "closed_at": "1751894855", "comments": 9, "commits": 3, "created_at": "1751723178", "deletions": 4, "labels": ["alca-approved", "fully-signed", "tests-approved", "orp-approved", "backport-ok"], "merge_commit_sha": "64e9ffec61010c382b8f4343d22c4f8a32614480", "merged_at": "1751894855", "merged_by": "cmsbuild", "milestone": "CMSSW_15_0_X", "number": 48486, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[15.0.X] Improved Event Content for the `TkAlHLT*` ALCARECO", "updated_at": "1751894855", "user": "mmusich"}