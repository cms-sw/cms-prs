{"additions": 815, "auther_ref": "association_cut_update", "auther_sha": "db0a07d333d7aeb3379301bf49139be5a5d63a3d", "author": "CTPPS", "body": "\r\n#### PR description:\r\n\r\nThe idea behind this pull request is to improve the association cuts mechanism by providing better and more flexible\r\nway of handling association cuts - the rules to match the local tracks from the near RP to those from the far RP.\r\n\r\nCode changes for association cuts include\r\n* cuts (mean and threshold) can be functions of proton kinematics (x_near and y_near) and xangle.\r\n* cuts can be stored as a standard EventSetup object. Can be saved in the database. Can be associated with arbitrary IOV\r\n\r\nThe update is fully backward compatible - we expect no changes for Run2 workflows. The new flexibility is only exploited in Run3 configurations.\r\n\r\nOnce this PR is merged, we plan to upload the cuts into the DB. Eventually, we plan to issue a small follow PR where the cuts are consumed from the DB in the standard reco workflows. \r\n\r\nPR documentation includes:\r\n\r\n[1_sroka_pps_association_cuts.pdf](https://github.com/cms-sw/cmssw/files/7153919/1_sroka_pps_association_cuts.pdf)\r\n\r\n[2_kaspar_pps_association_cuts.pdf](https://github.com/cms-sw/cmssw/files/7153926/2_kaspar_pps_association_cuts.pdf)\r\n\r\n\r\n#### PR validation:\r\n\r\nThe plots below compare results before (blue solid) and after this PR (red dashed):\r\n\r\n1. for Run2 data reco: [reco_cmp.pdf](https://github.com/cms-sw/cmssw/files/7153933/reco_cmp.pdf)\r\n* no difference as expected\r\n\r\n2. for direct simulation: [dirsim_cmp.pdf](https://github.com/cms-sw/cmssw/files/7153937/dirsim_cmp.pdf)\r\n* no difference for Run2 workflows\r\n* the difference in 2021 row is due to [#35177](https://github.com/cms-sw/cmssw/pull/35177) (which is not included in CMSSW_12_1_0_pre2 used as the baseline)\r\n\r\n\r\n\r\n", "branch": "master", "changed_files": 31, "closed_at": "1632265666", "comments": 34, "commits": 8, "created_at": "1631526799", "deletions": 191, "labels": ["alca-approved", "dqm-approved", "reconstruction-approved", "fully-signed", "tests-approved", "db-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "4a8f1066b3360297ca6323674ba19bce11dd0f08", "merged_at": "1632265666", "merged_by": "cmsbuild", "milestone": "CMSSW_12_1_X", "number": 35248, "release-notes": [], "review_comments": 0, "state": "closed", "title": "CT-PPS: Association cut update", "updated_at": "1632265667", "user": "sgrzegorz"}