{"additions": 1, "auther_ref": "12_4_X_HGPCL_fixAlignedCounter", "auther_sha": "7e6eae43e64800548f52f289166a68a912082f99", "author": "dmeuser", "body": "Backport of https://github.com/cms-sw/cmssw/pull/39707\r\n\r\n#### PR description:\r\n\r\nWith this PR an inconsistency in the derivation of the number of aligned modules is fixed. The number of aligned modules is required in the new thresholds logic used for the HG PCL alignment. Without the fix only modules, without entries in the binary files, were counted as non-aligned. Now also modules, which do not fulfill the N_hits requirement of MillePede, are counted as non-aligned.\r\n\r\n#### PR validation:\r\n\r\nThe PR was validated by rerunning the HG PCL alignment for one recent run (360130) using the following two commands:\r\n```\r\ncmsDriver.py step3 -s ALCA:PromptCalibProdSiPixelAliHG --conditions 124X_dataRun3_Express_v5 --datatier ALCARECO --eventcontent ALCARECO --triggerResultsProcess RECO --dasquery=\"file dataset=/StreamExpress/Run2022E-TkAlMinBias-Express-v1/ALCARECO run=360130\" --processName=ReALCA -n -1\r\n\r\ncmsDriver.py step7 -s ALCAHARVEST:SiPixelAliHG --conditions 124X_dataRun3_Express_v5 --scenario pp --data --filein file:PromptCalibProdSiPixelAliHG.root\r\n```\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\nBackport of https://github.com/cms-sw/cmssw/pull/39707 which is needed for the HG PCL alignment running on Tier-0.\r\n\r\n@mmusich, @connorpa, @antoniovagnerini, @consuegs", "branch": "CMSSW_12_4_X", "changed_files": 1, "closed_at": "1665722932", "comments": 9, "commits": 1, "created_at": "1665575499", "deletions": 2, "labels": ["alca-approved", "fully-signed", "tests-approved", "bug-fix", "orp-approved", "backport-ok", "trk"], "merge_commit_sha": "563e3e2daea60fc1ac340955bbfcb3105c7f3f52", "merged_at": "1665722932", "merged_by": "cmsbuild", "milestone": "CMSSW_12_4_X", "number": 39708, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[12.4.X] Fix number of aligned modules for HG PCL Tracker alignment", "updated_at": "1665722933", "user": "dmeuser"}