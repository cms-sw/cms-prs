{"additions": 58, "auther_ref": "from-CMSSW_9_1_0_pre3-bugfixes-for-high-pu-running", "auther_sha": "2f28d9bbe7e441f024c2854c8b71c8ba191c7fa3", "author": "dildick", "body": "Last week Stefan Piperov reported that the PU-samples with the D12 geometry crash with an error rate of 85% in the DIGI step with error\r\n<PRE>\r\ncmsRun1\r\nFatal Exception (Exit Code: 8001)\r\nAn exception of category 'InvalidDetId' occurred while\r\n   [0] Processing  Event run: 1 lumi: 181 event: 9005 stream: 0\r\n   [1] Running path 'L1simulation_step'\r\n   [2] Calling method for module \r\nCSCTriggerPrimitivesProducer/'simCscTriggerPrimitiveDigis'\r\nException Message:\r\nGEMDetId ctor: det: 0 subdet: 0 is not a valid GEM id\r\n</PRE>\r\n\r\nAfter investigation it was found that the pad DetIds sometimes get corrupted. I put in place a few checks to ensure that the constructor is not called when the DetId is not a GEMDetId. \r\n\r\nThis update needs to be included in 91X and 92X.\r\n\r\n@calabria", "branch": "master", "changed_files": 4, "closed_at": "1495111586", "comments": 22, "commits": 3, "created_at": "1494858084", "deletions": 43, "labels": ["comparison-available", "dqm-pending", "l1-pending", "orp-pending", "pending-signatures", "tests-approved", "upgrade-approved"], "merge_commit_sha": "c7c87d8100aef2265d8b56866805eb6f3be5007a", "merged_at": "1495111586", "merged_by": "davidlange6", "milestone": "CMSSW_9_2_X", "number": 18743, "release-notes": [], "review_comments": 0, "state": "closed", "title": "CSC TP bugfixes for high PU running", "updated_at": "1495119762", "user": "dildick"}