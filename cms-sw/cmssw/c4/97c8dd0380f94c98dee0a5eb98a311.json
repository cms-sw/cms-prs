{"additions": 237, "auther_ref": "makeNanoDQMIOwork", "auther_sha": "cf4488383f6de403c49d5276601871ae69ab37c6", "author": "jfernan2", "body": "#### PR description:\r\n\r\nDuring the testing of https://github.com/cms-sw/cmssw/pull/34220 , which introduces a new pseudo data Tier based on DQMIO format but selecting a dedicated list of MEs with single Lumisection granularity, some MEs across several subsystems were crashing offline workflows since they construct plots for quantities vs LS at the end of runs. These plots, despite being perfectly valid in Offline DQM, cannot be saved with single LS granularity. Hence, this PR tries to disable them when the option \r\nsaveByLumi is enabled in DQMServices/Core/python/DQMStore_cfi.py propagating this situation with an untracked parameter to the corresponding DQM subsystem module.\r\n\r\nThis solution keeps the usual working functionality in DQM (per Run saving) leaving the modules untouched while preventing crashes in MEs which cannot be saved on a LS by LS basis. I am open to any other suggestion on how to deal in this situation though.\r\n\r\nCrash message without this PR when perLS is enabled is: \r\n\"Error is ME not backed by any data\"\r\nfrom:\r\nhttps://github.com/cms-sw/cmssw/blob/6d2f66057131baacc2fcbdd203588c41c885b42c/DQMServices/Core/interface/MonitorElement.h#L157\r\n\r\nInfo about nanoDQMIO format: https://twiki.cern.ch/twiki/bin/view/CMS/PerLsDQMIO\r\n\r\nMEs which were crashing when perLS was enabled without this PR: https://docs.google.com/spreadsheets/d/1pDiBf00T033obPki35FG_hJipDbXp0Z0JhtIHtn_8Mo/edit?usp=sharing\r\n\r\n#### PR validation:\r\n\r\nrunTheMatrix.py -l all  with  --customise_commands=process.DQMStore.saveByLumi = True", "branch": "master", "changed_files": 29, "closed_at": "1626129966", "comments": 40, "commits": 18, "created_at": "1625147958", "deletions": 141, "labels": ["code-checks-approved", "dqm-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "b5a6b2210bbd0fe8c9a76441931ed85eef173589", "merged_at": "1626129966", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 34301, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[DQM] Make nanoDQMIO work", "updated_at": "1626129966", "user": "jfernan2"}