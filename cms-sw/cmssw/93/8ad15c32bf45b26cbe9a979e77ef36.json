{"additions": 1, "auther_ref": "fix-test_MpsWorkFlow", "auther_sha": "6bd5d30d0b2c625ad9a3e35531d65e3d35435b9f", "author": "smuzaffar", "body": "test_MpsWorkFlow fails during PR tests[a] if we build full cmssw. In this case we run \r\n```\r\ngit cms-addpkg *\r\n``` \r\nwhich add `/*/` in `sparse-checkout` file instead of  `/Alignment/` or `/Alignment/MillePedeAlignmentAlgorithm/` . I think we can just check if  `$CMSSW_BASE/src//Alignment/MillePedeAlignmentAlgorithm` exists instead of looking in sparse-checkout file\r\n\r\n[a]\r\n```\r\n>>> Created new campaign: mp5188\r\n    - updated campaign list 'MP_ali_list.txt'\r\nTraceback (most recent call last):\r\n  File \"CMSSW_11_0_ROOT6_X_2019-10-09-2300/bin/slc7_amd64_gcc820/mps_setup_new_align.py\", line 258, in <module>\r\n    main()\r\n  File \"CMSSW_11_0_ROOT6_X_2019-10-09-2300/bin/slc7_amd64_gcc820/mps_setup_new_align.py\", line 102, in main\r\n    copy_default_templates(args, next_campaign)\r\n  File \"CMSSW_11_0_ROOT6_X_2019-10-09-2300/bin/slc7_amd64_gcc820/mps_setup_new_align.py\", line 209, in copy_default_templates\r\n    shutil.copy(os.path.join(default_conf_dir, f), next_campaign)\r\n  File \"slc7_amd64_gcc820/external/python/2.7.15-pafccj/lib/python2.7/shutil.py\", line 133, in copy\r\n    copyfile(src, dst)\r\n  File \"slc7_amd64_gcc820/external/python/2.7.15-pafccj/lib/python2.7/shutil.py\", line 96, in copyfile\r\n    with open(src, 'rb') as fsrc:\r\nIOError: [Errno 2] No such file or directory: 'src/Alignment/MillePedeAlignmentAlgorithm/templates/universalConfigTemplate.py'\r\n\r\n---> test test_MpsWorkFlow had ERRORS\r\n```", "branch": "master", "changed_files": 1, "closed_at": "1571033228", "comments": 13, "commits": 1, "created_at": "1570711169", "deletions": 1, "labels": ["alca-approved", "code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "28ee89b235caa54439092c0de66c224a576b2923", "merged_at": "1571033228", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 28150, "release-notes": [], "review_comments": 0, "state": "closed", "title": "fix unit test test_MpsWorkFlow", "updated_at": "1571033228", "user": "smuzaffar"}