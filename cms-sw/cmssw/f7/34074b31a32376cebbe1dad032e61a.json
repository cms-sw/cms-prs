{"additions": 3, "auther_ref": "111_DisableOptionsLHESource", "auther_sha": "05ceb2a980fdfc68cdaed78727013ac53a712c0a", "author": "srimanob", "body": "#### PR description:\r\nWhen cmsDriver.py is used with LHESource, it currently dumps with illegal parameters in process.source. This is an issue when LHE is used as a source for steps in private MC (not convert LHE to EDM first).\r\n\r\n`cmsDriver.py Configuration/GenProduction/python/ThirteenTeV/Hadronizer/Hadronizer_TuneCP5_13TeV_generic_LHE_pythia8_cff.py --filein file:1000GeV_SpinHalf_100.lhe --fileout file:RAW.root --mc --eventcontent PREMIXRAW --datatier GEN-SIM-RAW --conditions 106X_mc2017_realistic_v6 --step GEN,SIM,DIGI,DATAMIX,L1,DIGI2RAW,HLT:@relval2017 --beamspot Realistic25ns13TeVEarly2017Collision --procModifiers premix_stage2 --datamix PreMix --era Run2_2017 --nThreads 8 --geometry DB:Extended --pileup_input \"dbs:/RelValPREMIXUP17_PU25/CMSSW_10_6_1-PU25ns_106X_mc2017_realistic_v6_UL17-v1/PREMIX\" --python_filename GENToHLT_LHE_cfg.py -n -1 --no_exec`\r\n\r\nCfg file:\r\n> process.source = cms.Source(\"LHESource\",\r\n>     dropDescendantsOfDroppedBranches = cms.untracked.bool(False),\r\n>     fileNames = cms.untracked.vstring('file:1000GeV_SpinHalf_100.lhe'),\r\n>     inputCommands = cms.untracked.vstring(\r\n>         'keep *', \r\n\r\nError:\r\n> ----- Begin Fatal Exception 15-May-2020 22:03:51 CEST-----------------------\r\n> An exception of category 'Configuration' occurred while\r\n>    [0] Constructing the EventProcessor\r\n>    [1] Validating configuration of input source of type LHESource\r\n> Exception Message:\r\n> Illegal parameters found in configuration.  The parameters are named:\r\n>  'dropDescendantsOfDroppedBranches'\r\n>  'inputCommands'\r\n> You could be trying to use parameter names that are not\r\n> allowed for this plugin or they could be misspelled.\r\n> ----- End Fatal Exception -------------------------------------------------\r\n\r\n#### PR validation:\r\nUsing the same cmsDriver, now process.source comes with proper parameter:\r\n\r\n>\r\n> process.source = cms.Source(\"LHESource\",\r\n>     fileNames = cms.untracked.vstring('file:1000GeV_SpinHalf_100.lhe')\r\n> )\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\nConsider backporting to 10_6 release.\r\n", "branch": "master", "changed_files": 1, "closed_at": "1589866136", "comments": 10, "commits": 1, "created_at": "1589565947", "deletions": 4, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "operations-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "769378f5d68aa9fa8c12d8b08453a9ecb11a13c8", "merged_at": "1589866136", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 29855, "release-notes": [], "review_comments": 0, "state": "closed", "title": "disble illegal parameters when LHESource is used with steps", "updated_at": "1589866136", "user": "srimanob"}