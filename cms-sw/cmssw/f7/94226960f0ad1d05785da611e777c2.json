{"additions": 15, "auther_ref": "fixExpandVisitorEmpty_106x", "auther_sha": "8a58caf186611921611fbbd6cc7950a8750bfac5", "author": "makortel", "body": "#### PR description:\r\n\r\n> If a `cms.Sequence` holds only Tasks, the `Sequence.expandAndClone()` fails with an `IndexError` from `ExpandVisitor.result()`. There the internal list of sequenceable objects is empty, and `self.l[0]` leads to an `IndexError`. This PR fixes the error by first checking the length of the sequenceable object list, and if empty, return the sequence type with only the Task part.\r\n>\r\n> The error was reported in https://hypernews.cern.ch/HyperNews/CMS/get/swDevelopment/3538.html\r\n\r\n#### PR validation:\r\n\r\nUnit tests run.\r\n\r\n#### if this PR is a backport please specify the original PR:\r\n\r\nBackport of #28006.", "branch": "CMSSW_10_6_X", "changed_files": 1, "closed_at": "1571030809", "comments": 11, "commits": 1, "created_at": "1568643703", "deletions": 4, "labels": ["backport-ok", "bug-fix", "comparison-available", "core-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "14c61dbf2bf91e87d8dae2784a3a5ba2a2cfce2f", "merged_at": "1571030809", "merged_by": "cmsbuild", "milestone": "CMSSW_10_6_X", "number": 28007, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix ExpandVisitor.result() to work also with an empty result (10_6_X)", "updated_at": "1571030810", "user": "makortel"}