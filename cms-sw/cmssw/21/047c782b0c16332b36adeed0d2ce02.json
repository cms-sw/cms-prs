{"additions": 30, "auther_ref": "13_2_LHCInfoPer_duringFill_endFillTime_fix_pr", "auther_sha": "bcdf01e8a847d5a4bc8c33e2545dc5d24f04957f", "author": "CTPPS", "body": "#### PR description:\r\n\r\nBackport of https://github.com/cms-sw/cmssw/pull/42837\r\n\r\nFixes bugs in `LHCInfoPerFill` and `LHCInfoPerLS` PopCons in `duringFill` mode causing it not to recognize a fill as ongoing. It caused the PopCons not process any fills and not write any data in this mode.\r\n\r\nDuringFill mode is supposed to only process ongoing fills and write only one - the newest available payload for each execution during stable beam. It interprets a fill as ongoing if its end_time (taken from OMS) is null which means it didn't end. It is not checking the value for being `null` directly but checking if the `end_time` converted to `cond::Time_t` is equal to 0. It was not working correctly because conversion from `end_time` value taken from OMS as `boost::posix_time::ptime` to `cond::Time_t` converts `null` to `2035-10-29 06:32:22`.\r\n\r\n#### PR validation:\r\n\r\nSee https://github.com/cms-sw/cmssw/pull/42837\r\n\r\n#### Backporting\r\n\r\nBackport of https://github.com/cms-sw/cmssw/pull/42837\r\n", "branch": "CMSSW_13_2_X", "changed_files": 3, "comments": 6, "commits": 1, "created_at": "1695741336", "deletions": 10, "labels": ["db-pending", "pending-signatures", "tests-rejected", "orp-pending", "backport"], "milestone": "CMSSW_13_2_X", "number": 42876, "release-notes": [], "review_comments": 0, "state": "open", "title": "[13_2_X] fixed LHCInfoPer* PopCons not recoginizing ongoing fills in duringFill mode", "updated_at": "1695793580", "user": "JanChyczynski"}