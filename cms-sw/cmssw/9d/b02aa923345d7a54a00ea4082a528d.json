{"additions": 75, "auther_ref": "alca-alcaBeamMonitorFix_lumiCache", "auther_sha": "2e68bf357fb9910323f3130db63105dc8ec000d5", "author": "francescobrivio", "body": "#### PR description:\r\nTriggered by [this CMSTalk post](https://cms-talk.web.cern.ch/t/issues-with-alcabeammonitor-in-offline-dqm/23945) and as a follow-up of https://github.com/cms-sw/cmssw/issues/37163 and https://github.com/cms-sw/cmssw/issues/39973, @gennai implemented the changes suggested by @makortel in https://github.com/cms-sw/cmssw/issues/37163#issuecomment-1061301312 (I simply took the commits and fixed the code format).\r\nThe changes include:\r\n - redefine (and use) the AlcaBeamMonitor `LuminosityBlockCache`\r\n - rename the histogram titles from \"Scalers\" to \"Online\"\r\n - fixed the `Event::getByToken()` as suggested by Matti\r\n\r\n@makortel @mmusich please let us know what you think of these changes.\r\n\r\nOnce we converge on whether this is the correct solution or not, we will also fix the `OnlineBeamMonitor` as suggested in the same issue mentioned above.\r\n\r\n#### PR validation:\r\nWe tested this with wf `138.5` which runs the full `ALCA` reco sequence in step3, using events from multiple lumisections.\r\nI'm not sure if this is the correct way to do it or if some other trick is needed to properly test this, suggestions are welcome.\r\n\r\n#### Backport:\r\nNot a backport - possible backports might be discussed later on.", "branch": "master", "changed_files": 2, "comments": 0, "commits": 1, "created_at": "1684251784", "deletions": 68, "labels": ["dqm-pending", "db-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-pending", "tracking"], "milestone": "CMSSW_13_2_X", "number": 41700, "release-notes": [], "review_comments": 0, "state": "open", "title": "[RFC] Fix LumiCache in AlcaBeamMonitor", "updated_at": "1684251808", "user": "francescobrivio"}