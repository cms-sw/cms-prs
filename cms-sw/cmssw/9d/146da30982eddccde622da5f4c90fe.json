{"additions": 111, "auther_ref": "rekovic-L1REPACK-2016-2015_CMSSW808", "auther_sha": "28671c6e0dfce741c4ad537941ac335cb78518b7", "author": "cms-l1t-offline", "body": "Adding L1REPACK:FullMC workflow to run on RAW of MC. \n(Also fixed Csc InputTag for Omtf emuator in REPACK:Full, and clean REPACK:uGT.\n\nAvailable L1REPACK workflows of re-emulation of Stage2 L1T available now: \n- FullMC (for 2016 RAWAODSIM MC)\n- Full  (for 2016 data)\n- uGT (for 2016 data) \n- Full2015Data (for 2015Data)\n\nL1REPACK:FullMC workflow starts from unpacking RPC, DT, CSC, ECAL, and HCAL. \nIt uses unpacked TriggerPrimitives for ECAL and simulates TriggerPrimitives DT TPs, CSC TPs, and HCAL TPs. It then emulates TwinMux, muon track finders (BMTF, OMTF, EMTF) uGMT, Calo Layer1, Calo Layer2, and uGT at the end of the sequence. \nIt re-packs re-emulated uGMT, CaloLayer2 and uGT in RAW data collection. \n\nIn a MC-production-like workflow, use it as:\n\n<pre>\ncmsDriver.py reHLT --conditions auto:run2_mc -s L1REPACK:FullMC,HLT:@fake --datatier GEN-SIM-RAW,AODSIM -n 10 --era=Run2_2016 --eventcontent RAWSIM,AODSIM --filein \"root://eoscms.cern.ch//eos/cms/store/mc/RunIISpring16DR80/TTJets_TuneCUETP8M1_13TeV-amcatnloFXFX-pythia8/RAWAODSIM/PUSpring16RAWAODSIM_80X_mcRun2_asymptotic_2016_v3-v2/30000/040AFBF1-8E0B-E611-9C22-001E67E95A58.root\" --processName HLT2 --python_filename reHLT.py \n</pre>\n\nAdd a flag to see printouts of L1 menu `--customise=HLTrigger/Configuration/CustomConfigs.L1T`\n\nL1REPACK:Full workflow starts from unpacked TriggerPrimitives and re-emulates muon track finders, uGMT, Calo Layer1 and Layer2, and uGT at the end of the sequence. It re-packs re-emulated uGMT, CaloLayer2 and uGT in RAW data collection.  In a typical HLT test use it as:\n\n<pre>\ncmsDriver.py RelVal --step=L1REPACK:Full --conditions=auto:run2_hlt_GRun --filein=/store/data/Run2016A/ZeroBias1/RAW/v1/000/271/336/00000/00963A5A-BF0A-E611-A657-02163E0141FB.root --custom_conditions= --fileout=RelVal_L1RePack_GRun_DATA.root --number=10 --data --datatier GEN-SIM-DIGI-RAW --eventcontent=RAW --customise=HLTrigger/Configuration/CustomConfigs.L1T --era=Run2_2016 --customise= --scenario=pp --python_filename=RelVal_L1RePack_Full_GRun_DATA.py --customise=L1Trigger/Configuration/L1Trigger_custom.customiseResetPrescalesAndMasks \n</pre>\n\n\nL1REPACK:uGT workflow starts from unpacked uGMT and CaloLayer2 outputs, re-emulates uGT, and packs the re-emulated uGT in RAW data collection.  In a typcal HLT test us it as:\n\n<pre>\ncmsDriver.py RelVal --step=L1REPACK:uGT --conditions=auto:run2_hlt_GRun --filein=/store/data/Run2016A/ZeroBias1/RAW/v1/000/271/336/00000/00963A5A-BF0A-E611-A657-02163E0141FB.root --custom_conditions= --fileout=RelVal_L1RePack_GRun_DATA.root --number=10 --data --datatier GEN-SIM-DIGI-RAW --eventcontent=RAW --customise=HLTrigger/Configuration/CustomConfigs.L1T --era=Run2_2016 --customise= --scenario=pp --python_filename=RelVal_L1RePack_uGT_GRun_DATA.py --customise=L1Trigger/Configuration/L1Trigger_custom.customiseResetPrescalesAndMasks \n</pre>\n\n\nFor L1REPACK:Full2015Data workflow is intended for 205 data, starts from unpacked TriggerPrimitives and re-emulates muon track finders, uGMT, Calo Layer1 and Layer2, and uGT at the end of the sequence. It re-packs re-emulated uGMT, CaloLayer2 and uGT in RAW data collection.  \nConfiguration for the HFTPs (1x1) which is different in 2016 wrt 2015 has already been included in the above workflow via setting ESProducer preference.  However, the geometry for 2016 needs to be loaded via a cmsDriver flag _--geometry_ flag.\nFor a typical HLT test use it as:\n\n<pre>\ncmsDriver.py RelVal --step=L1REPACK:Full2015Data --conditions=auto:run2_hlt_GRun --filein=/store/data/Run2015D/MuonEG/RAW/v1/000/256/677/00000/80950A90-745D-E511-92FD-02163E011C5D.root --custom_conditions= --fileout=RelVal_L1RePack_GRun_DATA.root --number=10 --data --datatier GEN-SIM-DIGI-RAW --eventcontent=RAW --customise=HLTrigger/Configuration/CustomConfigs.L1T --era=Run2_2016 --customise= --scenario=pp --python_filename=RelVal_L1RePackFull2015Data_GRun_DATA.py --customise=L1Trigger/Configuration/L1Trigger_custom.customiseResetPrescalesAndMasks --geometry=Extended2016,Extended2016Reco\n</pre>\n", "branch": "CMSSW_8_1_X", "changed_files": 4, "closed_at": "1464327497", "comments": 12, "commits": 2, "created_at": "1464180035", "deletions": 10, "labels": ["comparison-available", "operations-pending", "orp-pending", "pending-signatures", "tests-approved"], "merge_commit_sha": "a9edc6765dbe9885f7f9d3d964717fbb8095ec60", "merged_at": "1464327497", "merged_by": "davidlange6", "milestone": "Next CMSSW_8_1_X", "number": 14635, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Adding L1REPACK:FullMC workflow to run on RAW of MC.", "updated_at": "1464327498", "user": "rekovic"}