{"additions": 306, "auther_ref": "devel_13_1_X_cleanUpSiStripHitEfficiency", "auther_sha": "fba034e24f0ed7a37459532b23e670c846ad542f", "author": "mmusich", "body": "#### PR description:\r\n\r\nThis PR offers some clean-up of the  `CalibTracker/SiStripHitEfficiency` codes:\r\n   * [apply CMS code rules in SiStripHitEffFromCalibTree](https://github.com/cms-sw/cmssw/commit/b2ad5b0387109fc85883f543498d0e7e28c83518)\r\n   * [remove unused methods](https://github.com/cms-sw/cmssw/commit/5052d6015914b734fe3a6788264cb2066e2fa4b4)\r\n   * [range based loops in StripHitEffFromCalibTree](https://github.com/cms-sw/cmssw/commit/2a8ec23902d1d5a4ee290f7b984a1a0529e7157b)\r\n   \r\nIn addition I implement in `SiStripHitEfficiencyHarvester` a generic function for summary plots of efficiency trends per layer vs variable (PU, inst. lumi, bx number) in commit fba034e24f0ed7a37459532b23e670c846ad542f. This will show up directly in the GUI efficiency plots vs event quantities.\r\n\r\n#### PR validation:\r\n\r\nRun successfully the following command:\r\n```display\r\ncmsDriver.py stepHarvest -s ALCAHARVEST:SiStripHitEff --conditions 124X_dataRun3_Express_v9 --scenario pp --data --era Run3 --dasquery='file dataset=/StreamExpress/Run2022G-PromptCalibProdSiStripHitEff-Express-v1/ALCAPROMPT run=362437' -n -1 --customise_commands='process.alcasiStripHitEfficiencyHarvester.isAtPCL = cms.bool (False)'\r\n```\r\n\r\nand obtained the following plots:\r\n\r\n| Vs PU | Vs Inst Lumi |\r\n| ------------- | ------------- |\r\n| ![Screenshot from 2023-03-14 13-42-15](https://user-images.githubusercontent.com/5082376/225004528-158b4b59-a842-4ce4-9869-2b7ec91910fd.png) | ![Screenshot from 2023-03-14 13-42-34](https://user-images.githubusercontent.com/5082376/225004533-7aaf5de7-39b9-4ca0-b2b5-27f36a49b256.png) |\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nNot a backport, but will be backported to CMSSW_13_0_X for data-taking purposes.\r\n\r\n", "branch": "master", "changed_files": 6, "closed_at": "1678882424", "comments": 9, "commits": 5, "created_at": "1678794247", "deletions": 259, "labels": ["alca-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved", "trk"], "merge_commit_sha": "24bb0d11b3b113c5b0c823f77c3f61f87a8f873a", "merged_at": "1678882424", "merged_by": "cmsbuild", "milestone": "CMSSW_13_1_X", "number": 41050, "release-notes": [], "review_comments": 10, "state": "closed", "title": "Clean-up in `CalibTracker/SiStripHitEfficiency` and add trend of efficiency vs lumi, PU and BX in `SiStripHitEfficiencyHarvester`", "updated_at": "1678882425", "user": "mmusich"}