{"additions": 3, "auther_ref": "patch-5", "auther_sha": "9b6168c4c175ca73c726c10e90758bf1a32e2e35", "author": "makortel", "body": "#### PR description:\r\n\r\nGiven that the ESGetToken is declared such that MagneticField is consumed in beginRun, the product must be read from EventSetup always there. Alternative would be to have two tokens (one for beginRun and another for produce), but always reading in beginRun is simpler and along the planned evolution of this code.\r\n\r\nThis should fix the random test failures reported in https://github.com/cms-sw/cmssw/pull/34338#issuecomment-879413553\r\n\r\nResolves https://github.com/makortel/framework/issues/188\r\n\r\n#### PR validation:\r\n\r\nNone (edited in GitHub editor).", "branch": "master", "changed_files": 1, "closed_at": "1626237165", "comments": 9, "commits": 1, "created_at": "1626215396", "deletions": 1, "labels": ["bug-fix", "code-checks-approved", "fully-signed", "orp-approved", "simulation-approved", "tests-approved", "urgent"], "merge_commit_sha": "b3de1c2fd97ff0108b0be43fac842864481448ae", "merged_at": "1626237165", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 34479, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Get MagneticField in RunManagerMTWorker::beginRun() instead of produce()", "updated_at": "1626237165", "user": "makortel"}