{"additions": 7, "auther_ref": "llvm21-fix-bzero-non-trivially-copyable", "auther_sha": "0be208efd8049cb6ffbf5bca5469da261bd50b73", "author": "smuzaffar", "body": "In CLANG_X Ibs (with llvm21), we get compilation warnings like [a]. As `hitsOnTrk_` which is `std::vector<HitOnTrack>` a non-trivially copyable type that is why compiler complains. `bzero` is going to zero out only memory of `std::vector` itself and not the items it contains. This PR proposes to use `vector::clear()` to clean up the existing items.\r\n\r\n[a] https://cmssdt.cern.ch/SDT/cgi-bin/buildlogs/el8_amd64_gcc13/CMSSW_16_0_CLANG_X_2025-10-28-2300/RecoTracker/MkFitCore\r\n```\r\n[src/RecoTracker/MkFitCore/src/Track.cc:390](https://github.com/cms-sw/cmssw/blob/CMSSW_16_0_CLANG_X_2025-10-28-2300/RecoTracker/MkFitCore/src/Track.cc#L390):11: warning: first argument in call to 'bzero' is a pointer to non-trivially copyable type 'std::vector<HitOnTrack>' [-Wnontrivial-memcall]\r\n   390 |     bzero(&hitsOnTrk_, sizeof(hitsOnTrk_));\r\n      |           ^\r\nsrc/RecoTracker/MkFitCore/src/Track.cc:390:11: note: explicitly cast the pointer to silence this warning\r\n  390 |     bzero(&hitsOnTrk_, sizeof(hitsOnTrk_));\r\n      |           ^\r\n      |           (void*)\r\n```\r\n\r\n\r\n**After the discussion in https://github.com/cms-sw/cmssw/pull/49251#pullrequestreview-3393318855 , now `Track::resizeHitsForInput()` is removed from class and code is moved to standalone test which actually needed it. Warnings was avoided by `(void*)` casting the pointer to non-trivially copyable type and squashed changes**", "branch": "master", "changed_files": 3, "closed_at": "1761933186", "comments": 26, "commits": 1, "created_at": "1761738796", "deletions": 9, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved", "tracking"], "merge_commit_sha": "329a15a8dba5c3589d5d9b3b7b8b55ae3dd07d96", "merged_at": "1761933186", "merged_by": "cmsbuild", "milestone": "CMSSW_16_0_X", "number": 49251, "release-notes": [], "review_comments": 12, "state": "closed", "title": "MkFitCore/Track: Fix for llvm21 warning calling bzero on pointer to non-trivially copyable type", "updated_at": "1761933187", "user": "smuzaffar"}