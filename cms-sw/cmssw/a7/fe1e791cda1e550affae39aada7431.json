{"additions": 59, "auther_ref": "gem-reco-payload-builder-fix", "auther_sha": "9a59f4bd6d1f735ee0d3401dd924376e3b58ed27", "author": "cvuosalo", "body": "PR #36835 fixed the building of the GEM reco geometry for DD4hep, but it caused a problem for building the DDD GEM reco geometry DB payload. Technically, an unreliable `DDFilteredView` copy constructor had been used, which caused the original `DDFilteredView` to be changed when the copy was altered. The solution is to create a separate, identical `DDFilteredView` that can be iterated through without altering the original.\r\n\r\nNote that this PR only affects the manual process of creating the DDD GEM reco geometry DB payload, which is done by an expert. This code is never used in any workflow.\r\n\r\n#### PR validation:\r\n\r\nA correct DDD GEM reco geometry DB payload was created successfully with this PR, whereas previously the creation program crashed.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nFor completeness and consistency, this PR could be backported to 12_2, but it is not strictly necessary. There shouldn't be a need to create geometry DB payloads in 12_2, since the latest 12_3 tags are the ones that should be used with 12_2_1.\r\n", "branch": "master", "changed_files": 2, "comments": 4, "commits": 1, "created_at": "1643835997", "deletions": 47, "labels": ["geometry-pending", "pending-signatures", "orp-pending", "tests-started", "bug-fix", "upgrade-pending", "code-checks-approved"], "milestone": "CMSSW_12_3_X", "number": 36869, "release-notes": [], "review_comments": 0, "state": "open", "title": "[DDD] Fix building of DDD GEM reco geometry DB payload", "updated_at": "1643836779", "user": "cvuosalo"}