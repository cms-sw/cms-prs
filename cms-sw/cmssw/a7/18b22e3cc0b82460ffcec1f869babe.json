{"additions": 292, "auther_ref": "EMTF_unpackerRPCGEMRun3_Sept22", "auther_sha": "1844fd033ac47de35dd42377eaf797904ef9cbec", "author": "eyigitba", "body": "#### PR description:\r\n\r\nThis PR implements the necessary changes to unpack the new DAQ format that is implemented at P5 a couple of weeks ago. Our tests show that the new DAQ format significantly reduces EMTF dead time at very high PU scenarios. According to the new format 2 RPC (GEM) TPs are packed into 1 RPC (GEM) data block, thus reducing the total number of blocks in EMTF DAQ stream.\r\n\r\nModified `EMTFBlockGEM.cc`, `EMTFBlockRPC.cc` to add functionality to create 2 TPs per block depending on the firmware version. Changes in `EMTFSetup.cc` are made to pass firmware version to the RPC and GEM block unpackers.\r\n\r\nA backport of this PR to 12_4_X and 12_5_X is required for upcoming collision runs. \r\n\r\n#### PR validation:\r\n\r\n<!-- Please replace this text with a description of which tests have been performed to verify the correctness of the PR, including the eventual addition of new code for testing like unit tests, test configurations, additions or updates to the runTheMatrix test workflows -->\r\n\r\nTested with unpacking data collected last week and running `l1tstage2_dqm_sourceclient-live_cfg.py` to confirm the DQM plots are as expected. \r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\n<!-- Please replace this text with any link to the master PR, or the intended backport release cycle numbers -->\r\n\r\n", "branch": "master", "changed_files": 3, "comments": 6, "commits": 1, "created_at": "1663152673", "deletions": 213, "labels": ["l1-pending", "pending-signatures", "orp-pending", "tests-started", "urgent", "code-checks-approved"], "milestone": "CMSSW_12_6_X", "number": 39388, "release-notes": [], "review_comments": 0, "state": "open", "title": "Modify RPC and GEM unpacker blocks in EMTF unpacker to match the new Run 3 format", "updated_at": "1663153833", "user": "eyigitba"}