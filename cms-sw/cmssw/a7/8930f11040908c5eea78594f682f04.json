{"additions": 28, "auther_ref": "fix_FinalPath_check", "auther_sha": "0f1e9ae0ee7ef2d33ea4ea042502387353de70cf", "author": "fwyzard", "body": "#### PR description:\r\n\r\nIf an `EDProducer` or `EDFilter` is inserted in a `FinalPath`, the job fails with a cryptic error:\r\n```\r\n----- Begin Fatal Exception 03-Oct-2023 15:42:41 CEST-----------------------\r\nAn exception of category 'ConfigFileReadError' occurred while\r\n   [0] Processing the python configuration file named dump.py\r\nException Message:\r\n unknown python problem occurred.\r\nAttributeError: 'str' object has no attribute 'label_'\r\n\r\nAt:\r\n  /data/user/fwyzard/CMSSW_13_3_X_2023-10-02-2300/src/FWCore/ParameterSet/python/Config.py(1292): <listcomp>\r\n  /data/user/fwyzard/CMSSW_13_3_X_2023-10-02-2300/src/FWCore/ParameterSet/python/Config.py(1292): _insertPaths\r\n  /data/user/fwyzard/CMSSW_13_3_X_2023-10-02-2300/src/FWCore/ParameterSet/python/Config.py(1490): fillProcessDesc\r\n  <string>(2): <module>\r\n\r\n----- End Fatal Exception -------------------------------------------------\r\n```\r\n\r\nWith these changes, the error is more meaningful:\r\n```\r\n----- Begin Fatal Exception 03-Oct-2023 15:46:00 CEST-----------------------\r\nAn exception of category 'ConfigFileReadError' occurred while\r\n   [0] Processing the python configuration file named dump.py\r\nException Message:\r\n unknown python problem occurred.\r\nRuntimeError: FinalPath HLTriggerFinalPath has non OutputModules HLTBool,TriggerSummaryProducerRAW\r\n\r\nAt:\r\n  /data/user/fwyzard/CMSSW_13_3_X_2023-10-02-2300/src/FWCore/ParameterSet/python/Config.py(1290): _insertPaths\r\n  /data/user/fwyzard/CMSSW_13_3_X_2023-10-02-2300/src/FWCore/ParameterSet/python/Config.py(1487): fillProcessDesc\r\n  <string>(2): <module>\r\n\r\n----- End Fatal Exception -------------------------------------------------\r\n```\r\n\r\nImplement the python checks to notify that also `EDAnalyzer`s are not supported on `FinalPath`s.\r\n\r\nThe unit tests are extended to catch the error.\r\n\r\n#### PR validation:\r\n\r\nThe extended unit tests pass.\r\n\r\n#### PR backport:\r\n\r\nBackport of #42936", "branch": "CMSSW_13_3_X", "changed_files": 2, "comments": 11, "commits": 3, "created_at": "1700724878", "deletions": 12, "labels": ["core-approved", "fully-signed", "tests-rejected", "orp-pending", "bug-fix", "backport-ok"], "milestone": "CMSSW_13_3_X", "number": 43371, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix logic error in `FinalPath` checks [13.3.x]", "updated_at": "1701185823", "user": "fwyzard"}