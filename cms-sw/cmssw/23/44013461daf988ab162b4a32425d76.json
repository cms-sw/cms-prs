{"additions": 1716, "auther_ref": "phase2-geo-rb1", "auther_sha": "58f08eaabd6398c0485b31e90386fd30b56747d0", "author": "trackreco", "body": "#### PR description:\r\n\r\nThis PR introduces:\r\n\r\n##### 1. Support for 2029 geometry\r\nincluding its extraction, special partition-seed method (+ other / minimal setup needed to run on initialStep for phase2).\r\n\r\n##### 2. Introduce standard functions into IterationConfig\r\nThey are accessible via a string name that can be set from JSON (or eventually via CMSSW config)\r\n```\r\nclass IterationConfig {\r\n...\r\n    // Standard functions\r\n    clean_seeds_func m_seed_cleaner;\r\n    partition_seeds_func m_seed_partitioner;\r\n    filter_candidates_func m_pre_bkfit_filter, m_post_bkfit_filter;\r\n    filter_duplicates_func m_duplicate_cleaner;\r\n\r\n    // Names for Standard functions that get saved to / loaded from JSON.\r\n    std::string m_seed_cleaner_name;\r\n    std::string m_seed_partitioner_name;\r\n    std::string m_pre_bkfit_filter_name, m_post_bkfit_filter_name;\r\n    std::string m_duplicate_cleaner_name;\r\n...\r\n};\r\n```\r\n\r\n* When those are not set for a specific iteration, they get skipped (without era specific `if-iteration-equals` constructs that we have now in top-level steering function).\r\n* Introduce standard function catalogs that get filled through static initialization in implementation files and then get used/demangled when iteration-config is being finalized at runtime.\r\n* When a standard function name is empty, the std::function remains unset and does not get called. When a name is non-empty and the function is not found in the catalog an exception is thrown.\r\n\r\nAll changes for phase1 are technical, i.e., no changes in physics performance are expected.\r\n\r\nParallel PR has aso been made to `cms-data/RecoTracker-MkFit` to include required changes in MkFit JSON configuration files: cms-data/RecoTracker-MkFit#10\r\n\r\n#### PR validation:\r\n\r\nComparison of all 10 tracking iterations run with mkFit:\r\nhttp://uaf-10.t2.ucsd.edu/~mmasciov/MIC/Phase2/MTV_TTbarPU_2022_mkFitDevel-matevz/", "branch": "master", "changed_files": 33, "comments": 8, "commits": 14, "created_at": "1666816017", "deletions": 844, "labels": ["reconstruction-pending", "pending-signatures", "tests-pending", "orp-pending", "requires-external", "code-checks-approved", "tracking"], "milestone": "CMSSW_12_6_X", "number": 39866, "release-notes": [], "review_comments": 11, "state": "open", "title": "[MkFit] Phase2 geometry & String configurable standard functions", "updated_at": "1666973114", "user": "osschar"}