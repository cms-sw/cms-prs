{"additions": 798, "auther_ref": "dqm-migrate-to-edmone", "auther_sha": "dafb694ec4bb45981cd5a3c88689d8daecb8b2e2", "author": "schneiml", "body": "This is based on #22218 (thanks @fwyzard!), and supersedes #22157 (and also #22218, #22252).\r\n\r\n- The migration will bring all of the memory savings of #22157. \r\n- It avoids the fallout of config changes (that is now isolated into #22243). Not that this is *not* required for this PR.\r\n- A conversion to `edm::one::EDProducer<Accumulator>` should be a trivial change on top of #22243 and this one.\r\n- The renaming of `endLuminosityBlock` to `dqmEndLuminosityBlock` was needed to have the `endLuminosityBlock` in the `DQMEDAnalyzer`, to properly handle per-lumi histograms.\r\n- This rename did cause some changes to packages, that now have large diffes due to the code checks...\r\n- The functional changes are 5d9538e, which performs the migration and removes now-obsolete logic, and bc0cd87, which fixes behaviour of per-lumi histograms and reintroduces some of the old logic for new purposes.\r\n\r\n\r\n\r\n", "branch": "master", "changed_files": 166, "comments": 51, "commits": 7, "created_at": "1518713584", "deletions": 1095, "labels": ["code-checks-approved", "comparison-available", "dqm-pending", "l1-pending", "orp-pending", "pending-signatures", "simulation-approved", "tests-approved", "upgrade-pending"], "milestone": "CMSSW_10_1_X", "number": 22244, "release-notes": [], "review_comments": 5, "state": "open", "title": "Migrate DQM to `edm::one::EDAnalyzer`", "updated_at": "1519070996", "user": "schneiml"}