{"additions": 1303, "auther_ref": "from-CMSSW_11_1_0_pre8", "auther_sha": "c459f83ce01273ebc3127db27a2583c06b60398b", "author": "wouf", "body": "#### PR description:\r\n\r\nThe integrated Pull Request for the:\r\n1) Full embedding mode for HI generators to use within mixing (as result of discussion in cms-sw/cmssw#28636)\r\n2) New Hydjet version 1.9.1 interface made as external generator (with the cms-sw/cmsdist#5412) and adjusted to use in the updated embedding mode. To replace  cms-sw/cmssw#28764\r\n3) PYQUEN update up to version 1.5.4 (cms-sw/cmsdist#5412) with adjustment to use in the updated embedding mode.\r\n\r\nMore details at https://indico.cern.ch/event/932445/contributions/3935235/attachments/2073197/3480861/HJ1.pdf\r\n\r\n#### PR validation:\r\n\r\n1) The new full embedded mixing may be tested with HYDJET 1.9.1:\r\n\r\na) Creating the underlying HYDJET sample (background):\r\ncmsDriver.py Hydjet_Quenched_MinBias_5020GeV_cfi --conditions auto:phase1_2018_realistic_hi --scenario HeavyIons -n 2 --era Run2_2018_pp_on_AA --eventcontent RAWSIM --relval 9000,100 -s GEN,SIM --datatier GEN-SIM --beamspot Realistic25ns13TeVEarly2018Collision --geometry DB:Extended\r\n\r\nb) Creating the embedded HYDJET sample (signal, GEN-SIM):\r\ncmsDriver.py Hydjet_Quenched_B12_5020GeV_cfi --conditions auto:phase1_2018_realistic_hi --scenario HeavyIons -n 2 --era Run2_2018_pp_on_AA --eventcontent RAWSIM --relval 2000,1 -s GEN,SIM --datatier GEN-SIM --beamspot Realistic25ns13TeVEarly2018Collision --geometry DB:Extended --pileup HiMixEmbGEN --pileup_input file:Hydjet_Quenched_MinBias_5020GeV_cfi_GEN_SIM.root --fileout step1_GEN_SIM_PU.root\r\n\r\nc) Creating the embedded HYDJET sample (signal, step2):\r\ncmsDriver.py step2 -s DIGI:pdigi_hi,L1,DIGI2RAW,HLT:@fake2 --conditions auto:phase1_2018_realistic_hi --scenario HeavyIons -n 2 --era Run2_2018_pp_on_AA --eventcontent FEVTDEBUGHLT --datatier GEN-SIM-DIGI-RAW-HLTDEBUG --filein=file:step1_GEN_SIM_PU.root --beamspot Realistic25ns13TeVEarly2018Collision --pileup HiMix --pileup_input file:Hydjet_Quenched_MinBias_5020GeV_cfi_GEN_SIM.root\r\n\r\nd) Creating the embedded HYDJET sample (signal, step3):\r\ncmsDriver.py step3 --conditions auto:phase1_2018_realistic_hi --pileup_input file:Hydjet_Quenched_MinBias_5020GeV_cfi_GEN_SIM.root -n 2 --era Run2_2018_pp_on_AA --eventcontent RECOSIM,MINIAODSIM,DQM,ALCARECO --filein=file:step2_DIGI_L1_DIGI2RAW_HLT_PU.root --runUnscheduled -s RAW2DIGI,L1Reco,RECO,ALCA:SiStripCalZeroBias+SiPixelCalZeroBias,EI,PAT,VALIDATION:@standardValidationNoHLT+@miniAODValidation,DQM:@standardDQMFakeHLT+@miniAODDQM --datatier GEN-SIM-RECO,MINIAODSIM,DQMIO,ALCARECO --pileup HiMix\r\n\r\n2) HYDJET validation:\r\nplease test workflow 150 with cms-sw/cmsdist#5412\r\n\r\n3) PYQUEN validation:\r\nplease test workflow 301.0 with cms-sw/cmsdist#5412\r\n", "branch": "master", "changed_files": 25, "closed_at": "1595398415", "comments": 57, "commits": 13, "created_at": "1591818291", "deletions": 2003, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "generators-approved", "operations-approved", "orp-approved", "requires-external", "simulation-approved", "tests-approved"], "merge_commit_sha": "eea3e1ad202685160fd8257471d67bb6ae05e5d0", "merged_at": "1595398415", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 30185, "release-notes": [], "review_comments": 4, "state": "closed", "title": "HYDJET, PYQUEN and the new embedding", "updated_at": "1601875999", "user": "wouf"}