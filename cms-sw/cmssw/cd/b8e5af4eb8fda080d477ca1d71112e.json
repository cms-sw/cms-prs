{"additions": 32, "auther_ref": "updateRootHandlers", "auther_sha": "258c2347a1b1c527449a3b248650de0fedc57a14", "author": "Dr15Jones", "body": "InitRootHandlers was originally calling ROOT's 'SetErrorHandler' function during event processing. That operation is not thread safe. This was done solely to allow ROOT warning messages to be temporarily ignored. We now always keep the same error handler but now signal the request to ignore warnings via a thread local bool. To better encapsulate this behavior, RootHandlers was changed to use a function which takes a functor as an argument and then wraps the temporary disabling of warnings via a sentry. Only RootOutputTree actually makes use of this facility.\n", "branch": "CMSSW_7_0_X", "changed_files": 4, "closed_at": "1379505545", "comments": 8, "commits": 1, "created_at": "1379349434", "deletions": 28, "labels": ["core-approved", "fully-signed", "tests-approved"], "merge_commit_sha": "b608e6ae8377db0b41fd0fb5474d22d2de86e1af", "merged_at": "1379505545", "merged_by": "ktf", "milestone": "CMSSW_7_0_0_pre5", "number": 853, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Make InitRootHandlers safe for the threaded framework", "updated_at": "1380715271", "user": "Dr15Jones"}