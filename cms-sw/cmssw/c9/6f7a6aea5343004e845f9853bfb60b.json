{"additions": 18, "auther_ref": "fix-prodcuts2", "auther_sha": "16240c803cac14fb3d17b01e10247efe97cf750d", "author": "cvuosalo", "body": "#### PR description:\r\n\r\nDD4hep returns values with the ROOT/CMS units convention, where lengths are in cm. Geant4 uses its own units convention, where lengths are in mm. When values obtained from DD4hep are sent to Geant4, they need to be converted.\r\n\r\nProduction cuts were being passed to Geant4 without conversion. This PR fixes that problem. So far, we have not found other code that interfaces to Geant4 that has a similar problem.\r\n\r\nIn the long term, the plan is to change DD4hep configuration so that it returns units following the Geant4 convention. Then these conversions, including in this PR, can be removed from our code. However, this change will require changing a fair amount of CMSSW code, so it has to be scheduled when other priorities are not pressing. Issue #31979 provides more details.\r\n\r\n\r\n#### PR validation:\r\nDebug output before this PR:\r\n\r\nMakeRegions: added rpcf:REF3 to region MuonSensitive_RPC\r\nProdCutsForPositrons =  2.5*m\r\nProdCutsForElectrons =  8.*mm\r\nProdCutsForGamma =  8.5*m\r\n\r\nDDG4ProductionCuts : Setting cuts for MuonSensitive_RPC\r\n    Electrons: 0.8\r\n    Positrons: 250\r\n    Gamma    : 850\r\n_The values are in cm when they should be mm._ \r\n\r\nWith this PR:\r\n\r\nMakeRegions: added rpcf:REF3 to region MuonSensitive_RPC\r\nProdCutsForPositrons =  2.5*m\r\nProdCutsForElectrons =  8.*mm\r\nProdCutsForGamma =  8.5*m\r\n\r\nDDG4ProductionCuts : Setting cuts for MuonSensitive_RPC\r\n    Electrons: 8\r\n    Positrons: 2500\r\n    Gamma    : 8500\r\n_The values are correctly in mm._\r\n\r\nA check was made that DD4hep simulation (`SimG4Core/Configuration/test/dd4hep_ZMM_Run3_Step1_cfg.py`) continues to run successfully with this PR and produce hits.\r\n\r\n\r\nNo backport is needed.", "branch": "master", "changed_files": 2, "closed_at": "1603971930", "comments": 11, "commits": 1, "created_at": "1603919709", "deletions": 13, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "simulation-approved", "tests-approved"], "merge_commit_sha": "7fe6011d8beb39235813ba1c23b29b015d86bfee", "merged_at": "1603971930", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 31980, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[DD4hep] Convert production cuts from ROOT/CMS units convention to Geant4 units convention", "updated_at": "1603971930", "user": "cvuosalo"}