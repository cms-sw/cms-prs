{"additions": 19, "auther_ref": "glibc233-mallinfo2", "auther_sha": "952022f0bcf9bb0e83d1ce971b22c5bd028ea675", "author": "smuzaffar", "body": "`mallinfo` has been deprecated in newer glibc version e.g. for `el9` IBs we get build warning [a]. glibc 2.33 and above introduced `mallinfo2` which returns the same `mallinfo2` struct but with updated types `size_t` instead of `int` (https://man7.org/linux/man-pages/man3/mallinfo.3.html) . This PR proposes to use `mallinfo2` for glibc version 2.33 and above.\r\n\r\nIn a separate PR we can also replace `i2str` with `std::to_string()`\r\n\r\n[a] https://cmssdt.cern.ch/SDT/cgi-bin/buildlogs/el9_amd64_gcc11/CMSSW_12_4_X_2022-05-01-2300/FWCore/Services\r\n```\r\n  src/FWCore/Services/plugins/SimpleMemoryCheck.cc:551:39: warning: 'mallinfo mallinfo()' is deprecated [-Wdeprecated-declarations]\r\n   551 |       struct mallinfo minfo = mallinfo();\r\n```", "branch": "master", "changed_files": 1, "comments": 10, "commits": 1, "created_at": "1651493554", "deletions": 7, "labels": ["core-approved", "fully-signed", "tests-approved", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_12_4_X", "number": 37768, "release-notes": [], "review_comments": 0, "state": "open", "title": "EL9 warning fix: use mallinfo2 for glibc>=2.33", "updated_at": "1651577670", "user": "smuzaffar"}