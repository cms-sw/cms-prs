{"additions": 16, "auther_ref": "removeOwnVectorSiStripMatchedRecHit2D", "auther_sha": "1c639d2bb2af033d64770f8a7bdab87160edfc45", "author": "wddgit", "body": "#### PR description:\r\n\r\nThis is part of a campaign to remove code related to OwnVector. This is in preparation for a possible move to RNTuple from TTree as a persistence mechanism. RNTuple does not support OwnVector because it allows polymorphism. Issue #42734 discusses this in more detail.\r\n\r\nIn this PR, ```OwnVector<SiStripMatchedRecHit2D>``` is removed or replaced. This is one of the classes on Matti's list in the issue.\r\n\r\nThe dictionaries in classes_def.xml are removed and also an unused typedef.\r\n\r\nThe other usage in SiStripRecHitMatcher and SiStripRecHitConverterAlgorithm is replaced by a ```std::vector<std::unique_ptr<SiStripMatchedRecHit2D>>```. As used in that part of the code, the object is not persistent so there aren't any backward compatibility issues and the replacement should work exactly the same as the OwnVector.\r\n\r\nIt appears that the OwnVector dictionaries were originally introduced in 2006 and new DetSetVector containers replaced them in 2007. Probably the OwnVector code was kept for backward compatibility originally and no one ever had time or remembered to clean it up when backward compatibility to 2007 was no longer needed.\r\n\r\n#### PR validation:\r\n\r\nThis relies on existing tests for the part that was converted to a ```vector<unique_ptr>```.  It should work identically to the way it worked before.\r\n\r\nTo test the deletion of the dictionaries, I added this in OwnVector.h and built\r\n```\r\nclass OwnVector {\r\n    static_assert(!std::is_same_v<T, SiStripRecHitMatcher>,\r\n        \"foo does not support Bar1\");\r\n```\r\nThis demonstrates nothing could be using this or writing this type persistently. I did that for a 14_1_X IB and also for 10_6_39. I suspect nothing has written products of this type since 2007, but didn't verify that with a test. 10_6_X is what we need for the legacy release work.\r\n\r\nFYI @makortel \r\n", "branch": "master", "changed_files": 7, "comments": 5, "commits": 1, "created_at": "1708028990", "deletions": 43, "labels": ["reconstruction-pending", "geometry-pending", "pending-signatures", "tests-approved", "orp-pending", "upgrade-pending", "code-checks-approved", "tracking", "trk"], "milestone": "CMSSW_14_1_X", "number": 43987, "release-notes": [], "review_comments": 0, "state": "open", "title": "Remove or replace ```OwnVector<SiStripMatchedRecHit2D>```", "updated_at": "1708044770", "user": "wddgit"}