{"additions": 103, "auther_ref": "pixel_code_move", "auther_sha": "94e74992470d17f6fdf3c12caef9712ce034f439", "author": "OzAmram", "body": "This is a follow up pull request to [23263](https://github.com/cms-sw/cmssw/pull/23263).\r\n\r\nThe most significant change is the creation of the directory CondFormats/SiPixelCommon.\r\nThe following files which were previously in RecoLocalTracker/SiPixelRecHits/ are now moved to SiPixelTransient:\r\ninterface/SiPixelTemplate.h\r\ninterface/SiPixelTemplate2D.h\r\ninterface/SiPixelTemplateDefs.h\r\ninterface/SimplePixel.h\r\ninterface/SiPixelGenError.h\r\nsrc/SiPixelTemplate.cc\r\nsrc/SiPixelTemplate2D.cc\r\nsrc/SiPixelGenError.cc\r\nSome header files and build files needed to be changed to handle this. \r\n\r\nThere are also 3 minor changes for the ClusterRepair code (which is still turned off by default).\r\nThe first is a indexing bugfix related to double sized pixels that was producing a 'second bump' in the Y-position residuals. This is now fixed.\r\nThe second is a change to make sure the ClusterRepair returns all of the info about the rec hit back to its caller (Probxy, qbin, etc.). There had to be a slight change to CPEGeneric to accommodate this. \r\nThe last change is to not call the actual 2D reconstruction algorithm on very large clusters which are essentially hopeless anyway and were giving bad outputs. Instead we catch these in ClusterRepair and return the best we can. \r\n\r\nThis code has been tested on trackingValidation workflow (runTheMatrix 10024.3) with cluster repair off.\r\nIt has also been tested on pixel trees with cluster repair turned on in order to confirm that the 2nd peak in the y-residuals is indeed gone. \r\n\r\n@pmaksim1 @perrotta @slava77 @fabiocos @makortel @tvami @tsusa @cmantill @schuetzepaul ", "branch": "master", "changed_files": 26, "closed_at": "1529646434", "comments": 81, "commits": 10, "created_at": "1528835298", "deletions": 60, "labels": ["code-checks-approved", "comparison-available", "db-approved", "fastsim-approved", "fully-signed", "orp-approved", "reconstruction-approved", "simulation-approved", "tests-approved"], "merge_commit_sha": "dd04f07395f402122e85a58fbb41a4cfd8b626d3", "merged_at": "1529646434", "merged_by": "cmsbuild", "milestone": "CMSSW_10_2_X", "number": 23571, "release-notes": [], "review_comments": 16, "state": "closed", "title": "Creation of new package CondFormats/SiPixelTransient and moving some pixel template code there, minor fixes for pixel 2d reconstruction", "updated_at": "1529646435", "user": "OzAmram"}