{"additions": 1742, "auther_ref": "revised-primaryvertexproducer_1400pre1_PR_151223", "auther_sha": "be8e1ec40b9812e563a14867d8c92c8c46828ae6", "author": "kdeleo", "body": "PR description:\r\n\r\nThis PR proposes a re-organization of the primary vertex producer code and the addition of vertex time computation for 3D vertices. Based on the work of @werdmann and @missirol. \r\n\r\nThe 3D vertices with timing can be used as input to a single 4D iteration: in this way the first iteration of 4D vertex reconstruction can be omitted, without loss in performance and with 30% CPU time gain. \r\nAdditionally, bug-fixes in: \r\n-TOFPIDProducer: switch off track-vertex re-assignment for last TODPIF iteration (tracks remain assigned to vertex as in vertex algorithm, but times are computed wrt a different vertex) \r\n-4D vertex time: in 4D clustering only tracks with meaningful times/time errors are used, but in 4D vertex time calculation the time of all tracks is used \r\n\r\nDetails in the presentation at TRK POG on November 20, 2023: https://indico.cern.ch/event/1345175/contributions/5662821/attachments/2755500/4797740/MTD_PrimaryVertex_201123.pdf \r\n\r\nPR validation:\r\n\r\nThe PR has been tested on workflow on TTbar14TeV+PU200. Changes expected in 4D vertices and tracks with timing, for details see [presentation](https://indico.cern.ch/event/1345175/contributions/5662821/attachments/2755500/4797740/MTD_PrimaryVertex_201123.pdf) at TRK POG.\r\n", "branch": "master", "changed_files": 32, "comments": 27, "commits": 15, "created_at": "1702913418", "deletions": 1115, "labels": ["reconstruction-pending", "simulation-pending", "dqm-pending", "alca-pending", "operations-pending", "pending-signatures", "tests-approved", "orp-pending", "upgrade-pending", "code-checks-approved", "tracking", "trk"], "milestone": "CMSSW_14_0_X", "number": 43592, "release-notes": [], "review_comments": 22, "state": "open", "title": "Vertex reconstruction: code re-organization + vertex time computation", "updated_at": "1703259025", "user": "kdeleo"}