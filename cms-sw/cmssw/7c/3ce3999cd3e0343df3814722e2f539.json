{"additions": 8, "auther_ref": "dispColl4Bpark_106X", "auther_sha": "9e188f5fbb23667d7ebb238048135c18ceae3b4d", "author": "mgratti", "body": "This PR includes modifications to allow usage of displaced muon collections in the B-parking data, in view of the upcoming b-parking UL re-reco, at small cost in miniAOD size. \r\n \r\n(1) the two collections of reco::Tracks, `displacedGlobalMuons` and `displacedTracks`, are added to the miniAOD: the size increase was checked in a MINIAODSIM sample with similar PU conditions as the b-parking data and was found to be \r\n\r\n- displacedGlobalMuons:  +256 Bytes/event     +0.2%\r\n- displacedTracks:             +343 Bytes/event     +0.3%\r\n\r\nNote that the `displacedStandAloneMuons` (dSA) are already included by default.\r\n\r\n(2) thanks to the extra information (TrackExtra and TrackingRecHits) made available for the PAT muons by #31350, it should be possible to extrapolate the PAT muon trajectory to the innermost hit of the dSA, allowing for a more precise dR matching, compared to simple dR matching. In order to use this information also for low pt muons, it is proposed to lower the minimum pt at which the information is saved in MINIAOD from 4.5 GeV to 3.0 GeV.\r\n\r\nThe size increase was evaluated by Josh to be about 1 KB/evt, corresponding to less than +1%\r\nhttps://github.com/cms-sw/cmssw/pull/30544#issuecomment-660811861\r\n\r\nPlease note that this PR was opened directly in 10_6_X, as it seemed coherent with similar PRs for adding collections in miniAOD for the b-parking era, but please let me know if this should be first opened on the master branch.\r\n\r\nAdditionally, the PR validation was done by running `runTheMatrix.py -l limited -i all --ibeos`, the output is attached [runall-report-step123-.log](https://github.com/cms-sw/cmssw/files/6614219/runall-report-step123-.log).\r\n\r\nFrom other PRs for the b-parking, I saw mentioned the workflow 1304.181. I would appreciate if you could let me know how i could test this one locally.\r\n\r\n\r\n", "branch": "CMSSW_10_6_X", "changed_files": 2, "closed_at": "1623242767", "comments": 20, "commits": 2, "created_at": "1623129184", "deletions": 0, "labels": ["backport-ok", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "395aaf10dc013e798105c3cc1f74b748851cfbc9", "merged_at": "1623242767", "merged_by": "cmsbuild", "milestone": "CMSSW_10_6_X", "number": 34008, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[backport 106X] Usage of displaced collections in the B-parking data ", "updated_at": "1623242767", "user": "mgratti"}