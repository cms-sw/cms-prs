{"additions": 232, "auther_ref": "dqm-harvestlumi-script", "auther_sha": "fcae2f2eb1aee318339626af1fb5ff30cf1fd29b", "author": "schneiml", "body": "#### PR description:\r\nThis PR introduces a new tool to extract the histograms from DQMIO data (including per-lumi saved MEs), and repacks them into a format acceptable by DQMGUI.\r\n\r\nThere are various limitations on DQMGUI side regarding this data, and the navigation between lumisections is achieved by swapping run and ls numbers. Such files should never be uploaded to official DQMGUI instances, and are only to view specific data using a local GUI.\r\n\r\n#### PR validation:\r\n\r\nIntroduces a new tool, no changes expected.\r\n\r\n Instructions to run:\r\n```\r\n# 0. Connect to lxplus with a tunnel.\r\nfirefox http://localhost:8070/dqm/online-dev/ &\r\nssh -L 8070:localhost:8070 $USER@lxplus7.cern.ch\r\n\r\n# 1. Setup a local DQMGUI\r\n/bin/bash\r\nexport PATH=$PATH:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/sbin\r\nmkdir -p /tmp/$USER/testGui\r\ncd /tmp/$USER/testGui\r\ngit clone git://github.com/dmwm/deployment.git\r\n$PWD/deployment/Deploy -A slc7_amd64_gcc630 -r \"comp=comp\" \\\r\n  -R comp@HG1908e -t MYDEV -s \"prep sw post\" $PWD dqmgui/bare\r\nsource current/apps/dqmgui/128/etc/profile.d/env.sh\r\n$PWD/current/config/dqmgui/manage -f online \\\r\n  start \"I did read documentation\"\r\nexit\r\n\r\n# 2. Setup the tool (no longer needed once this PR is merged)\r\ncmsrel CMSSW_11_0_0_pre5\r\ncd CMSSW_11_0_0_pre5/src/\r\ncmsenv\r\ngit cms-merge-topic schneiml:dqm-harvestlumi-script\r\nscram b -j8\r\n\r\n# 3. Run the tool\r\nvoms-proxy-init --rfc --voms cms\r\ndqmiolumiharvest.py -u http://localhost:8070/dqm/online-dev/ \\\r\n  --perlumionly -j10 \\\r\n  -m \"JetMET/MET/*/*/METSig\" \\\r\n  -r 301393 \\\r\n  /JetHT/Run2017C-25Jul2019_UL2017-v2/DQMIO\r\n\r\n# 4. Wait for the GUI to index and enjoy your per-lumi plots!\r\n# this can take a while, much longer than collecting the data...\r\n```", "branch": "master", "changed_files": 2, "closed_at": "1568829220", "comments": 14, "commits": 7, "created_at": "1567151155", "deletions": 1, "labels": ["code-checks-approved", "comparison-available", "dqm-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "d828cac0faf1e7e4e0dab8b53ce57471d68ba43c", "merged_at": "1568829220", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 27903, "release-notes": [], "review_comments": 0, "state": "closed", "title": "DQMIO lumisection extraction script", "updated_at": "1569389917", "user": "schneiml"}