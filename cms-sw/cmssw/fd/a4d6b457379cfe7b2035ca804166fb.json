{"additions": 6776, "auther_ref": "BPH_reco_update", "auther_sha": "25969a6cf0929c87a7acf3eef9392e3be61253b7", "author": "ronchese", "body": "#### PR description:\r\nDescription:\r\n\r\nUpdate of a reconstruction package used for BPH analysis; the package\r\nis described in the twiki\r\nhttps://twiki.cern.ch/twiki/bin/view/CMS/BPHReco_V2\r\nThe code currently in CMSSW official releases is obsolete, the updated \r\nversion has been used in the past to obtained the results in DP2018_036\r\nand now it's planned to be used for BPH DQM.\r\nThe updates are the following:\r\n- code modernization (nullptr in place of 0, override declarations included...)\r\n- a few bug fixes\r\n- secondary vertices reconstruction and fit improved and refactored\r\n- new functionalities added\r\n- new decay channels reconstruction implemented\r\n\r\nThe update is splitted in several commits, each one improving a specific\r\naspect; the code resulting for each intermediate commit was tested against\r\ncompilation but not necessarily for run. Only the final version has been\r\ntested and results validated.\r\nNo dependence on other PRs; detailed list of commits at the end.\r\n\r\n#### PR validation:\r\n\r\nTests:\r\n\r\nFull test directory with runTheMatrix.py output here:\r\nhttps://cernbox.cern.ch/index.php/s/xOkaIEnE7kQ7VLs\r\n\r\nOther tests performed processing a few events in datasets:\r\n/Charmonium/Run2018A-PromptReco-v2/MINIAOD (with CMSSW_10_1_5)\r\n/Charmonium/CMSSW_11_0_0_pre6-110X_dataRun2_v5_RelVal_2018A-v1/MINIAOD (with CMSSW_11_0_0_pre12)\r\nand looking at the output.\r\n\r\nDetailed commit list:\r\n\r\n7efb6e4f914 Generic selectors redesigned and inlined, some code formatting fixed\r\n5f74b94f9b3 include cleanup\r\ndfb287a2f1b deleted constructors and operators declarations cleanup\r\nf43a1deedde nullptr used in place of 0 and smart pointer usage improved\r\n141edee870a virtual replaced with override in derived classes\r\nf6555c0129a switch sequence reordered in BPHPlusMinusCandidate\r\ndec061316a4 empty() function used to test null strings\r\n19f483e6406 selection stopped at first fail in BPHRecoBuilder\r\n7c47ec24106 template declarations format fixed\r\n4d5591dbe08 different vertex fitters allowed in BPHDecayVertex\r\nb136586146b pointer downcasts fixed\r\nc76b5a532f6 clone() function added\r\n88057a9f5ba electron ctf tracks included\r\nfd5cdb464d7 unconstrained kinematic fit added\r\n6959d11e257 direct access to top particle in KinematicTree added\r\n861b7aebc14 KinematicParticle building refactored\r\n4c410fda471 kinematic fit in cascade decays refactored\r\nfe040a0a707 constrained kinematic fit refactored\r\nbb4eb643b40 separate fit of flying cascade decays implemented\r\n22e5fc57943 function order matched in interface and implementation\r\n6a2b572d40e particle collections handling in BPHRecoBuilder fixed\r\nde11fd46943 header file includes moved to separate wrapper files to ease porting\r\n11fa35e8716 basic selections updated\r\nc147c7ca4d3 generic decay builders added\r\n206d7a03926 specific decays reconstruction updated\r\n6bf92cda541 new decay channels added\r\n\r\n", "branch": "master", "changed_files": 92, "closed_at": "1585588158", "comments": 19, "commits": 27, "created_at": "1584713687", "deletions": 2160, "labels": ["analysis-approved", "code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "179bc69ffe96e79a1c9b14ee0acffb394aa7588e", "merged_at": "1585588158", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 29253, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Bph reco update", "updated_at": "1585588159", "user": "ronchese"}