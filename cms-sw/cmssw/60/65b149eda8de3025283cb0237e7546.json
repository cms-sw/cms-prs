{"additions": 549, "auther_ref": "dev-finecalo-pre8-squashed", "auther_sha": "2f00841e67e8d07445d37b06e450bac4f081441d", "author": "tklijnsma", "body": "#### PR description:\r\n\r\nThis PR adds the possibility to do 'fine calorimetry' for choosable detectors. The option is disabled by default (no changes w.r.t. base CMSSW).\r\n\r\n- PCaloHits receive a method `geantFineTrackId()`, which points to the ancestor track that crossed the boundary into the calorimeter.\r\n- All ancestors of tracks that cross the boundary into the calorimeter are saved (no broken decay tree w.r.t. to the earliest particle).\r\n- For each track that crosses the boundary into the calorimeter, the entry point and energy/momentum at the boundary are recorded (and saved in the SimTrack object). Using the (sum of) the track energies at the boundary ensures there is no energy double counting.\r\n\r\nThe purpose of this PR is to get a complete picture of the particles that enter a calorimeter, in order to develop algorithms for multi-particle reconstruction (rather than using single-particle close-by particle guns).\r\n\r\n#### PR validation:\r\n\r\nTest events (single muon, single pion, ttbar) with this patch have been generated and behave as expected.", "branch": "master", "changed_files": 25, "closed_at": "1610997316", "comments": 90, "commits": 15, "created_at": "1605024194", "deletions": 130, "labels": ["code-checks-approved", "operations-pending", "orp-pending", "pending-signatures", "simulation-pending", "tests-pending"], "milestone": "CMSSW_11_3_X", "number": 32083, "release-notes": [], "review_comments": 51, "state": "closed", "title": "finecalo patches v1: boundary-crossing logic and better history", "updated_at": "1610997317", "user": "tklijnsma"}