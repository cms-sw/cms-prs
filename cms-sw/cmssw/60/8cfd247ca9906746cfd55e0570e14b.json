{"additions": 370, "auther_ref": "chirp_cmssw_updates", "auther_sha": "acd0eea88793aac46b911cdf1ea521f9cb289c09", "author": "bbockelm", "body": "This commit provides a new default service, CondorStatusService,\nwhich automatically reports basic progress statistics (# events,\n\nThe service will automatically detect if it's running as part of\na HTCondor job and probes to see if HTCondor has user-level updates\nenabled (and is a sufficient version).  If either check fails, then\nthe service does not register any callbacks with the framework and\neffectively becomes a no-op.\n\nTo see if it is within a HTCondor job, the service looks for the\n_CONDOR_CHIRP_CONFIG environment variable - a very cheap check.\nTo see if HTCondor supports this feature, it spawns a new process\nand looks at the exit code (more expensive).\n\nThis uses the 'set_job_attr_delayed' mechanism of HTCondor,\nwhich causes these updates to 'tag along' with the existing updates\nfor memory / disk / CPU usage.  Hence, the extra cost is the few\nextra bytes in the update packet that goes out once every 5 minutes.\nThe update only goes as far as the local daemon; condor_chirp does\nnot wait for it to propagate to the remote host.  Hence, it exits\nrapidly.\n\nCMSSW will only update once every updateIntervalSeconds (defaults\nto 15 minutes).  The HTCondor worker node and central components\nall have additional rate limiting mechanisms to prevent overload.\n", "branch": "CMSSW_7_6_X", "changed_files": 2, "closed_at": "1437495452", "comments": 40, "commits": 8, "created_at": "1436205944", "deletions": 1, "labels": ["comparison-pending", "core-approved", "fully-signed", "orp-pending", "tests-rejected"], "merge_commit_sha": "9d9a7ea1f22123c3a8268fc30cf6007cc6e423ea", "merged_at": "1437495452", "merged_by": "davidlange6", "milestone": "CMSSW_7_6_X", "number": 10056, "release-notes": [], "review_comments": 3, "state": "closed", "title": "Integrate CMSSW with HTCondor's update service.", "updated_at": "1437496504", "user": "bbockelm"}