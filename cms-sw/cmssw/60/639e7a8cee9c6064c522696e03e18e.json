{"additions": 206, "auther_ref": "addBPixMapsToLorentzAngleHarvester_12_2_X", "auther_sha": "246ef92d560d819a86fa48569172c41d1f673cdd", "author": "CMSTrackerDPG", "body": "backport of https://github.com/cms-sw/cmssw/pull/36853\r\n\r\n#### PR description:\r\n\r\nThis PR collects a series of improvements coming from the commissioning of the `SiPixelLorentzAngle` PCL workflow being commissioned at https://github.com/dmwm/T0/pull/4635 and builds on top of PRs https://github.com/cms-sw/cmssw/pull/36565 and https://github.com/cms-sw/cmssw/pull/36538:\r\n   * adds output LorentzAngle maps to `SiPixelLorentzAnglePCLHarvester` (507cc26ea7754b73e6b042448b12dccd26a6aa08 and 246ef92d560d819a86fa48569172c41d1f673cdd)\r\n   * layer-dependent cluster y-size cut in `SiPixelLorentzAnglePCLWorker` (2e02258d16a7c77bf141147278f984f8ec5625eb)\r\n   * add `SiPixelLorentzAngleFullMapCompare` to Pixel Payload Inspector (dbb5a2d42f86bf5b75374592359128b0dafacd88), triggers also DQM signature\r\n\r\n#### PR validation:\r\n\r\nPrivately run \r\n\r\n```console\r\n cmsDriver.py testReAlCa -s ALCA:PromptCalibProdSiPixelLorentzAngle --conditions 121X_dataRun3_Express_TIER0_REPLAY_Run2_v1 --scenario pp --data --era Run2_2018 --datatier ALCARECO --eventcontent ALCARECO --processName=ReAlCa -n 100000 --dasquery='file dataset=/StreamExpress/Tier0_REPLAY_2021-SiPixelCalSingleMuon-Express-v1/ALCARECO' --customise_commands='process.ALCARECOCalSignleMuonFilterForSiPixelLorentzAngle.TriggerResultsTag = cms.InputTag ( \"TriggerResults\",\"\",\"HLT\" ) ; process.ALCARECOCalSignleMuonFilterForSiPixelLorentzAngle.HLTPaths = [\"*\"]' --nThreads=4 \r\n```\r\n\r\nfollowed by:\r\n\r\n```console\r\n cmsDriver.py stepHarvest -s ALCAHARVEST:SiPixelLA --conditions 121X_dataRun3_Express_TIER0_REPLAY_Run2_v1 --scenario pp --data --era Run2_2018 --filein file:PromptCalibProdSiPixelLorentzAngle.root -n -1\r\n```\r\n\r\nFor what concerns the PI update (dbb5a2d42f86bf5b75374592359128b0dafacd88), here's an example of plot obtainable (using the results of the Tier-0 replay):\r\n\r\n![badaa251-0920-4125-a57a-99d80cf368f4](https://user-images.githubusercontent.com/5082376/152005875-9653685b-9e34-4135-adfa-9251cefdd1b4.png)\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nVerbatim backport of #36853", "branch": "CMSSW_12_2_X", "changed_files": 7, "closed_at": "1643871588", "comments": 7, "commits": 5, "created_at": "1643823941", "deletions": 19, "labels": ["alca-approved", "dqm-approved", "fully-signed", "tests-approved", "db-approved", "orp-approved", "backport-ok"], "merge_commit_sha": "d671910d96147a8626a9097929c698d9561e2626", "merged_at": "1643871588", "merged_by": "cmsbuild", "milestone": "CMSSW_12_2_X", "number": 36866, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[12.2.X] Improvements on SiPixelLorentzAngle PCL workflow: layer-dependent cluster size cut and output maps", "updated_at": "1643871589", "user": "mmusich"}