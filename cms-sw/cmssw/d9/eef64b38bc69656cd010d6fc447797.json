{"additions": 135, "auther_ref": "mm_hlt_gpu_vs_cpu_comparisons_in_offline_dqm", "auther_sha": "47852f1d27f160a99dfa3862d79dc09e7c8aa143", "author": "mmusich", "body": "#### PR description:\r\n\r\nIt has been discussed that it would be desirable to have means to assess the discrepancies in the heterogeneous reconstruction chains when run on CPU vs GPU backends at release validation level by submitting some of the existing patatrack workflows on dedicated resources. \r\nIn all those workflows the HLT menu is run as part of the step 2 and in PR https://github.com/cms-sw/cmssw/pull/49079 we have percolated the `DQMGPUvsCPU` stream event content (as it is run online) to the `HLTDebugRAW` and `HLTDebugFEVT` for release validation purposes. \r\nThis means we can thus finally profit of the existing DQM infrastructure (developed for online DQM) to generate such comparisons in relvals.\r\nThe goal of this PR is to provide the infrastructural changes to do so, while making sure to not crash the process in case some of the input collections are not available.\r\n\r\n#### PR validation:\r\n\r\nI have run the following workflow \r\n\r\n```\r\nrunTheMatrix.py --what gpu -l 17034.402 -t 4 -j 8 --ibeos\r\n```\r\n\r\nboth in a machine equipped with a NVIDIA T4 GPU and in one without GPU attached, and I was able to inspect the output comparison plots in the earlier case.\r\nI have also run the subset of relval test in the `gpu` matrix run in PR tests via:\r\n\r\n```\r\nrunTheMatrix.py --job-reports -w gpu -l 17034.402,17034.403,17034.406,17034.412,17034.422,17034.423,29834.402,29834.403,29834.404,29834.704,29834.751 --ibeos\r\n```\r\n\r\nand did not observe issues.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nNot a backport, I think it would be useful to backport at least to CMSSW_15_1_X.\r\n\r\nCc: @AdrianoDee @fwyzard @bainbrid @mtosi \r\n", "branch": "master", "changed_files": 5, "comments": 16, "commits": 6, "created_at": "1759927158", "deletions": 30, "labels": ["dqm-approved", "pending-signatures", "tests-approved", "orp-pending", "pdmv-pending", "upgrade-pending", "code-checks-approved"], "milestone": "CMSSW_16_0_X", "number": 49105, "release-notes": [], "review_comments": 4, "state": "open", "title": "Implement GPU vs CPU comparison for HLT heterogeneous products in patatrack workflows", "updated_at": "1760421905", "user": "mmusich"}