{"additions": 25, "auther_ref": "fixCUDACoreTest", "auther_sha": "81a86dc910d28f6d17e9926aa8da2225bfbde02a", "author": "makortel", "body": "#### PR description:\r\n\r\n@fwyzard mentioned the `testHeterogeneousCoreCUDACore` unit test was segfaulting on a specific Power9 machine after the `ContextState` test section in a way that hinted towards a problem in how TBB was being used. The existing code indeed could destruct the `task_group` while it was still being used in an `task_arena::enqueue()`'d task. This PR fixes the synchronization problem in the test.\r\n\r\n#### PR validation:\r\n\r\nThe unit test runs on lxplus-gpu and on the Power9 machine @fwyzard had access to.", "branch": "master", "changed_files": 1, "comments": 2, "commits": 1, "created_at": "1676908958", "deletions": 14, "labels": ["pending-signatures", "tests-pending", "orp-pending", "code-checks-approved", "heterogeneous-pending"], "milestone": "CMSSW_13_1_X", "number": 40827, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix synchronization in ContextState test", "updated_at": "1676909635", "user": "makortel"}