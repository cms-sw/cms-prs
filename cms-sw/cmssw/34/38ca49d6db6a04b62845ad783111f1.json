{"additions": 254, "auther_ref": "OptimizeEventShapeVars", "auther_sha": "188ef2666f617fb8798a94db0842378730896c8d", "author": "kpedro88", "body": "I was looking at these variables for an analysis and became dissatisfied with inefficiencies in the code. My changes include:\r\n* remove commented-out code\r\n* update documentation in comments\r\n* use range-based loops\r\n* avoid repeated computations of momentum tensor and eigenvalues\r\n* avoid unnecessary use of `TVectorD::operator()` (incredibly slow for some reason, thanks ROOT)\r\n  * assignment of ROOT matrix objects is also slow, so tried to avoid that\r\n* avoid repeated trig computations\r\n\r\nIn addition, @owen234 had introduced the calculation of Fox-Wolfram moments in a private version of this code. I optimized it as follows:\r\n* calculate Legendre polynomials using recursive definition (minimize computation)\r\n* use symmetry factor to reduce summation (i,j term same as j,i term)\r\n\r\nThe updates are propagated to the associated producer.\r\n\r\nattn: @justinrpilot @nstrobbe", "branch": "master", "changed_files": 5, "comments": 17, "commits": 1, "created_at": "1520619953", "deletions": 105, "labels": ["analysis-pending", "code-checks-approved", "comparison-available", "orp-approved", "pending-signatures", "tests-approved"], "milestone": "CMSSW_10_1_X", "number": 22559, "release-notes": [], "review_comments": 0, "state": "open", "title": "optimize and clean up EventShapeVariables code, add Fox-Wolfram moments", "updated_at": "1521129881", "user": "kpedro88"}