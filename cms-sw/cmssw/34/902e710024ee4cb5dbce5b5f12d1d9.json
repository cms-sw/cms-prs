{"additions": 395, "auther_ref": "top-hlt-dqm-125x", "auther_sha": "91051e5d4829b83b0210151f6db05da594e2492e", "author": "ckoraka", "body": "#### PR description:\r\n\r\nThis PR implements a cleanup of the Top PAG HLT Offline DQM code. Changes were made in certain files under `DQMOffline/Trigger`:\r\n`plugins/TopMonitor.cc`\r\n`python/TopMonitor_cfi.py`\r\n`python/TopMonitoring_Client_cff.py`\r\n`python/TopMonitoring_cff.py`\r\n\r\n**Changes :** \r\n- A flag to enable and disable the creation of 2D DQM plots was added (enable2DPlots) and was set to True by default. \r\n  - This flag was set to False in the  TOP HLT DQM module configuration : \r\n    - 2-d histograms under sub-folders HLT/TOP/* will not be produced. \r\n- Added monitoring of the following HLT paths : \r\n  1. HLT_PFHT400_SixPFJet32_DoublePFBTagDeepJet_2p94_v\r\n  2. HLT_PFHT450_SixPFJet36_PFBTagDeepJet_1p59_v\r\nAs a result, two additional sub-folders are expected to be produced: \r\nHLT/TOP/FullyHadronic/DoubleBTagDeepJet\r\nHLT/TOP/FullyHadronic/SingleBTagDeepJet  \r\nNote : The deepCSV tagger is used for the selection of offline b-tagged jets since the deepjet b-tag handle is not available at RECO level. The compatibility of the trigger efficiency derived when selecting offline b-tagged jets with the deepjet vs the deepcsv tagger can be seen in slide 6 of [this](https://indico.cern.ch/event/1191718/#22-top-pag) presentation. In the future we could consider calculating the deep-jet outputs of the offline jets on-the-fly. \r\n\r\nNo changes are expected in any of the previously produced histograms in folders other than HLT/TOP\r\n\r\n#### PR validation:\r\nTested with runTheMatrix.py -l 11634.0\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nThis is a backport of [#39205](https://github.com/cms-sw/cmssw/pull/39205). The updates in the offline DQM monitoring are needed also in CMSSW_12_5_X so that results are available in dqm GUI.", "branch": "CMSSW_12_5_X", "changed_files": 4, "comments": 2, "commits": 1, "created_at": "1665045887", "deletions": 67, "labels": ["dqm-pending", "pending-signatures", "orp-pending", "tests-started"], "milestone": "CMSSW_12_5_X", "number": 39650, "release-notes": [], "review_comments": 0, "state": "open", "title": "Add flag to enable/disable production of 2d histos & added deepjet HLT monitoring (backport of #39205)", "updated_at": "1665115160", "user": "ckoraka"}