{"additions": 10, "auther_ref": "111_CheckWFNameLengthDuringWMINIT", "auther_sha": "02369292782ad5cf8dc0e63935bbaf7f6b4a94a0", "author": "srimanob", "body": "#### PR description:\r\nThe character length of computing workflow is limited to 100 characters. The workflow name composes of 3 main parts:\r\n- username\r\n- RequestString\r\n- data/time of submission; This part is added during the submission, max. characters are 19, e.g. `_200425_064221_5181`.\r\n\r\nThis PR is to check if len(username_RequestString) is longer than 81 characters or not, then print the warning at the end when `--wm init` is used. \r\n\r\nThe goal is not to break the `--wm init` process, as one may need to just dump config for testing using any release (including IB). This PR just provides the warning in case someone would like to inject workflows later. Without this test, the injection will break when `--wm force` is used. However, some of the workflows will be submitted if they come before problematic workflows.\r\n\r\n#### PR validation:\r\nTest with 11_1_0_pre6:\r\nrunTheMatrix.py --what standard -l 136.886,136.7611,136.756 -t 8 -b 'DQM8CoresData' --label 'DQM8CoresData1234567890' --wm init\r\n\r\n```\r\n*** FIX NEEDED BEFORE INJECTION: 2 candidate workflows have too long name (>81 characters) ***\r\nsrimanob_RVCMSSW_11_1_0_pre6RunJetHT2016E_reminiaod__DQM8CoresData1234567890_RelVal_2016Ermaod (94 characters) \r\nsrimanob_RVCMSSW_11_1_0_pre6RunZeroBias2016D__DQM8CoresData1234567890_RelVal_2016D (82 characters) \r\n```\r\n\r\nworkflow 136.866 is OK in this test,\r\n> srimanob_RVCMSSW_11_1_0_pre6RunEGamma2018D__DQM8CoresData1234567890_RelVal_2018D (80 characters long)\r\n\r\nDuring injection, 136.866 will pass the injection, then break when 136.7611 injection is done.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\nNo need to backport.", "branch": "master", "changed_files": 1, "closed_at": "1588681017", "comments": 21, "commits": 2, "created_at": "1588497087", "deletions": 4, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "pdmv-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "939f5abfefc6a81c14f2268435325929b1d9f80c", "merged_at": "1588681016", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 29621, "release-notes": [], "review_comments": 14, "state": "closed", "title": "Add warning if WF name will be too long for submission", "updated_at": "1588681017", "user": "srimanob"}