{"additions": 8, "auther_ref": "fc-updateMatrix", "auther_sha": "83e2e4612ffb5f98aec84fbbd7910a85e1149fbb", "author": "fabiocos", "body": "#### PR description:\r\n\r\nThis PR addresses two requests by @slava77 \r\n\r\n- add a 2023 test workflow to the short PyReleaseValidation matrix https://github.com/cms-sw/cmssw/pull/27678#pullrequestreview-270461796\r\n\r\n- raise an exception in case runTheMatrix.py is requested to run not defined workflows #27687\r\n\r\n#### PR validation:\r\n\r\n```\r\n18:50 cmsdev25 1912> runTheMatrix.py -n -l limited\r\nprocessing relval_standard\r\nprocessing relval_highstats\r\nprocessing relval_pileup\r\nprocessing relval_generator\r\nprocessing relval_extendedgen\r\nprocessing relval_production\r\nprocessing relval_ged\r\nignoring relval_upgrade from default matrix\r\nprocessing relval_2017\r\nprocessing relval_2026\r\nignoring relval_identity from default matrix\r\nprocessing relval_machine\r\nprocessing relval_unsch\r\nprocessing relval_premix\r\n\r\nfound a total of  786  workflows:\r\n      of which the following 34 were selected:\r\n4.22   RunCosmics2011A+RECOCOSD+ALCACOSD+SKIMCOSD+HARVESTDC \r\n4.53   RunPhoton2012B+HLTD+RECODR1reHLT+HARVESTDR1reHLT \r\n5.1    TTbarFS+HARVESTFS                   \r\n7.3    CosmicsSPLoose_UP18+DIGICOS_UP18+RECOCOS_UP18+ALCACOS_UP18+HARVESTCOS_UP18 \r\n8.0    BeamHalo+DIGICOS+RECOCOS+ALCABH+HARVESTCOS \r\n9.0    Higgs200ChargedTaus+DIGI+RECO+HARVEST \r\n25.0   TTbar+DIGI+RECOAlCaCalo+HARVEST+ALCATT \r\n135.4  ZEEFS_13+HARVESTUP15FS+MINIAODMCUP15FS \r\n136.731 RunSinglePh2016B+HLTDR2_2016+RECODR2_2016reHLT_skimSinglePh_HIPM+HARVESTDR2 \r\n136.7611 RunJetHT2016E_reminiaod+REMINIAOD_data2016_HIPM+HARVESTDR2_REMINIAOD_data2016_HIPM \r\n136.788 RunSinglePh2017B+HLTDR2_2017+RECODR2_2017reHLT_skimSinglePh_Prompt+HARVEST2017 \r\n136.8311 RunJetHT2017F_reminiaod+REMINIAOD_data2017+HARVEST2017_REMINIAOD_data2017 \r\n136.85 RunEGamma2018A+HLTDR2_2018+RECODR2_2018reHLT_skimEGamma_Offline_L1TEgDQM+HARVEST2018_L1TEgDQM \r\n140.53 RunHI2011+RECOHID11+HARVESTDHI      \r\n140.56 RunHI2018+RECOHID18+HARVESTDHI18    \r\n158.0  HydjetQ_B12_5020GeV_2018_ppReco+DIGIHI2018PPRECO+RECOHI2018PPRECO+ALCARECOHI2018PPRECO+HARVESTHI2018PPRECO \r\n1306.0 SingleMuPt1_UP15+DIGIUP15+RECOUP15+HARVESTUP15 \r\n1325.7 TTbar_13_94Xv2NanoAODINPUT+NANOEDMMC2017_94XMiniAODv2+HARVESTNANOAODMC2017_94XMiniAODv2 \r\n1330.0 ZMM_13+DIGIUP15+RECOUP15_L1TMuDQM+HARVESTUP15_L1TMuDQM \r\n101.0  SingleElectronE120EHCAL             \r\n25202.0 TTbar_13+DIGIUP15_PU25+RECOUP15_PU25+HARVESTUP15_PU25 \r\n1000.0 RunMinBias2011A+TIER0+SKIMD+HARVESTDfst2+ALCASPLIT \r\n1001.0 RunMinBias2011A+TIER0EXP+ALCAEXP+ALCAHARVDSIPIXELCALRUN1+ALCAHARVD1+ALCAHARVD2+ALCAHARVD3+ALCAHARVD4+ALCAHARVD5 \r\n10024.0 TTbar_13TeV_TuneCUETP8M1_2017_GenSimFull+DigiFull_2017+RecoFull_2017+HARVESTFull_2017+ALCAFull_2017 \r\n10042.0 ZMM_13TeV_TuneCUETP8M1_2017_GenSimFull+DigiFull_2017+RecoFull_2017+HARVESTFull_2017+ALCAFull_2017 \r\n10224.0 TTbar_13TeV_TuneCUETP8M1_2017PU_GenSimFull+DigiFullPU_2017PU+RecoFullPU_2017PU+HARVESTFullPU_2017PU \r\n10824.0 TTbar_13TeV_TuneCUETP8M1_2018_GenSimFull+DigiFull_2018+RecoFull_2018+HARVESTFull_2018+ALCAFull_2018+NanoFull_2018 \r\n11634.0 TTbar_14TeV_TuneCUETP8M1_2021_GenSimFull+DigiFull_2021+RecoFull_2021+HARVESTFull_2021+ALCAFull_2021 \r\n12434.0 TTbar_14TeV_TuneCUETP8M1_2023_GenSimFull+DigiFull_2023+RecoFull_2023+HARVESTFull_2023+ALCAFull_2023 \r\n20034.0 TTbar_14TeV_TuneCUETP8M1_2026D35_GenSimHLBeamSpotFull14+DigiFullTrigger_2026D35+RecoFullGlobal_2026D35+HARVESTFullGlobal_2026D35 \r\n20434.0 TTbar_14TeV_TuneCUETP8M1_2026D41_GenSimHLBeamSpotFull14+DigiFullTrigger_2026D41+RecoFullGlobal_2026D41+HARVESTFullGlobal_2026D41 \r\n21234.0 TTbar_14TeV_TuneCUETP8M1_2026D44_GenSimHLBeamSpotFull14+DigiFullTrigger_2026D44+RecoFullGlobal_2026D44+HARVESTFullGlobal_2026D44 \r\n22034.0 TTbar_14TeV_TuneCUETP8M1_2026D46_GenSimHLBeamSpotFull14+DigiFullTrigger_2026D46+RecoFullGlobal_2026D46+HARVESTFullGlobal_2026D46 \r\n250202.181 TTbar_13UP18+PREMIXUP18_PU25+DIGIPRMXLOCALUP18_PU25+RECOPRMXUP18_PU25+HARVESTUP18_PU25 \r\n\r\n1 workflows with 1 steps\r\n1 workflows with 2 steps\r\n6 workflows with 3 steps\r\n13 workflows with 4 steps\r\n11 workflows with 5 steps\r\n1 workflows with 6 steps\r\n1 workflows with 9 steps\r\n\r\n -------------------------------------------------------------------------------- \r\n\r\ntestListected items: [8, 9.0, 140.53, 12434.0, 140.56, 5.1, 25, 1306.0, 158.0, 1325.7, 10024.0, 21234.0, 136.788, 1330, 135.4, 4.22, 136.7611, 10042.0, 20034.0, 4.53, 10824.0, 7.3, 250202.181, 136.85, 20434.0, 101.0, 136.731, 1001, 22034.0, 10224.0, 1000, 11634.0, 25202.0, 136.8311]\r\n```\r\n\r\n```\r\n18:50 cmsdev25 1913> runTheMatrix.py -n -l 1111111.88\r\nprocessing relval_standard\r\nprocessing relval_highstats\r\nprocessing relval_pileup\r\nprocessing relval_generator\r\nprocessing relval_extendedgen\r\nprocessing relval_production\r\nprocessing relval_ged\r\nignoring relval_upgrade from default matrix\r\nprocessing relval_2017\r\nprocessing relval_2026\r\nignoring relval_identity from default matrix\r\nprocessing relval_machine\r\nprocessing relval_unsch\r\nprocessing relval_premix\r\nTraceback (most recent call last):\r\n  File \"/build/fabiocos/110X/update-relval/CMSSW_11_0_X_2019-08-06-2300/bin/slc7_amd64_gcc700/runTheMatrix.py\", line 347, in <module>\r\n    ret = runSelected(opt)\r\n  File \"/build/fabiocos/110X/update-relval/CMSSW_11_0_X_2019-08-06-2300/bin/slc7_amd64_gcc700/runTheMatrix.py\", line 30, in runSelected\r\n    if twf not in definedWF: raise ValueError('Not defined workflow ', twf , ' requested')\r\nValueError: ('Not defined workflow ', 1111111.88, ' requested')\r\n```\r\n\r\nVarious input flag combinations have been tested (--dryRun,. --what upgrade, regular processing, etc...) , and python3 compilation passes.", "branch": "master", "changed_files": 1, "closed_at": "1565289692", "comments": 15, "commits": 2, "created_at": "1565189548", "deletions": 0, "labels": ["code-checks-approved", "comparison-available", "orp-approved", "pdmv-approved", "pending-signatures", "tests-approved", "upgrade-pending"], "merge_commit_sha": "09b8508d8f0cbb664da52c43a170bf747df9ba8a", "merged_at": "1565289691", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 27713, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Add 2023 test workflow to the short PyRelVal matrix, add a protection for not defined workflows", "updated_at": "1565289692", "user": "fabiocos"}