{"additions": 397, "auther_ref": "fix_RunInfo_and_PopCon", "auther_sha": "44497ff189bb4fd8c5f495e0147078f3dc3aa9a7", "author": "diguida", "body": "The RunInfo O2O has been modified: \n- Make the tag population in synch with the `CondDBv2` tag policy. In https://github.com/diguida/cmssw/blob/fix_RunInfo_and_PopCon/CondCore/CondDB/src/IOVEditor.cc#L189-L201, as specified in the comment too, if the tag has synchronisation `ANY` or `VALIDATION`, IOV insertion in the past or overriding are allowed, while they are forbidden (an exception is thrown) for \"production\" tags. The RunInfo code is now protected so that it first tests the input run number against the last IOV of the target tag: if the new run number is smaller than or equal to the latest IOV in the target tag, the job exits, and no new IOVs are added irrespectively of the synchronisation;\n- Use `CondCore` API as defined in `ConnectionPool` in order to authenticate `Oracle` access via roles, instead of the `CORAL` API in `RelationalAccess`;\n- Improve queries by performing joins on PK-FK (query time improved by factor 2);\n- Throw exceptions in case CORAL fails to execute a query;\n- Improve logging messages;\n- Improve code style;\n- Review the configuration file to be fully complaint with the O2O online framework.\n\nRemoved a dead data member in PopCon.\n\nAdded a comment in `CondCore/CondDB/src/IOVEditor.cc` clarifying the tag update policy w.r.t. tag synchronisation.\n", "branch": "CMSSW_8_1_X", "changed_files": 8, "closed_at": "1463549296", "comments": 16, "commits": 10, "created_at": "1462805473", "deletions": 376, "labels": ["alca-approved", "comparison-available", "db-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "a54978b39c03388d669bab5f662277f27695e684", "merged_at": "1463549296", "merged_by": "cmsbuild", "milestone": "Next CMSSW_8_1_X", "number": 14420, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fixes for RunInfo O2O and cleanup of PopCon interface", "updated_at": "1463549296", "user": "diguida"}