{"additions": 187, "auther_ref": "fixCompilationErrosInMuscleFitMacros_12_4_X", "auther_sha": "679d8051305a3bae1d5adc4108325931b2961d20", "author": "mmusich", "body": "backport of https://github.com/cms-sw/cmssw/pull/39065\r\n\r\n#### PR description:\r\n\r\nThis PR fixes a couple of compilation errors preventing the Z alignment validation to run, due to failures in the merge step.\r\nThe errors spotted are:\r\n\r\n```\r\nInfo in <TUnixSystem::ACLiC>: creating shared library /pool/condor/dir_18690/TkAllInOneTool/./CompareBiasZValidation_cc.so\r\nIn file included from CompareBiasZValidation_cc_ACLiC_dict dictionary payload:8:\r\nIn file included from ././CompareBiasZValidation.cc:9:\r\nIn file included from /pool/condor/dir_18690/TkAllInOneTool/FitMassSlices.cc:4:\r\nIn file included from /pool/condor/dir_18690/TkAllInOneTool/FitSlices.cc:4:\r\n/pool/condor/dir_18690/TkAllInOneTool/FitXslices.cc:108:48: error: use of overloaded operator '+' is ambiguous (with operand types 'TString' and 'std::__cxx11::basic_stringstream<char, std::char_traits<char>, std::allocator<char> >::__string_type' (aka 'basic_string<char, std::char_traits<char>, std::allocator<char> >'))\r\n      TH1* sliceHisto = histo->ProjectionY(name+ss.str(), x, x);\r\n                                           ~~~~^~~~~~~~~\r\n/cvmfs/cms.cern.ch/slc7_amd64_gcc10/lcg/root/6.24.07-bf41b0420bc269850b74e23486e2953a/include/TString.h:49:9: note: candidate function\r\nTString operator+(const TString &s1, const TString &s2);\r\n        ^\r\n/cvmfs/cms.cern.ch/slc7_amd64_gcc10/lcg/root/6.24.07-bf41b0420bc269850b74e23486e2953a/include/TEveUtil.h:116:15: note: candidate function\r\nTEveException operator+(const TEveException &s1, const std::string  &s2);\r\n              ^\r\n/cvmfs/cms.cern.ch/slc7_amd64_gcc10/lcg/root/6.24.07-bf41b0420bc269850b74e23486e2953a/include/TString.h:51:9: note: candidate function\r\nTString operator+(const char *cs, const TString &s);\r\n        ^\r\n/cvmfs/cms.cern.ch/slc7_amd64_gcc10/lcg/root/6.24.07-bf41b0420bc269850b74e23486e2953a/include/TEveUtil.h:117:15: note: candidate function\r\nTEveException operator+(const TEveException &s1, const TString &s2);\r\n              ^\r\nIn file included from CompareBiasZValidation_cc_ACLiC_dict dictionary payload:8:\r\nIn file included from ././CompareBiasZValidation.cc:9:\r\nIn file included from /pool/condor/dir_18690/TkAllInOneTool/FitMassSlices.cc:4:\r\nIn file included from /pool/condor/dir_18690/TkAllInOneTool/FitSlices.cc:4:\r\n/pool/condor/dir_18690/TkAllInOneTool/FitXslices.cc:262:50: error: use of overloaded operator '+' is ambiguous (with operand types 'TString' and 'std::__cxx11::basic_stringstream<char, std::char_traits<char>, std::allocator<char> >::__string_type' (aka 'basic_string<char, std::char_traits<char>, std::allocator<char> >'))\r\n        TH1* sliceHisto = histo->ProjectionZ(name+ss.str(), x, x, y, y);\r\n                                             ~~~~^~~~~~~~~\r\n/cvmfs/cms.cern.ch/slc7_amd64_gcc10/lcg/root/6.24.07-bf41b0420bc269850b74e23486e2953a/include/TString.h:49:9: note: candidate function\r\nTString operator+(const TString &s1, const TString &s2);\r\n        ^\r\n/cvmfs/cms.cern.ch/slc7_amd64_gcc10/lcg/root/6.24.07-bf41b0420bc269850b74e23486e2953a/include/TEveUtil.h:116:15: note: candidate function\r\nTEveException operator+(const TEveException &s1, const std::string  &s2);\r\n              ^\r\n/cvmfs/cms.cern.ch/slc7_amd64_gcc10/lcg/root/6.24.07-bf41b0420bc269850b74e23486e2953a/include/TString.h:51:9: note: candidate function\r\nTString operator+(const char *cs, const TString &s);\r\n        ^\r\n/cvmfs/cms.cern.ch/slc7_amd64_gcc10/lcg/root/6.24.07-bf41b0420bc269850b74e23486e2953a/include/TEveUtil.h:117:15: note: candidate function\r\nTEveException operator+(const TEveException &s1, const TString &s2);\r\n              ^\r\nIn file included from CompareBiasZValidation_cc_ACLiC_dict dictionary payload:8:\r\nIn file included from ././CompareBiasZValidation.cc:9:\r\nIn file included from /pool/condor/dir_18690/TkAllInOneTool/FitMassSlices.cc:4:\r\n/pool/condor/dir_18690/TkAllInOneTool/FitSlices.cc:115:55: error: use of overloaded operator '+' is ambiguous (with operand types 'TString' and 'std::__cxx11::basic_stringstream<char, std::char_traits<char>, std::allocator<char> >::__string_type' (aka 'basic_string<char, std::char_traits<char>, std::allocator<char> >'))\r\n      tempHisto->SetName(TString(tempHisto->GetName())+ss.str());\r\n                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~\r\n/cvmfs/cms.cern.ch/slc7_amd64_gcc10/lcg/root/6.24.07-bf41b0420bc269850b74e23486e2953a/include/TString.h:49:9: note: candidate function\r\nTString operator+(const TString &s1, const TString &s2);\r\n        ^\r\n/cvmfs/cms.cern.ch/slc7_amd64_gcc10/lcg/root/6.24.07-bf41b0420bc269850b74e23486e2953a/include/TEveUtil.h:116:15: note: candidate function\r\nTEveException operator+(const TEveException &s1, const std::string  &s2);\r\n              ^\r\n/cvmfs/cms.cern.ch/slc7_amd64_gcc10/lcg/root/6.24.07-bf41b0420bc269850b74e23486e2953a/include/TString.h:51:9: note: candidate function\r\nTString operator+(const char *cs, const TString &s);\r\n        ^\r\n/cvmfs/cms.cern.ch/slc7_amd64_gcc10/lcg/root/6.24.07-bf41b0420bc269850b74e23486e2953a/include/TEveUtil.h:117:15: note: candidate function\r\nTEveException operator+(const TEveException &s1, const TString &s2);\r\n              ^\r\nWarning in <TInterpreter::TCling::RegisterModule>: Problems declaring payload for module CompareBiasZValidation_cc_ACLiC_dict.\r\nIncrementalExecutor::executeFunction: symbol '_ZStL19__constant_string_pIcEbPKT_' unresolved while linking [cling interface function]!\r\nYou are probably missing the definition of bool std::__constant_string_p<char>(char const*)\r\nMaybe you need to load the corresponding shared library?\r\n```\r\n\r\n#### PR validation:\r\n\r\nRun successfully with the fix.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nVerbatim backport of https://github.com/cms-sw/cmssw/pull/39065, needed for tracker alignment purposes.", "branch": "CMSSW_12_4_X", "changed_files": 2, "comments": 4, "commits": 2, "created_at": "1660571652", "deletions": 136, "labels": ["alca-pending", "pending-signatures", "tests-approved", "orp-pending", "bug-fix", "backport", "trk"], "milestone": "CMSSW_12_4_X", "number": 39068, "release-notes": [], "review_comments": 0, "state": "open", "title": "[12.4.X] fix compilation errors in MomentumScaleCalibration macros", "updated_at": "1660588489", "user": "mmusich"}