{"additions": 95381, "auther_ref": "mkFit-reincarnated", "auther_sha": "8cf533ac8556711bfea0d31393d78854a1b7abe4", "author": "trackreco", "body": "### PR description\r\n\r\nThis is a preliminary/draft PR intended as a work-in-progress preview of the upcoming mkFit integration in CMSSW, expected in 12_3_0. It was requested that we do it this year and as such it was rather rushed and significant code cleanup is expected before the final PR is made.\r\n\r\nThis PR adds two subpackages to RecoTracker: MkFitCore and MkFitCMS  see below for their overall structure and content. Both of them include a subdirectory standalone/ where code that is not needed for operation within CMSSW was collected. However, some of this code will need to be reactivated for CMSSW as it produces auto-generated code that describes Phase1 geometry and mkFit track-finding parameters.\r\n\r\nSome classes in MkFitCore (e.g. MkBuilder) are still containing commented out code that is or was needed for standalone operation (look for CCCC - C is for clean)  this will be moved out as we reestablish the standalone mode of operation. Further, some files contain a rather colorful collection of classes and need to be restructured (probably the worst offender being HitStructures.h/.cc).\r\n```\r\nRecoTracker\r\n|-- MkFit\t\t\tCMSSW mkFit producers, ESs; unchanged, just includes fixed\r\n|   |-- interface\r\n|   |-- plugins\r\n|   |-- python\r\n|   |-- src\r\n|\r\n|-- MkFitCMS\t\t\tcontains CMS specific steering code, algos & configuration\r\n|   |-- interface\t\t\t- geometry, layers, iterations\r\n|   |-- src\t\t\t\t- scoring, seed cleaning, duplicate removal functions\r\n|   `-- standalone\t\tcode to create: \r\n|       |-- CMS-2017\t\tPhase1 geometry (auto-generated)\r\n|       `-- tkNtuple\t\tproduce standalone mkfit::Event data files from tkNtuple\r\n|\r\n`-- MkFitCore\t\tmkFit core algorithms and data structures\r\n    |-- interface\r\n    |-- src\r\n    |   `-- Matriplex\t\r\n    `-- standalone\t\tcontains steering code, internal validation, build, docs\r\n        |-- Geoms                        - trivial test geometry CylindricalCow\r\n        |-- attic                             - stuff that can probably be trashed\r\n        |-- code-mod-tools           - scripts for external-to-cmssw migration\r\n        |-- dusty-chest                  - external code for standalone (to be moved elsewhere)\r\n        |                                               (SMatrix, nlohmann)\r\n        |-- test\t\t\t\t- various tests and demos for mkFit functionality\r\n        |-- val_scripts\t\t\t- scripts for standalone validation & benchmarking\r\n        |-- plotting\t\t\t-   \"\r\n        |-- web\t\t\t\t-   \"\r\n        `-- xeon_scripts\t\t-   \"\r\n```\r\n\r\n### PR validation\r\nMTV results in TTbar MC with PU (Run3, 2021 realistic conditions), comparing performance before and after mkFit integration in CMSSW:\r\nhttp://uaf-10.t2.ucsd.edu/~mmasciov/MTV_TTbarPU_cmsswIntegration/\r\n", "branch": "master", "changed_files": 253, "comments": 4, "commits": 5, "created_at": "1639777688", "deletions": 35, "labels": ["reconstruction-pending", "pending-signatures", "tests-pending", "orp-pending", "new-package-pending", "code-checks-rejected"], "milestone": "CMSSW_12_3_X", "number": 36546, "release-notes": [], "review_comments": 0, "state": "open", "title": "mkFit external integration -- preview", "updated_at": "1640029692", "user": "osschar"}