{"additions": 161, "auther_ref": "alca-add_HV_check", "auther_sha": "55dd8ee6678c94efaab8e0f6c4f251df5699aadf", "author": "francescobrivio", "body": "#### PR description:\r\nIn this PR a few improvements to the BeamSpot DQM clients are made:\r\n- A check on the Tracker HV (both pixels and strips) is added in order not to run on events which are by construction not useful for the BeamSpot determination\r\n   - This will alleviate the stress on the CondDB unfrastructure by reducing the number of \"fake-failing\" BeamSpot logs that are uploaded to the DB and that are monitored by the DB Experts on call (FYI @cms-sw/db-l2)\r\n   - The HV check in the `beamhlt` client requires a change in the event content of the `streamDQMOnlineBeamspot` to include the raw data from FED 1022 _via_ a new `hltFEDSelectorOnlineMetaData` <br> This is being implemented by @missirol as described in [JIRA-CMSHLT-2464](https://its.cern.ch/jira/browse/CMSHLT-2464)\r\n   - No additional changes are needed for the HV check in the `beam` client as the full raw data information is already available in the standard `streamDQM` event content\r\n- An explicit printout of the Global Tag used by the client is added to the client logs\r\n- A new `unitteststreamerinputsource_cfi.py` config file has been added for the specific cases where the unitTests are running on streamer files\r\n   - Currently only the `beamhlt` DQM client is using this feature, but more clients could be adapted in the future\r\n   - The new config allows to avoid querying DAS uselessly since the input streamer files are read from [cms-data/DQM-Integration](https://github.com/cms-data/DQM-Integration)\r\n- A typo in the `LogInfo` printout of `RecoVertex/BeamSpotProducer/plugins/OnlineBeamSpotESProducer.cc` has been fixed\r\n\r\n#### PR validation:\r\nCode compiles plus successfully run:\r\n```\r\nscram b runtests_TestDQMOnlineClient-beam_dqm_sourceclient \r\nscram b runtests_TestDQMOnlineClient-beamhlt_dqm_sourceclient\r\n```\r\n\r\n#### Backport:\r\nNot a backport but 12_5_X and 12_4_X backports will be opened soon.\r\n\r\nFYI @gennai @dzuolo @mmusich @ggovi ", "branch": "master", "changed_files": 4, "closed_at": "1662699751", "comments": 12, "commits": 3, "created_at": "1662622145", "deletions": 31, "labels": ["alca-approved", "dqm-approved", "reconstruction-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved", "performance-improvements"], "merge_commit_sha": "55e19a371c3d6d4d35819e5e0560fdc0ae20591c", "merged_at": "1662699751", "merged_by": "cmsbuild", "milestone": "CMSSW_12_6_X", "number": 39347, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Add check of Tracker HV in BeamSpot DQM clients", "updated_at": "1662699751", "user": "francescobrivio"}