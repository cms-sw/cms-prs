{"additions": 91, "auther_ref": "SCALreplaceTkDQM", "auther_sha": "97d3f129a09cf407c7745ab962c990a743da8e0c", "author": "arossi83", "body": "#### PR description:\r\n\r\nWith the changes proposed here the TkDQM module which make use of SCAL information about luminosity will, by default, first check the availability of MetaData and only if this are not available use SCAL info. This changes will work only together with PR #27676 which introduce a customization of the RawToDigi sequence via era modifier. \r\n\r\n#### PR validation:\r\n\r\nTo test it a manual merge of PR #27676 is needed otherwise the code will use luminosity info from metadata also for run where metadata are not available (OnlineLuminosityRecord filled with all 0).\r\nManually tested on a run from 2017(no softFED1022) and one from 2018(with softFED1022).\r\n1) 2017\r\ncmsDriver.py step1 -s RAW2DIGI,L1Reco,RECO,DQM -n 100 --eventcontent DQM --datatier DQMIO --conditions 110X_dataRun2_v1 --filein /store/data/Run2018D/ZeroBias/RAW/v1/000/323/997/00000/DDE05469-39F3-0647-BC31-AA8247C0B6C1.root --data --no_exec --python_filename=runFirst2017.py --era Run2_2017\r\ncmsRun runFirst2017.py\r\n\r\n2) 2018\r\ncmsDriver.py step1 -s RAW2DIGI,L1Reco,RECO,DQM -n 100 --eventcontent DQM --datatier DQMIO --conditions 110X_dataRun2_v1 --filein /store/data/Run2018D/ZeroBias/RAW/v1/000/323/997/00000/DDE05469-39F3-0647-BC31-AA8247C0B6C1.root --data --no_exec --python_filename=runFirst2018.py --era Run2_2018 \r\ncmsRun runFirst2018.py\r\n\r\n\r\n#### if this PR is a backport please specify the original PR:\r\n\r\nis not a backport", "branch": "master", "changed_files": 10, "closed_at": "1576657164", "comments": 5, "commits": 1, "created_at": "1564738426", "deletions": 32, "labels": ["code-checks-rejected", "comparison-pending", "dqm-pending", "hold", "orp-pending", "pending-signatures", "tests-pending"], "milestone": "CMSSW_11_1_X", "number": 27677, "release-notes": [], "review_comments": 6, "state": "closed", "title": "Introduce changes in order to switch from LumiScalers to MetaData ", "updated_at": "1576657164", "user": "arossi83"}