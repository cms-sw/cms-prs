{"additions": 2, "auther_ref": "fix-Jet-return-local-addr", "auther_sha": "40b6690d9cb260e24b3978168331bbe610bee8f4", "author": "davidlt", "body": "`correctedJet()` returns a new `Jet` object. In `correctedP4()` we\nreturn a reference to p4() on a stack, thus the reference is invalid and\nmost likely value will be changed with the next few function calls.\n\n```\nDataFormats/PatCandidates/interface/Jet.h:155:178: error: function\nreturns address of local variable [-Werror=return-local-addr]\nDataFormats/PatCandidates/interface/Jet.h:158:204: error: function\nreturns address of local variable [-Werror=return-local-addr]\n```\n\nA quick fix (this patch) is to make `correctedP4()` return a copy\ninstead of a reference.\n\nIf `correctedJet()` is on hot path, the new `Jet` object should be\ncached and then we could also return a reference in `correctedP4()`.\n\nSigned-off-by: David Abdurachmanov David.Abdurachmanov@cern.ch\n", "branch": "CMSSW_7_6_X", "changed_files": 1, "closed_at": "1442908618", "comments": 8, "commits": 1, "created_at": "1442476192", "deletions": 2, "labels": ["analysis-approved", "comparison-available", "fully-signed", "tests-approved"], "merge_commit_sha": "5090eed60b3a757d047de6eda742190fac2af8d0", "merged_at": "1442908618", "merged_by": "cmsbuild", "milestone": "CMSSW_7_6_X", "number": 11311, "release-notes": [], "review_comments": 0, "state": "closed", "title": "correctedP4 must return a copy of p4()", "updated_at": "1442908618", "user": "davidlt"}