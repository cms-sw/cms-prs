{"additions": 341, "auther_ref": "RivetSharedResources", "auther_sha": "4818e56effdcddc16bce74476d2b93c1c44dfe4f", "author": "intrepid42", "body": "#### PR description:\r\n\r\nSeveral nanoAod workflows crashed when multi-thread jobs were running both Rivet-based ParticleLevelProducer and HTXSRivetProducer.\r\nThis PR prevents Rivet-based modules to be executed at the same time.\r\n\r\n#### PR validation:\r\n\r\nUpdated modules tested on Higgs and non-Higgs sample. All Rivet modules run together within a test job using 10 threads, no crash after 10k events (the old versions crashed after a few events). \r\n\r\nRivetAnalyzer:\r\n```\r\nRivet.Analysis.Handler: INFO  Finalising analyses\r\nRivet.Analysis.Handler: INFO  Processed 10000 events\r\n```\r\n\r\nParticleLevelProducer: Object output (dressed leptons etc.) is as expected.\r\n\r\nHTXSRivetProducer:\r\n```\r\nRivet.Analysis.HiggsTemplateCrossSections: INFO   ====================================================== \r\nRivet.Analysis.HiggsTemplateCrossSections: INFO        Higgs Template X-Sec Categorization Tool          \r\nRivet.Analysis.HiggsTemplateCrossSections: INFO                  Status Code Summary                     \r\nRivet.Analysis.HiggsTemplateCrossSections: INFO   ====================================================== \r\nRivet.Analysis.HiggsTemplateCrossSections: INFO       >>>> 10000 events successfully categorized\r\nRivet.Analysis.HiggsTemplateCrossSections: INFO       >>>> --> the following errors occured:\r\nRivet.Analysis.HiggsTemplateCrossSections: INFO       >>>> 0 had an undefined Higgs production mode.\r\nRivet.Analysis.HiggsTemplateCrossSections: INFO       >>>> 0 failed momentum conservation.\r\nRivet.Analysis.HiggsTemplateCrossSections: INFO       >>>> 0 failed to identify a valid Higgs boson.\r\nRivet.Analysis.HiggsTemplateCrossSections: INFO       >>>> 0 failed to identify the hard scatter vertex.\r\nRivet.Analysis.HiggsTemplateCrossSections: INFO       >>>> 0 VH: to identify a valid V-boson.\r\nRivet.Analysis.HiggsTemplateCrossSections: INFO       >>>> 0 failed to identify valid Ws from top decay.\r\nRivet.Analysis.HiggsTemplateCrossSections: INFO   ====================================================== \r\nRivet.Analysis.HiggsTemplateCrossSections: INFO   ====================================================== \r\n```", "branch": "master", "changed_files": 4, "closed_at": "1557167541", "comments": 24, "commits": 3, "created_at": "1556804484", "deletions": 346, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "generators-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "d6b1c1e45fda968ad38d50d007364afe990ef131", "merged_at": "1557167541", "merged_by": "cmsbuild", "milestone": "CMSSW_10_6_X", "number": 26597, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Prevent simultaneous execution of Rivet modules", "updated_at": "1557167541", "user": "intrepid42"}