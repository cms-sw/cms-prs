{"additions": 8, "auther_ref": "fixBSswap_forDQMVis_12_0_X", "auther_sha": "bdace786c69fb4aed893da4c1ba0c3ad3c9f4941", "author": "mmusich", "body": "backport of #35639\r\n\r\n#### PR description:\r\n\r\nIn PR https://github.com/cms-sw/cmssw/pull/35373 the general case for the online <-> offline BS swap done via modifiers was missed, leading to issues in the visualization DQM clients. \r\nThis PR supplies the `onlineBeamSpotESProducer` to `BeamSpot_cfi` as a general case fix-up.\r\n\r\n#### PR validation:\r\n\r\nRun `cmsRun DQM/Integration/python/clients/visualization-live_cfg.py unitTest=True`\r\nthat before was crashing with: \r\n\r\n```\r\n...\r\nException Message:\r\nNo \"BeamSpotTransientObjectsRcd\" record found in the EventSetup.n\r\n Please add an ESSource or ESProducer that delivers such a record.\r\n----- End Fatal Exception -------------------------------------------------\r\n```\r\n\r\nwhile now crashes differently with:\r\n\r\n```\r\n----- Begin Fatal Exception 13-Oct-2021 10:41:57 CEST-----------------------\r\nAn exception of category 'NoProxyException' occurred while\r\n   [0] Processing  Event run: 334393 lumi: 1 event: 16132 stream: 1\r\n   [1] Running path 'FEVToutput_step'\r\n   [2] Prefetching for module JsonWritingTimeoutPoolOutputModule/'FEVToutput'\r\n   [3] Prefetching for module ReducedRecHitCollectionProducer/'reducedEcalRecHitsEB'\r\n   [4] Prefetching for module EleIsoDetIdCollectionProducer/'interestingGedEleIsoDetIdEB'\r\n   [5] Calling method for module GEDGsfElectronFinalizer/'gedGsfElectrons'\r\nException Message:\r\nNo data of type \"GBRForestD\" with label \"electron_eb_ecalOnly_1To300_0p2To2_mean\" in record \"GBRDWrapperRcd\"\r\n Please add an ESSource or ESProducer to your job which can deliver this data.\r\n----- End Fatal Exception -------------------------------------------------\r\n```\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nBackported from #35639", "branch": "CMSSW_12_0_X", "changed_files": 1, "comments": 11, "commits": 2, "created_at": "1634123642", "deletions": 0, "labels": ["alca-pending", "reconstruction-approved", "pending-signatures", "orp-pending", "tests-started", "requires-external", "backport-ok"], "milestone": "CMSSW_12_0_X", "number": 35653, "release-notes": [], "review_comments": 0, "state": "open", "title": "[12.0.X] add onlineBeamSpotESProducer to BeamSpot_cfi: fix general Online BS swap case", "updated_at": "1634308780", "user": "mmusich"}