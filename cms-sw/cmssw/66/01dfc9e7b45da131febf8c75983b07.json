{"additions": 369, "auther_ref": "HPBeamspot_Scenarios_from-CMSSW_9_2_2_rebased", "auther_sha": "28e30ac3146d416eea5a93baea39f861777f36fe", "author": "franzoni", "body": "+ a new Tier0 scenario  `ppEra_Run2_2017_trackingOnly` is added \r\n  which executes tracking only RECO and performs by-lumi-section and by-run\r\n  high performance beamspot measurement (HPBS), loading the resulting AlCa payloads to dedicated tags\r\n  . intended to consume the new dedicated stream (80 Hz of JetHT-like events) which will allow accurate measurements also of the transverse width of luminous region \r\n  . for an initial validation stage, this new PCL workflow can/will operate in parallel to the existing beamspot measurement which consumes the EXPRESS\r\n\r\n+ 2017B standard data processing relval consuming RAW from run 297227\r\n  .  @fabozzi : this is the configuration we agreed upon a few days back\r\n\r\n+ 2017B production-like relval which emulates the HPBS workflow\r\n\r\nCredits to @cerminar\r\n@arunhep you'll want to follow this. We'll need to update prompt-like GT for these 2 wf's to be accurate\r\n\r\nThe bot tests will only marginally probe these developments. I report below the sequence of testing commands\r\n\r\n\r\n\r\n```\r\n\r\nexport SCRAM_ARCH=slc6_amd64_gcc530\r\ncmsrel CMSSW_9_2_X_2017-06-25-1100\r\ncd CMSSW_9_2_X_2017-06-25-1100/src ; cmsenv\r\ngit cms-addpkg Calibration/TkAlCaRecoProducers\r\ngit cms-addpkg Configuration/DataProcessing\r\ngit cms-addpkg Configuration/PyReleaseValidation\r\ngit fetch https://github.com/cms-sw/cmssw.git master:master\r\ngit checkout master\r\ngit fetch https://github.com/franzoni/cmssw.git  HPBeamspot_Scenarios_from-CMSSW_9_2_2_rebased:HPBeamspot_Scenarios_from-CMSSW_9_2_2_rebased\r\ngit checkout HPBeamspot_Scenarios_from-CMSSW_9_2_2_rebased\r\nscramv1 build -j 8\r\n\r\nvoms-proxy-init -voms cms\r\n\r\n+ the relval workflows:\r\n  processing 2017B HLTPhysics data (standard L1+HTL, RECO+DQM, HARV) and\r\n  emulating the HPBS workflowlow\r\n\r\nrunTheMatrix.py  --command='-n 1'   -l 1030.0,136.78  >& relval-test.1.log &\r\n\r\n\r\n+ the Tier0-like commands using the newly introducd scenario ppEra_Run2_2017_trackingOnly\r\n\r\ncmsenv;   python $CMSSW_BASE/src/Configuration/DataProcessing/test/RunExpressProcessing.py \\\r\n--scenario=ppEra_Run2_2017_trackingOnly --global-tag 92X_dataRun2_Express_v2  \\\r\n--lfn '/store/data/Run2017B/HLTPhysics/RAW/v1/000/297/227/00000/7A7E24B7-2257-E711-A5CD-02163E0145EE.root'  \\\r\n--alcarecos=TkAlMinBias\r\n\r\ncmsRun -e RunExpressProcessingCfg.py >&  RunExpressProcessingCfg.1.log &\r\n\r\n\r\npython $CMSSW_BASE/src/Configuration/DataProcessing/test/RunAlcaSkimming.py \\\r\n--scenario ppEra_Run2_2017_trackingOnly \\\r\n--lfn=file:output.root \\\r\n--global-tag 92X_dataRun2_Express_v2 \\\r\n--skims TkAlMinBias\r\n\r\n\r\ncmsRun -e RunAlcaSkimmingCfg.py >& RunAlcaSkimmingCfg.1.log &\r\n\r\n\r\npython $CMSSW_BASE/src/Configuration/DataProcessing/test/RunAlcaHarvesting.py \\\r\n--scenario ppEra_Run2_2017_trackingOnly \\\r\n--lfn file:TkAlMinBias.root \\\r\n--dataset /A/B/C \\\r\n--global-tag 92X_dataRun2_Express_v2\r\n\r\ncmsRun -j FrameworkJobReport.xml RunAlcaHarvestingCfg.py >& RunAlcaHarvestingCfg.1.log &\r\n```\r\n ", "branch": "master", "changed_files": 29, "closed_at": "1499863262", "comments": 65, "commits": 31, "created_at": "1498410991", "deletions": 57, "labels": ["alca-approved", "comparison-available", "operations-approved", "orp-pending", "pdmv-approved", "pending-signatures", "reconstruction-approved", "tests-approved", "upgrade-pending"], "merge_commit_sha": "fc7e8c9e38c6569e65e1cd16e37df0f797af82fe", "merged_at": "1499863262", "merged_by": "cmsbuild", "milestone": "CMSSW_9_3_X", "number": 19427, "release-notes": [], "review_comments": 30, "state": "closed", "title": "PCL new workflow for High Perf Beamspot, 2017B relval,  2017B HPBS relval", "updated_at": "1499863262", "user": "franzoni"}