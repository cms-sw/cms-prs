{"additions": 123, "auther_ref": "SLHATree_112X", "auther_sha": "0ac487a6a9d6e17fd667baa711ac672be7a8868d", "author": "kpedro88", "body": "#### PR description:\r\n\r\nThe upcoming pMSSM scan covers O(500K) different signal models, each with their own SLHA parameters. It is prohibitive to have a separate text file for each model, or to put all the SLHA tables directly into the generator fragment.\r\n\r\nInstead, we have deployed a new method, using a ROOT `TTree` to compress the information and then efficiently read just the SLHA table for a specific model. This uses a `TTreeIndex` to search the tree, with the index information derived from the `configDescription` used for the randomized parameter signal scan.\r\n\r\nIn case others want to use this method in the future, it is implemented using a factory pattern, where the base class handles getting the ROOT file and tree, and the derived class handles parsing the `configDescription` and extracting the information from the tree. The expected PSet looks like this:\r\n```python\r\nSLHATreeForPythia8 = cms.PSet(\r\n    name = cms.string(\"SLHAReaderpMSSM\"),\r\n    file = cms.string(os.path.expandvars('$CMSSW_BASE/src/GeneratorInterface/Pythia8Interface/data/pMSSM_selected.root')),\r\n    tree = cms.string('mcmc'),\r\n),\r\n```\r\n\r\n#### PR validation:\r\n\r\nThe full pMSSM generator fragment is still being finalized, and the associated ROOT file (1.7GB) is expected to be uploaded somewhere in cvmfs. For now, the PR can be tested following these instructions: https://gist.github.com/kpedro88/ab8a1350dd6c4f7f52275bbb993cf741.\r\n\r\nBackports are planned to 10_6_X, 10_2_X, and 9_4_X. I will wait to submit the backports until this PR is reviewed and approved.", "branch": "master", "changed_files": 7, "closed_at": "1603493813", "comments": 19, "commits": 5, "created_at": "1602255868", "deletions": 10, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "generators-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "ad80c5c447c0f71d6890085d23a6352739e5a9e5", "merged_at": "1603493813", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 31733, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Read SLHA from TTree", "updated_at": "1603493813", "user": "kpedro88"}