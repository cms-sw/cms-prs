{"additions": 92140, "auther_ref": "add_HLT_timing_for_CI_tests_141x", "auther_sha": "89c4e8a4400055ced9e46e7cb219cac92058c6cb", "author": "fwyzard", "body": "#### PR description:\r\n\r\n`update_Timing_HLT_GRun.sh` dumps the HLT menu in a format close to what is used online, and applied minimal changes for running offline over recent data.\r\n\r\n`Timing_HLT_GRun.py` is the HLT menu extracted and customised.\r\n\r\n`measure_Timing_HLT_GRun.sh` sets up and run the HLT throughput measurements in a way that is close to how the HLT is run online.\r\nNote that currently this script will only work on the CI node used by Jenkins.\r\n\r\n#### PR validation:\r\n\r\nTested in CMSSW_14_0_7_patch2_MULTIARCHS:\r\n```\r\nCloning into 'patatrack-scripts'...\r\nremote: Enumerating objects: 325, done.\r\nremote: Counting objects: 100% (62/62), done.\r\nremote: Compressing objects: 100% (7/7), done.\r\nremote: Total 325 (delta 58), reused 56 (delta 55), pack-reused 263\r\nReceiving objects: 100% (325/325), 127.35 KiB | 5.31 MiB/s, done.\r\nResolving deltas: 100% (207/207), done.\r\n2 CPUs:\r\n  0: AMD EPYC 7763 64-Core Processor (64 cores, 128 threads)\r\n  1: AMD EPYC 7763 64-Core Processor (64 cores, 128 threads)\r\n\r\n2 visible NVIDIA GPUs:\r\n  0: Tesla T4\r\n  1: Tesla T4\r\n\r\nBenchmarking only I/O\r\nWarming up\r\n\r\nRunning 4 times over 20300 events with 8 jobs, each with 32 threads, 24 streams and 1 GPUs\r\n 15373.6   11.5 ev/s (20000 events, 95.0% overlap)\r\n 15445.9    8.6 ev/s (20000 events, 95.3% overlap)\r\n 15463.4    9.9 ev/s (20000 events, 87.1% overlap)\r\n 15574.9    9.5 ev/s (20000 events, 91.6% overlap)\r\n --------------------\r\n 15464.8  102.0 ev/s (based on 3 measurements)\r\n\r\n\r\nBenchmarking Timing_HLT_GRun.py\r\nWarming up\r\n     \r\nRunning 4 times over 20300 events with 8 jobs, each with 32 threads, 24 streams and 1 GPUs\r\n   285.5    0.0 ev/s (20000 events, 99.4% overlap)\r\n   284.9    0.0 ev/s (20000 events, 99.0% overlap)\r\n...\r\n```\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nTo be backported to CMSSW_14_0_X.", "branch": "master", "changed_files": 3, "comments": 21, "commits": 1, "created_at": "1717601962", "deletions": 0, "labels": ["hlt-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_14_1_X", "number": 45146, "release-notes": [], "review_comments": 1, "state": "open", "title": "Add Run 3 HLT timing for CI tests", "updated_at": "1717659978", "user": "fwyzard"}