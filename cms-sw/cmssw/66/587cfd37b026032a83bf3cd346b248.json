{"additions": 125, "auther_ref": "gem-unpacker-update-CMSSW_11_2_0_pre6", "auther_sha": "78a7536d48642cf02c37db8d6965c47d65d53d53", "author": "jshlee", "body": "#### PR description:\r\n* GEMDigiToRawModule issue with packing large data\r\n  * Between 11_2_0pre2 to pre7, in phase2 PU samples, GEMMuons were not present which increased the fake rate in muons (https://indico.cern.ch/event/965774/#5-muo-gem-validation-studies).\r\n  * This was found to be due to GEM digis not being produced (https://indico.cern.ch/event/965774/#6-gem-fed-issue).\r\n  * GEM simdigis were not being packed correctly because only 12 AMCs can be stored per AMC13 (https://github.com/cms-sw/cmssw/blob/master/DataFormats/GEMDigi/interface/AMC13Event.h#L25), and with multiple BXs, PU events made many more AMCs which couldn't be unpacked. \r\n  * added more cross checks\r\n\r\n* GEMRawToDigiModule\r\n  * GEM digi bx is wrong, it should be the relative difference between AMC and BFAT bx.\r\n  * crash protection from bad GEM chamber ID from DAQ\r\n\r\n* No changes are expected for non PU samples.\r\n* PU should be back to 11_2_0pre1\r\n\r\n#### PR validation:\r\n* tested with wf 11611.0, 23211.0 and run 337972 MWGR data.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n* backport might be needed for the crash protection", "branch": "master", "changed_files": 6, "closed_at": "1603390503", "comments": 82, "commits": 10, "created_at": "1603125520", "deletions": 69, "labels": ["code-checks-approved", "comparison-available", "db-pending", "orp-approved", "pending-signatures", "reconstruction-approved", "simulation-pending", "tests-rejected", "upgrade-pending", "urgent"], "merge_commit_sha": "3c9bd1ba78ad23447885a9bf2f54b430a18a3e24", "merged_at": "1603390503", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 31863, "release-notes": [], "review_comments": 28, "state": "closed", "title": "GEM unpacker: bugfix and more cross checks", "updated_at": "1603390503", "user": "jshlee"}