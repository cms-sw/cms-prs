{"additions": 8, "auther_ref": "fc-fixPhase2Boundary20240509", "auther_sha": "6803e7b22b25564f15b1b2da9cede07e41c00bd4", "author": "fabiocos", "body": "#### PR description:\r\n\r\nThe transition from CALO to Tracker is monitored in the ```Phase2SteppingAction``` of ```SimG4Core/Application``` to define the back-scattering condition of a particle, used to define the corresponding category for BTL ```PSimHit```. This condition was updated in #43142 to cope with the fact that the the transition changed in Phase2 geometries, removing at some point (Tracker version T34) the intermediate step into CSME volume. At that time a check on the distance from the origin was introduced, requiring that the post-step has a smaller distance from the origin than the pre-step. This condition is anyway not always fulfilled, driving to an incorrect classification of hits from back-scattering as secondary. \r\n\r\nThis PR updates the test so as to fix this issue. Either a direct CALO -> Tracker transition is found, or a CSME -> Tracker transition is tested, with the understanding based on navigation checks that it is possible for particles coming from CALO only. As soon as older geometries will be abandoned, this test will not be any more necessary.\r\n\r\n#### PR validation:\r\n\r\nTested with the debugging verbosity of ```Phase2SteppingAction``` and of the ```CMSSteppingVerbose```", "branch": "master", "changed_files": 1, "comments": 1, "commits": 1, "created_at": "1715263560", "deletions": 19, "labels": ["simulation-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-pending"], "milestone": "CMSSW_14_1_X", "number": 44945, "release-notes": [], "review_comments": 0, "state": "open", "title": "Simulation: update the test for the definition of back-scattering from CALO", "updated_at": "1715263628", "user": "fabiocos"}