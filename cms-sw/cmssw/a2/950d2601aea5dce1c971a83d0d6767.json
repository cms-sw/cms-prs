{"additions": 1, "auther_ref": "fixSeedExtension_v2", "auther_sha": "2e2d878bbbf4346a9997dd3a1b506f157cedb584", "author": "makortel", "body": "It turns out that in some corner cases the `SeedExtensionTrajectoryFilter`, with its default configuration parameters, stops trajectory propagation, in contrast to the intent of the default values (that would be \"no effect\"). These cases are essentially such that the trajectory has at most as many measurements as the seed, and no lost hits (i.e. the condition of `looseTBC`), and occur e.g. in `muonSeededStepInOut` (where seeds have many hits) when rebuilding the trajectory in the seed region (can lead to lost hits).\n\nHere are MultiTrackValidator plots from 1000 TTbar+PU events (red is with this PR) https://mkortela.web.cern.ch/mkortela/tracking/validation/CMSSW_8_1_X_seedExtension/\nThe effect becomes more noticeable if we start to reject trajectories stopped by `SeedExtension` (as in #14356).\n\nTested in CMSSW_8_1_X_2016-05-09-2300, expecting tiny changes in tracking.\n\n@rovere @VinInn: I decided to use the value of `seedExtension` parameter directly to dictate whether the filter should be enabled or not (`<= 0` for disabled, `> 0` for enabled) instead of introducing a new flag, since these interpretations of the parameter values are compatible with the current intended uses.\n", "branch": "CMSSW_8_1_X", "changed_files": 1, "closed_at": "1463335666", "comments": 9, "commits": 1, "created_at": "1463042991", "deletions": 0, "labels": ["comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "1550b933dbb059bb5804c02e23edfbfa1757ad5f", "merged_at": "1463335666", "merged_by": "cmsbuild", "milestone": "Next CMSSW_8_1_X", "number": 14472, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix SeedExtensionTrajectoryFilter when it is disabled", "updated_at": "1492588062", "user": "makortel"}