{"additions": 64, "auther_ref": "mm_dev_fix_L1Tstage1Dependencies_14_1_X", "auther_sha": "1e37edbf29789c7b2199b22555f844f8cfe8d1ef", "author": "mmusich", "body": "backport of https://github.com/cms-sw/cmssw/pull/46716\r\n\r\n#### PR description:\r\n\r\nIn the ticket [CMSALCAFAST-94](https://its.cern.ch/jira/browse/CMSALCAFAST-94), while testing a new Global Tag candidate meant for a general cleaning of unused / previous runs unmaintained records, few online DQM clients (`dt4ml`, `dt`, `ecal`, and `hlt`) encountered issues and failed.\r\nThe reason of these failures was analyzed as unnecessary dependencies of the current DQM clients on the legacy L1T digis.\r\nThis is fixed / worked around in this PR.\r\n   * 759b8ca9f4649a91c8f31e517cbafcfd5bbfd690 removes the dependency in `HLTSiStripMonitorCluster` by means of re-configuring the few instances of `GenericTriggerEventFlag` class to use the stage 2 gt digis in presence of the `stage2L1Trigger` modifier.\r\n   * 6e2e276785bb78ad96f98cc06295aa215c3cec36 replaces the legacy gt digis with the stage2 ones in presence of the `stage2L1Trigger` modifier\r\n   * 1e37edbf29789c7b2199b22555f844f8cfe8d1ef works around the fact that the `DQM/EcalMonitorTasks/src/ClusterTask.cc` natively doesn't support the stage2 L1T setup but requires products from the legacy L1T (this is followed up also at https://github.com/cms-sw/cmssw/issues/46715) \r\n\r\n#### PR validation:\r\n\r\nThe following commands work with this branch,\r\n\r\n```\r\nscram b runtests_TestDQMOnlineClient-hlt_dqm_sourceclient use-ibeos\r\nscram b runtests_TestDQMOnlineClient-dt_dqm_sourceclient use-ibeos\r\nscram b runtests_TestDQMOnlineClient-dt4ml_dqm_sourceclient use-ibeos\r\nscram b runtests_TestDQMOnlineClient-ecal_dqm_sourceclient use-ibeos\r\n```\r\n\r\nwhen tested by using the Global Tag proposed at  [CMSALCAFAST-94](https://its.cern.ch/jira/browse/CMSALCAFAST-94).\r\n\r\n```diff\r\ndiff --git a/DQM/Integration/python/config/FrontierCondition_GT_cfi.py b/DQM/Integration/python/config/FrontierCondition_GT_cfi.py\r\nindex 5845afa34bb..a91ce205422 100644\r\n--- a/DQM/Integration/python/config/FrontierCondition_GT_cfi.py\r\n+++ b/DQM/Integration/python/config/FrontierCondition_GT_cfi.py\r\n@@ -1,7 +1,7 @@\r\n import FWCore.ParameterSet.Config as cms\r\n from Configuration.StandardSequences.FrontierConditions_GlobalTag_cff import *\r\n from Configuration.AlCa.autoCond import autoCond\r\n-GlobalTag.globaltag = autoCond['run3_hlt']\r\n+GlobalTag.globaltag = \"141X_dataRun3_HLT_Candidate_2024_11_15_CleaningOfRecords\"  #autoCond['run3_hlt']\r\n \r\n #############################################\r\n #\r\n```\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nVerbatim backport of https://github.com/cms-sw/cmssw/pull/46716 to the last 2024 data-taking release.", "branch": "CMSSW_14_1_X", "changed_files": 7, "comments": 2, "commits": 3, "created_at": "1731998665", "deletions": 27, "labels": ["dqm-pending", "pending-signatures", "tests-pending", "orp-pending", "backport-ok"], "milestone": "CMSSW_14_1_X", "number": 46731, "release-notes": [], "review_comments": 0, "state": "open", "title": "[14.1.X] Remove legacy L1T digis dependencies in Online DQM", "updated_at": "1731998709", "user": "mmusich"}