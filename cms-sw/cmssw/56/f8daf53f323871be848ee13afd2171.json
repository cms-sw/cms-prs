{"additions": 3, "auther_ref": "PUPPIV15_112X", "auther_sha": "649b0afad86ada77117c28d91cf0c7a74b2e7e30", "author": "lathomas", "body": "\r\n#### PR description:\r\nThis is a fix to https://github.com/cms-sw/cmssw/pull/31927 that introduced a crash in NANOAOD workflows. \r\nFor the record, the crash only happens when running the NANO step alone, but is not visible when both NANO and DQM:@nanoAODDQM steps are run (hence why it wasn't spotted earlier).\r\nIn addition, it was noticed that some booleans were not properly set for MC when recreating the jet PUPPI collection. This is now corrected.\r\n\r\n\r\n#### PR validation:\r\nThe following command ran succesfully (and is crashing before this PR): \r\n`cmsDriver.py  --python_filename PPD-RunIISummer20UL17NanoAODv2-00001_1_cfg.py --eventcontent NANOAODSIM --customise Configuration/DataProcessing/Utils.addMonitoring --datatier NANOAODSIM --fileout file:nanoformat10kDY.root --conditions 112X_upgrade2018_realistic_v6 --step NANO --filein \"dbs:/DYJetsToLL_M-50_TuneCP5_13TeV-amcatnloFXFX-pythia8/RunIISummer20UL18MiniAOD-Pilot_106X_upgrade2018_realistic_v11_L1v1-v2/MINIAODSIM\" --era Run2_2018,run2_nanoAOD_106Xv1  --mc -n 1000\r\n`\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\n", "branch": "master", "changed_files": 1, "closed_at": "1606778567", "comments": 27, "commits": 2, "created_at": "1606697241", "deletions": 2, "labels": ["analysis-approved", "code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "tests-approved", "urgent", "xpog-approved"], "merge_commit_sha": "bc81789f1c3c9f9949be3cc74cd063b3bad42d50", "merged_at": "1606778566", "merged_by": "cmsbuild", "milestone": "CMSSW_11_3_X", "number": 32328, "release-notes": [], "review_comments": 0, "state": "closed", "title": "PUPPI v15 bug/crash fix for NANOAOD", "updated_at": "1606778567", "user": "lathomas"}