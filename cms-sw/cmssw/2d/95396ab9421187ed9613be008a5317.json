{"additions": 53, "auther_ref": "MGPP_12_5", "auther_sha": "01667d82da8336356945c6a064584d46673ee84a", "author": "mseidel42", "body": "#### PR description:\r\n\r\nRivet uses the following criteria to identify [PartonicTops](https://rivet.hepforge.org/code/dev/PartonicTops_8hh_source.html) decaying to leptons:\r\n```cpp\r\nconst bool prompt_e = any(descendants, [&](const Particle& p){\r\n  return p.abspid() == PID::ELECTRON && p.isPrompt(_emu_from_prompt_tau) && !p.hasAncestor(PID::PHOTON, false);\r\n});\r\nconst bool prompt_mu = any(descendants, [&](const Particle& p){\r\n  return p.abspid() == PID::MUON && p.isPrompt(_emu_from_prompt_tau) && !p.hasAncestor(PID::PHOTON, false);\r\n});\r\n```\r\n\r\nWith MiniAOD, low-pt photons going to l+l- are pruned away so that many top decays are wrongly identified as leptonic.\r\nWe can fix this by inserting dummy photon mothers for leptons that are not from the hard process or from taus.\r\nAs usual, any partonic quantities are inherently unsafe but this should work fine with our usual MadGraph and Powheg MiniAOD samples.\r\nRunning from scratch or AOD will not be affected, as well as the ParticleLevelProducer output from MiniAOD (which does not require any lepton mother information).\r\n\r\n#### PR validation:\r\n\r\nValidated with events from inclusive TT MiniAod, selecting PartonicTops to dilepton (e/mu) decays:\r\n\r\n![image](https://user-images.githubusercontent.com/1311783/183434238-37861d8a-de85-4e6c-845e-aa74748c1f48.png)\r\n\r\n", "branch": "master", "changed_files": 2, "comments": 4, "commits": 1, "created_at": "1659960018", "deletions": 8, "labels": ["generators-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved"], "milestone": "CMSSW_12_5_X", "number": 38995, "release-notes": [], "review_comments": 0, "state": "open", "title": "MergedGenParticleProducer: insert photon mothers for pair-produced leptons", "updated_at": "1660730136", "user": "mseidel42"}