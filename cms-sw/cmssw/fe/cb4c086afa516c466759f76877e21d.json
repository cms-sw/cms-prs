{"additions": 578, "auther_ref": "ZVertexMultiLayout", "auther_sha": "c7858cbc219453d3d14db91569ca009ea4a54279", "author": "fwyzard", "body": "#### PR description:\r\n\r\nSplit `ZVertexSoA` in two layouts, and wrap them in a multi-layout collection.\r\nMake the ZVertex SoA collections run-time sized, and replace the `ZVertexHost`/`ZVertexDevice` template classes inheriting from `PortableHostMultiCollection`/`PortableDeviceMultiCollection` with type aliases.\r\n\r\nRemove versioning info from class description for dictionaries.\r\nPort comments from the CUDA version.\r\n\r\nThe maximum number of vertices is now a configuration parameter of the `PixelVertexProducerAlpaka` `EDProducer`, while all device-side checks now make use of the various SoA capacity.\r\nThe maximum number of vertices is set to\r\n  - `256` for Run 3\r\n  - `512` for Phase 2\r\n  - `32` for heavy ions\r\nThese values are probably conservative, and could be further reduced.\r\nThe tests use the legacy hard-coded values, taken from the old Run 3 defaults.\r\n    \r\nThe documentation in `DataFormats/VertexSoA/README.md` is updated accordingly.\r\n\r\n#### PR validation:\r\n\r\nUnit tests and workflow `12834.403` pass.", "branch": "master", "changed_files": 28, "comments": 46, "commits": 5, "created_at": "1725532310", "deletions": 600, "labels": ["dqm-pending", "hlt-pending", "reconstruction-approved", "pending-signatures", "tests-approved", "orp-pending", "code-checks-approved", "heterogeneous-approved", "tracking", "trk", "changes-dataformats"], "milestone": "CMSSW_14_2_X", "number": 45887, "release-notes": [], "review_comments": 5, "state": "open", "title": "Split ZVertexSoA in a run-time sized PortableMultiCollection", "updated_at": "1726059529", "user": "fwyzard"}