{"additions": 541, "auther_ref": "EGInterestingDetIdChanges74X", "auther_sha": "3f62408ca6ddfce12b4a1147ffeecc9dcb029358", "author": "Sam-Harper", "body": "@lgray @matteosan1 \n\nThis pull request adds in more HCAL and ES rec-hits to the reduced rec-hit collections for AOD. With the loss of CaloTowers in the event, there is no unbiased HCAL information in the AOD for electrons. This information is extremely useful for studies and understanding electrons and in some minimal form needs to be there.\n\nFor ged electrons/photons/superclusters with Et>20 GeV, all HCAL HBHE rec-hits with E>0.8 GeV within 5 towers of the seed crystal of the supercluster are added to the existing reducedRecHit collection. \n\nFor all ged electrons/photons Et>20 GeV && superclusters Et>500 GeV, all ES RecHits of ES PFClusters associated to EE PF Clusters within dR<0.4 of the supercluster are saved. \n\nThis was tested on the dataset:\n/RelValTTbar_13/CMSSW_7_4_0_pre2-PU25ns_MCRUN2_73_V7-v1/GEN-SIM-RECO\nspecifically:\n/store/relval/CMSSW_7_4_0_pre2/RelValTTbar_13/GEN-SIM-RECO/PU25ns_MCRUN2_73_V7-v1/00000/12EFC87E-C29A-E411-ABAA-003048FFD79C.root\n\nThe increase in the ES and HCAL rec-hit collections are as follows:\n\nHBHERecHitsSorted_reducedHcalRecHitsNew_hbhereco_AODTest. 13856.8 6531.14\nHBHERecHitsSorted_reducedHcalRecHits_hbhereco_RECO. 12646.5 5840.52\nincrease of 691 bytes\n\nEcalRecHitsSorted_reducedEcalRecHitsESNew__AODTest. 5780.54 2697.32\nEcalRecHitsSorted_reducedEcalRecHitsES__RECO. 5326.68 2492.3\nincrease of 205 byes\n\ntotal increase of 0.88KB\n\nNote on technical details: \nThe ES DetId producer had hard code quality cuts on the ES Rec-Hits. It is not clear to me that this is intended and to me it little sense because we are trying to save all the rec-hits used in the clustering but th clustering doesnt have these requirements. So for my addition, I added a way to specify collections that were not to be cleaned.\n\nGiven I can now recreate ECAL & HCAL PF clusters in my region of interest around my electrons with the extra information in the reducedRecHit collections, I withdraw my proposal for storing the ECAL & HCAL PF clusters in packed form. It is not perfect but close enough.\n", "branch": "CMSSW_7_4_X", "changed_files": 12, "closed_at": "1422952300", "comments": 11, "commits": 9, "created_at": "1422874829", "deletions": 3, "labels": ["comparison-pending", "fully-signed", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "497de06d55a08cd4d23be79cca94c749eb96cbe5", "merged_at": "1422952300", "merged_by": "cmsbuild", "milestone": "Next CMSSW_7_4_X", "number": 7496, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Egamma additions to HCAL and ES reduced rec hit collections", "updated_at": "1422957882", "user": "Sam-Harper"}