{"additions": 1156, "auther_ref": "probQInMiniAOD", "auther_sha": "9c0024df642665fdffc33a3a3590a1249598db23", "author": "tvami", "body": "#### PR description:\r\n\r\nSee request to ReRECO 2017/2018 SM and MET data in [1]. This assumed refitting tracks to get the required low-level pixel reco information. As an alternative (actually it's an improvement, so better then alternative) it was recommended to save the required information in the MiniAOD. This PR does that,  i.e. adds  SiPixel on track charge and shape probs to MiniAOD content. Since in 2017/2018 the Pixel layer 1 was very noisy, and alternative version that excludes L1 was added as well.\r\n\r\nAdding it to RECO/AOD as a new object `siPixelTrackProbQXY`:\r\n```\r\nedmDumpEventContent ReRECO_RAW2DIGI_L1Reco_RECO_EI.root | grep siPixelTrackProbQXY  \r\nedm::Association<vector<reco::SiPixelTrackProbQXY> >    \"siPixelTrackProbQXY\"       \"\"                \"RECO\"    \r\nvector<reco::SiPixelTrackProbQXY>     \"siPixelTrackProbQXY\"       \"\"                \"RECO\"    \r\n```\r\n\r\nWhile adding it to MiniAOD as a member of the isolatedTracks collection.\r\n\r\nPlease note that most of the changes in the PR are due to code-checks/code-formats.\r\n\r\nFurther details will be presented in the Tracking POG meeting on Monday [2]\r\n\r\n[1] https://its.cern.ch/jira/browse/PDMVRERECO-48\r\n[2] https://indico.cern.ch/event/1098365/#5-proposal-to-use-low-level-pi\r\n\r\n#### PR validation:\r\nRunning \r\n```\r\ncmsDriver.py ReRECO --conditions 106X_dataRun2_v24 --customise Configuration/DataProcessing/RecoTLR.customisePostEra_Run2_2018,Configuration/DataProcessing/Utils.addMonitoring --datatier MINIAOD --era Run2_2018,pf_badHcalMitigation --eventcontent MINIAOD --nThreads 8 --no_exec --number 100 --python_filename 4HLT2MiniAOD.py --scenario pp --step RAW2DIGI,L1Reco,RECO,EI,PAT --runUnscheduled --data  --filein root://cms-xrd-global.cern.ch//store/data/Run2018C/SingleMuon/RAW/v1/000/319/337/00000/004ED286-5582-E811-8895-FA163E126126.root\r\n```\r\nbefore the PR and after the PR the sizes change as follows:\r\n-rw-r--r-- 1 tvami cms 8177333 Nov 24 16:30 ReRECO_RAW2DIGI_L1Reco_RECO_EI_PAT.root\r\n--> \r\n-rw-r--r-- 1 tvami cms 8185759 Nov 24 16:26 ReRECO_RAW2DIGI_L1Reco_RECO_EI_PAT.root\r\ni.e an 1.00103041 increase in size is expected.\r\n\r\nContent was validated on MC Signal samples, and on data as well, please see more plots in [2]\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nNeeds a forward port to Master. But the main consumer is 10_6_X so I prefer to have the review done here, and then apply the changes in master. There is stuff I'd do differently in Master anyway (like the esConsume migration)\r\n\r\ncc @mmusich ", "branch": "CMSSW_10_6_X", "changed_files": 11, "comments": 4, "commits": 10, "created_at": "1637790031", "deletions": 767, "labels": ["reconstruction-pending", "pending-signatures", "tests-pending", "orp-pending"], "milestone": "CMSSW_10_6_X", "number": 36244, "release-notes": [], "review_comments": 0, "state": "open", "title": "Adding SiPixel on track charge and shape probs to MiniAOD content [10_6_X]", "updated_at": "1637791653", "user": "tvami"}