{"additions": 11, "auther_ref": "L1PSLumiSecFix_1230pre6", "auther_sha": "ef923caa51321cbf9cf31ef7772987ca6c4ce57e", "author": "Sam-Harper", "body": "#### PR description:\r\n\r\nThis PR adds an option to disable resetting the prescale counters of the L1 trigger on lumi section change.  This is needed for offline L1 reemulations where we only have ~23000 events per lumisection available (often much much less due to multithreading/job splitting) and this reset comes too soon and causes triggers to have a much higher effective prescale or not fire at all.  This is based on the excellent debugging and investigations by @sanuvarghese\r\n\r\nAlso could experts just confirm why the L1 resets counters every lumisection? I'm just curious to why. \r\n\r\nFinally as spotted by both Sanu and myself, we note that this code can not work with fractional prescales. What is the plan here? \r\n\r\n#### PR validation:\r\nTesting the L1 emulation workflow, prescale counts are now as expected. \r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nWe'll need this in 12_3 as well, once we work out a plan for fixes. \r\n", "branch": "master", "changed_files": 4, "comments": 9, "commits": 2, "created_at": "1648527061", "deletions": 3, "labels": ["l1-approved", "fully-signed", "orp-pending", "tests-started", "code-checks-approved"], "milestone": "CMSSW_12_4_X", "number": 37395, "release-notes": [], "review_comments": 0, "state": "open", "title": "Adding option to disable resetting L1 PS counters on ls change", "updated_at": "1649113163", "user": "Sam-Harper"}