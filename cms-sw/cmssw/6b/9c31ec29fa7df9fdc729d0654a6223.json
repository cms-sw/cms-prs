{"additions": 2658, "auther_ref": "SiPixelQualityPCL_For_CMSSW_10_1_X", "auther_sha": "5a6146c7d63539e58ff6699dde64d432f2a9a4cc", "author": "tocheng", "body": "Hello, \r\n  this PR is meant to embed the SiPixel quality offline analysis into PCL workflow.\r\n  The idea is to monitor the Pixel ROC quality based on its DIGI occupancy, and tag the ROC bad if its DIGI occupancy is extremely small compared with average per ROC DIGI occupancy.\r\n  Furthermore, the sources of Pixel bad components can be categorised as:\r\n  permanent bad components which is the one in current DB;\r\n  stuck TBM, can be tracked down using \"FED error 25\" packed in RAW data (permanent bad components also gives \"FED error 25\". One may want to subtract the permanent bad components from \"FED error 25\" list to monitor on the stuck TBM);\r\n  other sources, could be a ROC SEU, or some other reasons.\r\n\r\n   The current PCL workflow in the PR will analyse the ZeroBias triggered events in Express,\r\n   produce payload for each source of bad components, and produce one payload for prompt reconstruction which includes permanent bad components and other sources; stuck TBM is handled by PixelFEDCollection consumed by tracking event-by-event, hence not included in the tag (for prompt reco).\r\n\r\n  The information related to the SiPixel offline analysis can be found at https://indico.cern.ch/event/688098/contributions/2841553/attachments/1580192/2496819/20180109_PixelOffline_BadComponentAutomatization.pdf. (There was something wrong with the validation plots in the slides because some of the scripts used in the validation are not updated to Phase-I detector geometry.)\r\n\r\n  The PCL implementation was presented at Pixel Offline DPG meeting at\r\nhttps://indico.cern.ch/event/688859/contributions/2913583/attachments/1607768/2551726/PixelQualityPCL_Feb27th_2018_PixelOffline.pdf.\r\n\r\n   The workflow is validated as the following:\r\n    a tag is produced using a single run in 2017.\r\n    MC samples is generated using ideal condition and unpacked/reconstructed using the SiPixelQuality produced using single run in 2017 (useSiPixelQuality=true for RAW-to-DIGI). Cluster occupancy plots are produced (using SiPixel offline tool) and compared with the same plots in the same run on DQM offline GUI.\r\n\r\n    More details about the PCL implementation and validation plots will be presented at the Pixel Offline group meeting on March 6th.\r\nhttps://indico.cern.ch/event/688839/#25-bad-component-detection-at\r\n", "branch": "master", "changed_files": 36, "comments": 36, "commits": 18, "created_at": "1520245341", "deletions": 6, "labels": ["alca-pending", "code-checks-pending", "comparison-pending", "operations-pending", "orp-pending", "pdmv-pending", "pending-signatures", "tests-approved", "upgrade-pending"], "milestone": "CMSSW_10_1_X", "number": 22455, "release-notes": [], "review_comments": 2, "state": "open", "title": "SiPixel Quality PCL for cmssw 10_1_X", "updated_at": "1520643503", "user": "tocheng"}