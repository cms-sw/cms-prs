{"additions": 117, "auther_ref": "dqm-use-root-checks-for-histogram-merge", "auther_sha": "b3d32a764503bee3940b2d86c40da77c37c87f95", "author": "schneiml", "body": "This is more restrictive than what we used before, but should prevent ROOT from attempting to call Merge() (which mysteriously fails in some cases, causing a FatalRootError on CMSSW side).\r\nThe histograms that are now no longer merged seem to be meaningless either ways (0-0 X range).\r\n\r\nThis PR replaces #26722, which on closer investigation seems too dangerous. It implements the frist alternative listed there, which means we'll need to keep the checks in sync whenever ROOT changes.\r\n\r\nIt is still not clear why we can't use `TH1::Merge`, but my tests showed that it fails in some cases, even some where `Add` worked. Since semantically we don't really want a `Merge` (the histograms should really have the same \"shape\" when we merge them), I think it is a good idea to restrict everything to the cases handled by `TH1::Add`.\r\n\r\n#### PR validation:\r\n\r\nWorks on the sample from issue #26727 . No other validation so far.", "branch": "master", "changed_files": 1, "closed_at": "1559298289", "comments": 15, "commits": 1, "created_at": "1557472675", "deletions": 15, "labels": ["code-checks-approved", "comparison-available", "dqm-pending", "orp-pending", "pending-signatures", "tests-approved"], "milestone": "CMSSW_11_0_X", "number": 26738, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Import the precise checks done by ROOT to Add histograms.", "updated_at": "1559298289", "user": "schneiml"}