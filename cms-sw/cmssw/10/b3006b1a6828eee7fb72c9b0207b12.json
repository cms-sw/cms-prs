{"additions": 182, "auther_ref": "updateSiPixeLAPCLWorkflow", "auther_sha": "d82ea71a9dc27a10df95f924a408e1ff14ebd96f", "author": "mmusich", "body": "#### PR description:\r\n\r\nMiscellanea updates and bug-fixes to the SiPixel LA PCL workflow that are built on top of the replay at https://github.com/dmwm/T0/pull/4635: \r\n   * add basic accepted tracks monitoring;\r\n   * adding plot titles;\r\n   * re-organize folders to have subfolders: (Top) / (BPix) / etc. ..;\r\n   * actually *do* write to DB the values for the \"new\" modules when they are fit;\r\n   * change the default cut value on the fit probability for writing out the payload from 0.5 to 0.1;\r\n   * fix a bug that was causing populating the lists of \"new\" modules and modules attached to a given \"sector\" multiple times (this was triggering several warnings in the harvesting step when populating the DB about multiple `put`s, see https://github.com/cms-sw/cmssw/pull/36535);\r\n  \r\n#### PR validation:\r\n\r\nRun:\r\n\r\n```\r\n cmsDriver.py testReAlCa -s ALCA:PromptCalibProdSiPixelLorentzAngle --conditions 121X_dataRun3_Express_TIER0_REPLAY_Run2_v1 --datatier ALCARECO --eventcontent ALCARECO --processName=ReAlCa -n 100 --dasquery='file dataset=/StreamExpress/Tier0_REPLAY_2021-SiPixelCalSingleMuon-Express-v1/ALCARECO' --customise_commands='process.ALCARECOCalSignleMuonFilterForSiPixelLorentzAngle.TriggerResultsTag = cms.InputTag ( \"TriggerResults\",\"\",\"HLT\" ) ; process.ALCARECOCalSignleMuonFilterForSiPixelLorentzAngle.HLTPaths = [\"*\"]' --nThreads=4 \r\n```\r\n\r\nfollowed by:\r\n\r\n```\r\nstepHarvest -s ALCAHARVEST:SiPixelLA --conditions 121X_dataRun3_Express_TIER0_REPLAY_Run2_v1 --scenario pp --data --era Run2_2018 --filein file:PromptCalibProdSiPixelLorentzAngle.root -n -1\r\n```\r\n\r\nthe results are uploaded to a private DQM GUI at  https://tinyurl.com/y4dm6s98:\r\n   * necessitates tunneling (`ssh -NL 8060:localhost:8060 <USER>@lxplus723.cern.ch`). \r\n   \r\nAn example of the result is link to the companion PR to `dmwm`: https://github.com/dmwm/deployment/pull/1118\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nNot a backport, but might be backported\r\n", "branch": "master", "changed_files": 3, "comments": 6, "commits": 6, "created_at": "1639747005", "deletions": 60, "labels": ["alca-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-pending"], "milestone": "CMSSW_12_3_X", "number": 36538, "release-notes": [], "review_comments": 0, "state": "open", "title": "Several updates to SiPixel LA PCL workflow", "updated_at": "1639771183", "user": "mmusich"}