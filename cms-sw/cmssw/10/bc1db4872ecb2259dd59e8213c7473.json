{"additions": 15, "auther_ref": "141x-fix-contention", "auther_sha": "46c71e0c85732d10c6df89783aaa6615c8a7fe9f", "author": "smorovic", "body": "#### PR description:\r\nFixes lock contention in source. Lock is used for setting up waiting on the condition variable, but it should be released after.\r\nHowever, the lock is automatically reacquired at the end of `wait` as described:\r\nhttps://en.cppreference.com/w/cpp/thread/condition_variable/wait\r\n\r\nIn production HLT this is seen to take significant time in the source (8-20% depending on data flow conditions and configuration) and could be the cause preventing using top ~10% of the CPU capacity in HLT.\r\n\r\nAlso, more logging (destination info) is added for the case of file broker connection issues.\r\n\r\n#### PR validation:\r\n\r\nTested in daq3val system with both FedRawDataInputSource and DAQSource.", "branch": "master", "changed_files": 3, "comments": 3, "commits": 1, "created_at": "1717060546", "deletions": 11, "labels": ["daq-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_14_1_X", "number": 45097, "release-notes": [], "review_comments": 0, "state": "open", "title": "(DAQ) fix lock contention in source", "updated_at": "1717060986", "user": "smorovic"}