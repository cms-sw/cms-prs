{"additions": 77, "auther_ref": "from-CMSSW_16_0_X_2025-11-06-2300", "auther_sha": "57b365a35f6a0db1e4d1ef3a05d07e56af808688", "author": "Moanwar", "body": "Fix for the regression issue observed in TICLv5 by the NGT group during JetValidation at HLT, where the jet response vs. pT showed abnormally high values.\r\n\r\nAfter investigation, the main issue was traced to missing geometry in the rechit tools responsible for assigning the layer ID to LC during the image formation step used as input to the regression model.\r\n\r\nThis PR implements the following changes:\r\n- Fixes the missing geometry assignment in the rechit tools.\r\n- Retrains the regression model to account for the recent updates introduced in TICL.\r\n- Adds protection in the rechit tools to ensure they crash if used without proper geometry initialization.\r\n\r\nThis PR to be tested with TICL workflows such as: 29888.203, 29688.203\r\nAdditionally, it requires the following cms-data PR: https://github.com/cms-data/RecoHGCal-TICL/pull/10\r\n\r\nworkflow_opts = -w upgrade\r\nworkflow = 29888.203,29688.203\r\n\r\nAdding the jet response as a function of pT before (left) and after (right) the issue was fixed, coming from the jet validation plots at the HLT. It can be clearly seen the issue has been resolved.\r\n\r\n<img width=\"500\" alt=\"Before fix\" src=\"https://github.com/user-attachments/assets/8a2116f9-2366-4b61-94c9-3d72a2fd756b\" /> <img width=\"500\" alt=\"After fix\" src=\"https://github.com/user-attachments/assets/2fba103c-e13e-4b19-82c5-3024a7930c2a\" />\r\nAlso adding the links of the full sets of plots before [1] and after [2] fixing the issue.\r\n\r\n[1] Plots before the fix: https://evernazz.web.cern.ch/evernazz/NGT/JetMETValidationPlots/JetPerformance_TICLv5_NewPlots/hltAK4PFPuppiJets/\r\n\r\n[2] Plots after the fix: https://mohamed.web.cern.ch/linking/hltAK4PFPuppiJets_RelVal_newPFN_v3/\r\n\r\nFYI: @felicepantaleo @waredjeb @hatakeyamak", "branch": "master", "changed_files": 16, "comments": 14, "commits": 1, "created_at": "1762520214", "deletions": 42, "labels": ["hlt-pending", "reconstruction-approved", "pending-signatures", "tests-approved", "orp-pending", "requires-external", "code-checks-approved"], "milestone": "CMSSW_16_0_X", "number": 49343, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix energy regression issue in TICLv5", "updated_at": "1762773271", "user": "Moanwar"}