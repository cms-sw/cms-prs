{"additions": 72, "auther_ref": "patch-14", "auther_sha": "ea90f7e940bf8900852eabe0f97d8d66b6b6fe54", "author": "AdrianoDee", "body": "#### PR description:\r\n\r\nThis PR proposes two things.\r\n\r\n1. to remove the duplicate RelVals in `relval_highstats.py` already added in `relval_data_highstats.py` by https://github.com/cms-sw/cmssw/pull/45055. Without this `runTheMatrix.py -w data,highstats -n`  complains about duplicates:\r\n\r\n```\r\n==> duplicate name found for  2024.4141_RunZeroBias2024F_1M\r\n    keeping  :  (2024.4141, 'RunZeroBias2024F_1M', [<Configuration.PyReleaseValidation.MatrixUtil.InputInfo object at 0x7f2bcc55d700>, 'cmsDriver.py step2  --process reHLT -s L1REPACK:Full,HLT:@relval2024 --conditions auto:run3_hlt_relval --data  --eventcontent FEVTDEBUGHLT --datatier FEVTDEBUGHLT --era Run3_2024', 'cmsDriver.py step3  --conditions auto:run3_data_prompt_relval -s RAW2DIGI,L1Reco,RECO,PAT,NANO,DQM:@standardDQM+@miniAODDQM+@nanoAODDQM --datatier AOD,MINIAOD,NANOAOD,DQMIO --eventcontent AOD,MINIAOD,NANOEDMAOD,DQM --data  --process reRECO --scenario pp --era Run3 --customise Configuration/DataProcessing/RecoTLR.customisePostEra_Run3 --hltProcess reHLT', 'cmsDriver.py step4  -s HARVESTING:@standardDQM+@miniAODDQM+@nanoAODDQM --conditions auto:run3_data --data  --filetype DQM --scenario pp --era Run3'], ['RunZeroBias2024F_1M', 'HLTDR3_2024', 'AODNANORUN3_reHLT_2024', 'HARVESTRUN3_2024'])\r\n    ignoring :  (2024.4141, 'RunZeroBias2024F_1M', [<Configuration.PyReleaseValidation.MatrixUtil.InputInfo object at 0x7f2bcc55d700>, 'cmsDriver.py step2  --process reHLT -s L1REPACK:Full,HLT:@relval2024 --conditions auto:run3_hlt_relval --data  --eventcontent FEVTDEBUGHLT --datatier FEVTDEBUGHLT --era Run3_2024', 'cmsDriver.py step3  --conditions auto:run3_data_prompt_relval -s RAW2DIGI,L1Reco,RECO,PAT,NANO,DQM:@standardDQM+@miniAODDQM+@nanoAODDQM --datatier AOD,MINIAOD,NANOAOD,DQMIO --eventcontent AOD,MINIAOD,NANOEDMAOD,DQM --data  --process reRECO --scenario pp --era Run3 --customise Configuration/DataProcessing/RecoTLR.customisePostEra_Run3 --hltProcess reHLT', 'cmsDriver.py step4  -s HARVESTING:@standardDQM+@miniAODDQM+@nanoAODDQM --conditions auto:run3_data --data  --filetype DQM --scenario pp --era Run3'], ['RunZeroBias2024F_1M', 'HLTDR3_2024', 'AODNANORUN3_reHLT_2024', 'HARVESTRUN3_2024'])\r\n````\r\n\r\n2. adjusted `das-up-to-nevents.py` to run DAS queries run per run up to the number of events requested in order to have smaller queries to be cached by sms-bot. This should fix the DAS query failures observed in latest tests.\r\n \r\n#### PR validation:\r\n\r\n`runTheMatrix.py -w data,highstats -n` \r\n\r\ndoes not complain about duplicates anymore.\r\n", "branch": "master", "changed_files": 6, "comments": 17, "commits": 3, "created_at": "1724306973", "deletions": 48, "labels": ["pending-signatures", "tests-pending", "orp-pending", "pdmv-pending", "bug-fix", "upgrade-pending", "code-checks-pending"], "milestone": "CMSSW_14_1_X", "number": 45774, "release-notes": [], "review_comments": 0, "state": "open", "title": "Remove Duplicate RelVals from `relval_highstats.py` and Smaller Queries for `das-up-to-nevents.py`", "updated_at": "1724509341", "user": "AdrianoDee"}