{"additions": 673, "auther_ref": "multiCollections", "auther_sha": "9b2fb30b6f9ee813226b7ca008541a2821c66e2d", "author": "ericcano", "body": "#### PR description:\r\nThe design is recursive, but ROOT seems not to serialize variadic templates, so we have a 5 elements design. This number is arbitrary and can be changed with relatively little work.\r\n\r\nThe order of the PortableDeviceCollection template parameters is changed from device at the end to device at the begining to accomodate the pseudo variadic templation.\r\n\r\nA test validates the colleciton with two layouts.\r\n\r\nThe layout and view can be accessed by index or type, on the condition the type is present only once in the collection.\r\n\r\nThe default index is set to 0 to minimize the need for chages in the single layout case. Empty template parameters square bracket (\"<>\") are needed in some cases.\r\n\r\n#### PR validation:\r\n\r\nThe PR is validated with the pre-existing `/HeterogeneousCore/AlpakaTest/test/testHeterogeneousCoreAlpakaTestWriteRead.sh` which has been extended to add a two-layouts example.\r\n\r\nThe rest of CMSSW needs to be reviewed to detect where the PortableCollections are used to validate if syntactic adaptations are needed (mostly adding `<>` to functions that became templated, if needed. For this reason, this PR is a draft.\r\n", "branch": "master", "changed_files": 18, "comments": 19, "commits": 23, "created_at": "1670834202", "deletions": 87, "labels": ["pending-signatures", "tests-pending", "orp-pending", "code-checks-approved", "heterogeneous-pending"], "milestone": "CMSSW_13_1_X", "number": 40285, "release-notes": [], "review_comments": 39, "state": "open", "title": "Add support to multi layout portable collections (up to 5)", "updated_at": "1676105404", "user": "ericcano"}