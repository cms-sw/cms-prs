{"additions": 201, "auther_ref": "overlap-recheck", "auther_sha": "a2c01cce153e4c5492e4a92a94a5d7bc9e7c6eca", "author": "trackreco", "body": "requires trackreco/RecoTracker-MkFit#2\r\nThis PR is technical for the default mkFIt setup (running as in production excluding pixelLess).\r\nThe goal is to have this in 14_0 pre2 so that a special relval can be requested with pixelLess enabled.\r\n\r\nNew feature:\r\n- (on demand/configurable) instead of independently adding hits from an overlapping module as a second hit, check the second hit after KF update with the first hit and use this post-update chi2 and the overlap hit chi2; keep the overlap if the score improves\r\n    - enable this for the pixelLess iteration where the addition of pixel hits was quite ineffective\r\n\r\nUpdates in selecHitIndicesV2 (recently added in #43145 ):\r\n- add propagation uncertainty when hits are selected (most important for pixels)\r\n- sqr/sqrt mixup bugfix \r\n- make choice of selecHitIndicesV2 configurable\r\n    - enable this for the pixelLess iteration where the old hit selector was overflowing and missing the right hits\r\n\r\n\r\nSome observations with pixelLess re-enabled\r\n- about 10% reduction in [tracking time](http://uaf-10.t2.ucsd.edu/~legianni/PR118/plots_time_v2_Dec15/plots_timing/summaryCPU.pdf): 6.6 s -> 6.0 s \r\n- <img width=\"200\" alt=\"image\" src=\"https://github.com/cms-sw/cmssw/assets/4676718/faee2508-f2b4-47a9-bad1-603d1cc68177\">\r\n- \r\n    - blue: mkfit5/production before this PR\r\n    - red: mkfit5/production with this PR (to show it's technical)\r\n    - black: mkfit5+pixelLess before this PR\r\n    - orange: mkfit5+pixelLess with this PR\r\n- In [Standard ttbar  MTV](http://uaf-10.t2.ucsd.edu/~legianni/PR118/plots_TT_v2_Dec15) (or in the modified [MTV with pt sim < 0.9 GeV](http://uaf-10.t2.ucsd.edu/~legianni/PR118/plots_TTlowpt_v2_Dec15/)):\r\n    -  <img width=\"600\" alt=\"image\" src=\"https://github.com/cms-sw/cmssw/assets/4676718/ced378ce-cc82-4abc-b63d-e6b74eb15a52\"> recover small inefficiency below 1 GeV\r\n    - <img width=\"600\" alt=\"image\" src=\"https://github.com/cms-sw/cmssw/assets/4676718/23312002-86af-4f5d-8369-e743f0f94293\"> roughly full recovery of true tracks with large impact parameter (the plot is dominated by the low-pt PU tracks here) \r\n    - <img width=\"600\" alt=\"image\" src=\"https://github.com/cms-sw/cmssw/assets/4676718/9366b1ad-6693-4942-9cf3-b0366dde41d2\"> signal tracks (selected here with pt< 0.9 GeV) efficiency is recovered as expected at higher production radius \r\n- In XiMinus sample without PU  [standard MTV](http://uaf-10.t2.ucsd.edu/~legianni/PR118/plots_XiMinus_v2_Dec15/) (and [MTV with pt sim < 0.9 GeV](http://uaf-10.t2.ucsd.edu/~legianni/PR118/plots_XiMinuslowpt_v2_Dec15/)) : \r\n    - <img width=\"300\" alt=\"image\" src=\"https://github.com/cms-sw/cmssw/assets/4676718/9d5818a7-25a7-40a6-ba98-7005b9cf1426\"> the overall efficiency is as good as CKF \r\n    - <img width=\"280\" alt=\"image\" src=\"https://github.com/cms-sw/cmssw/assets/4676718/e9d3b6bb-1d19-4aeb-aeca-07ae317dbebe\"><img width=\"280\" alt=\"image\" src=\"https://github.com/cms-sw/cmssw/assets/4676718/20f508db-ea87-4b1c-8674-73d7d7232d7e\"> slight improvement for pt < 0.9 GeV (left) and still slightly worse for pt > 0.9 GeV (right) \r\n\r\n", "branch": "master", "changed_files": 13, "comments": 4, "commits": 10, "created_at": "1702665675", "deletions": 28, "labels": ["reconstruction-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved", "tracking"], "milestone": "CMSSW_14_0_X", "number": 43580, "release-notes": [], "review_comments": 0, "state": "open", "title": "mkFit: overlap area candidate re-check and start using the new hit selection V2 in pixelLess iteration", "updated_at": "1702666755", "user": "slava77"}