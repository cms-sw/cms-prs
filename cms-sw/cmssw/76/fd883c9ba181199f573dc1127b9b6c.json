{"additions": 11, "auther_ref": "moveMPIInitSherpaHadronizer", "auther_sha": "ab7bcccb32aadec97821553c18e54918f67d444e", "author": "Dr15Jones", "body": "#### PR description:\r\n\r\nThe MPI::Init function setups up a unix signal handler which interferes with the signal handled used in the cmsExternalGenerator program. Moving the call to the constructor allows the signal handler to be reset\r\nbefore doing any data processing.\r\n\r\nEven with this change, an unix signal happening in the constructor will cause a dealock of the ExternalGenerator system.\r\n\r\nAlso had to avoid a case where an exception could be thrown while we were unrolling from another exception. That would happen if doSetRandomEngine would throw an exception.\r\n\r\n#### PR validation:\r\n\r\nThe code compiles and a simple job using the SherpaHadronizer with the ExternalGeneratorFilter ran fine.\r\nExplicitly adding an exception to Sherpa allowed us to test the problem.", "branch": "master", "changed_files": 1, "closed_at": "1631210968", "comments": 12, "commits": 2, "created_at": "1631135333", "deletions": 5, "labels": ["generators-approved", "fully-signed", "tests-approved", "bug-fix", "orp-approved", "urgent", "code-checks-approved"], "merge_commit_sha": "227c77899529dfa57ae0a4a8f87c2cb454a07f08", "merged_at": "1631210968", "merged_by": "cmsbuild", "milestone": "CMSSW_12_1_X", "number": 35204, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fixed exceptional case handling in SherpaHadronizer", "updated_at": "1631210969", "user": "Dr15Jones"}