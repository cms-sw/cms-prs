{"additions": 438, "auther_ref": "mtv_optimize", "auther_sha": "af5504b7871fa886ae82682786477ebb8cb64b16", "author": "makortel", "body": "This PR reduces the time spent in MultiTrackValidator in RAW2DIGI,RECO,VALIDATION,DQM jobs using TTbar + 35@25ns PU events by a factor of 25. The main sources of improvement are (in descending order, roughly)\n- LogInfo/LogVerbatim -> LogDebug/LogTrace (5x improvement ...)\n- Precalculate TP momentum+vertex wrt PCA for TPs passing the efficiency selection (instead of repeating them for all input track collections)\n- Eliminate (repeated) string comparisons in `analyze()`\n- Inline all trivial TrackingParticle accessors\n- Tune TrackingParticleSelector, do the efficiency-selection only once (instead of repeating for all input track collections)\n\nA side effect is that now the dEdx-histograms are filled also for the subcollections of generalTracks, and the histograms are not booked for MTV instances other than the one for FullSim pp validation.\n\nTested in CMSSW_7_5_X_2015-05-03-1100+#8888 and rebased (+tested with limited matrix) on top of CMSSW_7_5_X_2015-05-07-1100 for IB containing #8888. No changes are expected in already-filled histograms. \n\n@rovere @VinInn \n", "branch": "CMSSW_7_5_X", "changed_files": 13, "closed_at": "1431330733", "comments": 18, "commits": 9, "created_at": "1431000277", "deletions": 486, "labels": ["comparison-available", "dqm-approved", "fully-signed", "simulation-approved", "tests-approved"], "merge_commit_sha": "3a93d99e31b2d11d7c6da70ae5d4eeadff88ba11", "merged_at": "1431330733", "merged_by": "cmsbuild", "milestone": "CMSSW_7_5_X", "number": 8988, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Improve MultiTrackValidator performance", "updated_at": "1476956290", "user": "makortel"}