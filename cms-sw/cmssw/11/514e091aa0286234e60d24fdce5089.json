{"additions": 114, "auther_ref": "alca-fix_BS_tools_FTV", "auther_sha": "064118e709f10e968d446bb3d53662762a7e8606", "author": "francescobrivio", "body": "#### PR description:\r\nIn order to ease the BeamSpot workflow usage by the TkAl experts for the Full Track Validations (in order not to rely only on the BeamSpot experts), this PR updates two scripts:\r\n- `RecoVertex/BeamSpotProducer/scripts/createPayload.py`\r\n   - The `option.merged` is used to handle the cases in which the input txt file contains multiple BeamSpot fits. This option was never really used so far (AFAIK) and it contained a few bugs, which are now fixed.\r\n- The `BeamSpotOnlineFromOfflineConverter.cc` plugin (and its python config) has been updated to be able to also handle multi-IOV input tags via the `ESWatcher` mechanism (thanks @mmusich for the tip!)\r\n\r\n**Important Note:**\r\nBoth these scripts are **NOT** used in production, but only ran manually by experts.\r\n\r\n#### PR validation:\r\nFew tests run:\r\n - code compiles\r\n - ran `scram b runtests` successfully\r\n - tested privately with:\r\n   -  ```\r\n      python3 createPayload.py -I lumibase -t [MY_TAG] -d [INPUT_TXT_FILE] -O [OUTPUT_DIR] --merged\r\n      ```\r\n   -  ```\r\n      cmsRun BeamSpotOnlineFromOfflineConverter_cfg.py unitTest=True\r\n      ```\r\n   - ```\r\n      cmsRun BeamSpotOnlineFromOfflineConverter_cfg.py \\\r\n        inputTag=[INPUT_TAG] \\\r\n        inputFile=[INPUT_DB_FILE] \\\r\n        outputTag=[OUTPUT_TAG] \\\r\n        startRun=373710 \\\r\n        startLumi=179\r\n      ```\r\n\r\n#### Backport:\r\nNot a backport, no backport needed\r\n\r\n------\r\nFYI @lguzzi @dzuolo @mmusich @TomasKello @henriettepetersen \r\n", "branch": "master", "changed_files": 4, "comments": 11, "commits": 2, "created_at": "1695931584", "deletions": 83, "labels": ["reconstruction-pending", "alca-pending", "db-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-pending", "tracking"], "milestone": "CMSSW_13_3_X", "number": 42909, "release-notes": [], "review_comments": 2, "state": "open", "title": "Update BeamSpot scripts for FTVs", "updated_at": "1696229865", "user": "francescobrivio"}