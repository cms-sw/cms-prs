{"additions": 7, "auther_ref": "callWhenNewProductsRegisteredPresentOnly", "auther_sha": "41452dce166a265560778d68bc798975013e64e1", "author": "makortel", "body": "#### PR description:\r\n\r\nThis is a preparatory PR towards #38806. This change avoids user surprises when the BranchDescription no longer has type information for dropped branches. An analysis of all current users of callWhenNewProductsRegistered() in https://github.com/cms-sw/cmssw/pull/38806#issuecomment-1192742460 showed that all of them either explicitly limited themselves to present branches, or implicilty assumed the branch is present. I can't think of any useful use case for user code to make decisions based on dropped branches. For inspecting product history up to dropped products provenance is likely better way.\r\n\r\nI made this change as a separate PR so that the change in behavior becomes clearer in release notes, and we can see any possible side effect in the IBs separately from #38806.\r\n\r\n#### PR validation:\r\n\r\nFramework unit tests pass.", "branch": "master", "changed_files": 2, "closed_at": "1659567118", "comments": 13, "commits": 1, "created_at": "1658926804", "deletions": 1, "labels": ["core-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "57ca8245e4ae291e92d78ac626c76ca9925ece74", "merged_at": "1659567118", "merged_by": "cmsbuild", "milestone": "CMSSW_12_5_X", "number": 38872, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Call callWhenNewProductsRegistered() callbacks only for branches that are present", "updated_at": "1659567118", "user": "makortel"}