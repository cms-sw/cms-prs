{"additions": 452, "auther_ref": "dev-120X-mergeLHEforH7-new2", "auther_sha": "60697c8665538c3f88fbfd03f1502c3468266a52", "author": "colizz", "body": "#### PR description:\r\n\r\n(following #33615)\r\n- Add an argument `postGenerationCommand` to ExternalLHEProducer module that can run a self-specified command right after LHE event generation (i.e. launched by the `ScriptName`).\r\n- Add a general LHE merging script `mergeLHE.py` .\r\n- Revert #33628 (switch `externalLHEProducer.generateConcurrently` to True), and resolve the concurrent ExternalLHEProducer interfacing with H7 issue raised in #33544.\r\n  - Now we provide `postGenerationCommand` to merge LHE events after concurrent LHE event generation for the later use of H7GeneratorFilter.\r\n\r\nNote that the idea to add `postGenerationCommand` to the cfg file is not designed for permanent use. It is a hack at the time being that handles the special case of Herwig7GeneratorFilter which can only be feed with an entire piece of LHE file as input. Meanwhile, the new script `mergeLHE.py` may be used as a general tool and also on other occasions.\r\n\r\n#### PR validation:\r\n\r\nPass workflow 535.0 (switch `externalLHEProducer.generateConcurrently` to True).\r\n\r\nPass the local validation on the `mergeLHE.py` script which are more specific to the generator group, see in the following comment.\r\n", "branch": "master", "changed_files": 4, "closed_at": "1623190803", "comments": 14, "commits": 4, "created_at": "1622891844", "deletions": 11, "labels": ["code-checks-approved", "fully-signed", "generators-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "9415d864ec314642bb9d59e0219fedd07dbb0123", "merged_at": "1623190803", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 33985, "release-notes": [], "review_comments": 2, "state": "closed", "title": "Add argument postGenerationCommand to ExternalLHEProducer and provide mergeLHE.py script [new]", "updated_at": "1623190803", "user": "colizz"}