{"additions": 389, "auther_ref": "SiStripBadChannelPatcher_v2", "auther_sha": "bed6d37d1498a3d07d98f2146aa8fbe79c068670", "author": "mmusich", "body": "#### PR description:\r\n\r\nIt is from time to time necessary to patch preexisting `SiStripBadStrip` conditions objects to add and / or remove some `DetId`s or even full FEDs from the list of bad components.\r\nA recent occurrence of this lead to the creation of the object proposed in this [cmsTalk thread](https://cms-talk.web.cern.ch/t/mc-new-sistrip-tag-for-bad-components/15449).\r\nThis PR adds a new plugin `SiStripBadChannelPatcher`  in order to perform such operations, the related configuration and adds it to the existing battery of unit tests. \r\n\r\n#### PR validation:\r\n\r\n`scram b runtests_testCondToolsSiStripBuildersReaders` was run successfully.\r\nI have also run the following script:\r\n\r\n``` bash\r\n#!/bin/bash\r\ncmsRun SiStripBadChannelPatcher_cfg.py\r\n\r\nconddb_import -f sqlite_file:SiStripBadComponents_merged_v0.db -c sqlite_file:toCompare.db -i SiStripBadComponents_merged_v0 -t toCompare\r\nconddb_import -f sqlite_file:SiStripBadComponents_merged_noFED124withFED50.db -c sqlite_file:toCompare.db -i SiStripBadComponents_merged_noFED124withFED50 -t toCompare -b 359334\r\ngetPayloadData.py --plugin pluginSiStripBadStrip_PayloadInspector --plot plot_SiStripBadStripFractionComparisonTrackerMapSingleTag --tag toCompare --time_type Run --iovs '{\"start_iov\": \"1\", \"end_iov\": \"359334\"}' --db sqlite_file:toCompare.db --test ;\r\ngetPayloadData.py --plugin pluginSiStripBadStrip_PayloadInspector --plot plot_SiStripBadStripFractionTrackerMap --tag toCompare --time_type Run --iovs '{\"start_iov\": \"1\", \"end_iov\": \"1\"}' --db sqlite_file:toCompare.db --test ;\r\ngetPayloadData.py --plugin pluginSiStripBadStrip_PayloadInspector --plot plot_SiStripBadStripFractionTrackerMap --tag toCompare --time_type Run --iovs '{\"start_iov\": \"359334\", \"end_iov\": \"359334\"}' --db  sqlite_file:toCompare.db --test ;\r\n```\r\n\r\nand obtained the following plots:\r\n\r\n| Source  | Target | Comparison |\r\n| ------------- | ------------- | ------------- |\r\n| ![image](https://user-images.githubusercontent.com/5082376/193005922-6b0c586b-7d81-47d0-b7ba-3bd6916bbac4.png) | ![image](https://user-images.githubusercontent.com/5082376/193005971-cb34a064-aa0d-4447-a40a-c9a379317c1d.png) | ![image](https://user-images.githubusercontent.com/5082376/193006011-cdcd655b-d388-4044-8de6-bbe415d82a5a.png) |\r\n\r\n\r\n\r\n\r\n\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nN/A", "branch": "master", "changed_files": 3, "comments": 23, "commits": 1, "created_at": "1664439627", "deletions": 0, "labels": ["db-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved"], "milestone": "CMSSW_12_6_X", "number": 39534, "release-notes": [], "review_comments": 9, "state": "open", "title": "SiStrip Conditions tools: add `SiStripBadChannelPatcher` and related configurations", "updated_at": "1664793260", "user": "mmusich"}