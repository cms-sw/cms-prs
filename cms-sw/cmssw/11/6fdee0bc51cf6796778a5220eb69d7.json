{"additions": 19, "auther_ref": "PPSsampicPCL", "auther_sha": "a3dbe5d6334302d62ca6201f1d9d81083429ce93", "author": "tvami", "body": "#### PR description:\r\n\r\nFix to the the problem reported in https://github.com/dmwm/T0/pull/4732#issuecomment-1205772587\r\nSo far the HPTDC and the SAMPIC used the same record name `PPSTimingCalibrationRcd` so the PCL picked up the correct tag for the HPTDC, but nothing for the SAMPIC, this PR separates the two. Also there is some renaming done in the tags names.\r\n\r\n#### PR validation:\r\n\r\nGiven that https://github.com/cms-sw/cmssw/pull/38893 is not merged yet, there is not much to test with. Will test here.\r\n\r\nIn the backport PR I did this:\r\n```\r\npython3 Configuration/DataProcessing/test/RunRepack.py --lfn /eos/cms/store/t0streamer/Data/ALCAPPS/000/355/559/run355559_ls0012_streamALCAPPS_StorageManager.dat \r\npython3 Configuration/DataProcessing/test/RunExpressProcessing.py --scenario AlCaPPS_Run3 --global-tag 124X_dataRun3_Express_Candidate_2022_08_05_17_14_24 --lfn file:write_PrimDS1_RAW.root --alcareco PPSCalMaxTracks\r\npython3 Configuration/DataProcessing/test/RunAlcaSkimming.py --scenario AlCaPPS_Run3 --global-tag 124X_dataRun3_Express_Candidate_2022_08_05_17_14_24 --lfn=file:output.root --skims PromptCalibProdPPSDiamondSampic\r\npython3 Configuration/DataProcessing/test/RunAlcaHarvesting.py --scenario AlCaPPS_Run3 --global-tag 124X_dataRun3_Express_Candidate_2022_08_05_17_14_24 --lfn=file:output.root --alcapromptdataset PromptCalibProdPPSDiamondSampic --dataset /A/B/C\r\n```\r\n\r\nwhere `124X_dataRun3_Express_Candidate_2022_08_05_17_14_24` includes a new DMD tag\r\n`DropBoxMetadata_v8.1_express`\r\nwhich has the diff wrt to the prev one: \r\nhttps://cern.ch/go/n6ZT\r\n\r\n\r\nLeads to a config which says\r\n```\r\nprocess.ALCAHARVESTPPSDiamondSampicTimingCalibration_dbOutput = cms.PSet(\r\n    record = cms.string('PPSTimingCalibrationRcd'),\r\n    tag = cms.string('PPSDiamondSampicCalibration_pcl'),\r\n    timetype = cms.untracked.string('runnumber')\r\n)\r\n\r\nprocess.ALCAHARVESTPPSDiamondSampicTimingCalibration_metadata = cms.PSet(\r\n    record = cms.untracked.string('PPSTimingCalibrationRcd_SAMPIC')\r\n)\r\n\r\nprocess.ALCAHARVESTPPSTimingCalibration_dbOutput = cms.PSet(\r\n    record = cms.string('PPSTimingCalibrationRcd'),\r\n    tag = cms.string('PPSDiamondTimingCalibration_pcl'),\r\n    timetype = cms.untracked.string('runnumber')\r\n)\r\n\r\nprocess.ALCAHARVESTPPSTimingCalibration_metadata = cms.PSet(\r\n    record = cms.untracked.string('PPSTimingCalibrationRcd_HPTDC')\r\n)\r\n```\r\nwhich makes me confident that it will work on the T0 side too.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nNeeds to be backported to 124X", "branch": "master", "changed_files": 8, "closed_at": "1659826995", "comments": 27, "commits": 1, "created_at": "1659711247", "deletions": 13, "labels": ["alca-approved", "operations-approved", "fully-signed", "tests-approved", "db-approved", "bug-fix", "orp-approved", "urgent", "requires-external", "code-checks-approved", "ctpps"], "merge_commit_sha": "63a3e87ca3ececd7b7bdcb559b2f4fd722c077f6", "merged_at": "1659826995", "merged_by": "cmsbuild", "milestone": "CMSSW_12_5_X", "number": 38981, "release-notes": [], "review_comments": 8, "state": "closed", "title": "Fix PPS timing detectors record and tag names for PCL", "updated_at": "1659826995", "user": "tvami"}