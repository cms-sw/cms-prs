{"additions": 534, "auther_ref": "Stub_Builder_10_0_X", "auther_sha": "d70ef5911126976bd913534c724ce6f1ddceefeb", "author": "sviret", "body": "This branch contains significant updates of the TTStub building algorithm, and a TTCluster association update:\r\n\r\n1. **FE inefficiencies**: if this option is turned on (default is off), the MPA/CBC and CIC inefficiencies are accounted for based on the event sequence over which stubs are reconstructed. CIC inefficiency is only partially accounted, MPA and CBC are exact.\r\n\r\n2. **Hardware bend degradation**: bend is encoded on a limited number of bits. Therefore for given stub window tuning all the values cannot be encoded independently and they must be grouped. This process is now done during the Stub building, and the degraded bend can be obtained using the getHardwareBend() method, which is added to the TTStub class. Of course nominal bend is still accessible.\r\n\r\n3. **Full parallax correction**: within the FE asics, parallax is corrected in half-strips units. However, the exact parallax value can always be retrieved at the backend using the stub position and module radius, and can subsequently be used to improve the bend resolution. This parameter is therefore computed during stub building, and can be retrieved via the method getRealTriggerOffset()\r\n\r\n4. **New stub window tuning**: stub are built using the new tuning optimized for PU200 events. The default tuning is PU200 TIGHT. For stub tuning documentation, information is available here: [https://www.dropbox.com/s/sc1ifhfbcv5pts3/Stub%20windows%20tuning-%20a%20tutorial.pdf?dl=0](https://www.dropbox.com/s/sc1ifhfbcv5pts3/Stub%20windows%20tuning-%20a%20tutorial.pdf?dl=0)\r\n\r\n5. **Updated TTCluster association scheme**: \r\n```\r\n/// OLD ASSOCIATION SCHEME\r\n/// MC truth\r\n/// Table to define Genuine, Combinatoric and Unknown\r\n///\r\n/// N = number of NULL TP pointers\r\n/// D = number of GOOD TP pointers different from each other\r\n///\r\n/// N / D--> | 0 | 1 | >1\r\n/// ----------------------\r\n/// 0        | U | G | C\r\n/// ----------------------\r\n/// >0       | U | C | C\r\n```\r\nis replaced by his\r\n```\r\n/// MC truth\r\n/// Table to define Genuine, Combinatoric and Unknown\r\n///\r\n/// N = number of NULL TP pointers\r\n/// D = number of GOOD TP pointers different from each other\r\n///\r\n/// N / D--> | 0 | 1 | >1 (with 1 TP w/more than 99% of total cluster pT) | >1 (other)\r\n/// -------------------------------------------------------------------\r\n/// 0        | U | G | G                                                  | C\r\n/// -------------------------------------------------------------------\r\n/// >0       | U | G | G                                                  | C\r\n///\r\n```\r\nWith this new association scheme, a cluster made from more than 1 digis, with one digi associated to a low-pt secondary and the other one associated to the primary will be flagged as genuine and associated to the primary TP. Was flagged as combinatoric with the previous association.\r\n\r\n**IMPORTANT NOTE**: This PR does not include any modification of the TTTrack class, as Track Trigger algorithm using it are still in development phase within CMSSW", "branch": "master", "changed_files": 14, "comments": 39, "commits": 10, "created_at": "1513866829", "deletions": 130, "labels": ["code-checks-approved", "comparison-pending", "fully-signed", "l1-approved", "orp-pending", "simulation-approved", "tests-approved", "upgrade-approved"], "milestone": "CMSSW_10_1_X", "number": 21765, "release-notes": [], "review_comments": 51, "state": "open", "title": "TTStub and TTCluster class porting to CMSSW 10", "updated_at": "1517082105", "user": "sviret"}