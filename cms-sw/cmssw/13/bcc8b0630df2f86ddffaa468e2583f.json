{"additions": 187, "auther_ref": "esconsumesPixelRecoUtilities", "auther_sha": "147924f932ccc6768cc785ff39df7dac240c9417", "author": "makortel", "body": "#### PR description:\r\n\r\nThis PR is part of https://github.com/cms-sw/cmssw/issues/31061 and attempts to resolve https://github.com/cms-sw/cmssw/issues/30560 following the suggestion in https://github.com/cms-sw/cmssw/issues/30560#issuecomment-654341825. The \"inverse of Bz at origin in GeV\" is moved from `PixelRecoUtilities` as part of `MagneticField` directly, and the caching of \"nominal value in kGauss\" is replaced with setting the nominal values in the constructor of the concrete `MagneticField` class.\r\n\r\nDespite of being part of #31061 this PR adds bunch of calls to the deprecated `EventSetupRecord::get()` function without `esConsumes()`. This was done to avoid this PR growing too big, because many of the calling classes need to be reworked as well for `esConsumes()`, and it would be good to get feedback on the approach of this PR early. Those will be addressed in a subsequent PR.\r\n\r\nResolves #30560, resolves https://github.com/makortel/framework/issues/250\r\n\r\n#### PR validation:\r\n\r\nLimited matrix runs. ~~The floating point math should be equivalent to the earlier implementation, and therefore no changes are expected.~~ A tiny regression is observed (numerical changes affecting order of few tracks in 10 events in the PR tests). Further testing showed that https://github.com/cms-sw/cmssw/commit/7ca35866e4c1d500d99ef7a85f1eaae522cf5fe2 would be enough to restore the previous results.", "branch": "master", "changed_files": 49, "comments": 31, "commits": 3, "created_at": "1630367106", "deletions": 172, "labels": ["fastsim-approved", "reconstruction-approved", "fully-signed", "tests-approved", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_12_1_X", "number": 35081, "release-notes": [], "review_comments": 1, "state": "open", "title": "Move \"inverse of Bz at origin in GeV\" from PixelRecoUtilities to MagneticField", "updated_at": "1631521249", "user": "makortel"}