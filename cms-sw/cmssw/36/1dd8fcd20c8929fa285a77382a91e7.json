{"additions": 195, "auther_ref": "modify-rpc-isfront_from-CMSSW_15_0_0_pre1", "auther_sha": "737cc5f1b110bb2b92d081d2f83f3af11b335a21", "author": "eigen1907", "body": "#### PR description:\r\n\r\nThis PR modifies the isFront function inside the RPC Endcap Geometry Builder.\r\nIt will be applied in synchronization with PR (#47134) by Sunanda Banerjee.\r\n\r\nThe isFront function classifies RPCs as front or back chambers by RPC Ids.\r\n\r\nAs the PR (#47134) modifies the z coordinates of RPCs inside RPC endcap stations (RE-4, RE-3, RE-2, RE+2, RE+3, RE+4),\r\nThe criteria for the isFront function needs to be changed as well.\r\nTherefore, this PR modifies the criteria for the isFront function correctly as the z coordinate changes.\r\n\r\nFor history and more details, see the previous meeting materials.\r\n(https://indico.cern.ch/event/1475698/contributions/6214667/attachments/2962024/5210467/RPCGeomReport_241106RPCDPG_JShin.pdf)\r\n\r\n\r\n#### PR validation:\r\n\r\nTo avoid errors, this PR should be used with #47134 and the new scenario.\r\nOtherwise (when applying this PR alone), the error below will be raised by the selfTest function in the Geometry Builder.\r\n\r\nError reproduction)\r\n```\r\nA fatal system signal has occurred: abort signal\r\nThe following is the call stack containing the origin of the signal.\r\n...\r\n#9  0x00007f62d8e9276c in MuRingForwardDoubleLayer::selfTest() const () from /eos/home-j/joshin/workspace-eos/rpc-geometry/update-isfront/CMSSW_15_0_0_pre1/lib/el9_amd64_gcc12/libRecoMuonDetLayers.so\r\n#10 0x00007f62d8e9359b in MuRingForwardDoubleLayer::MuRingForwardDoubleLayer(std::vector<ForwardDetRing const*, std::allocator<ForwardDetRing const*> > const&, std::vector<ForwardDetRing const*, std::allocator<ForwardDetRing const*> > const&) () from /eos/home-j/joshin/workspace-eos/rpc-geometry/update-isfront/CMSSW_15_0_0_pre1/lib/el9_amd64_gcc12/libRecoMuonDetLayers.so\r\n#11 0x00007f62d8e9f36f in MuonRPCDetLayerGeometryBuilder::buildLayer(int, std::vector<int, std::allocator<int> > const&, int, int, std::vector<int, std::allocator<int> >&, RPCGeometry const&) () from /eos/home-j/joshin/workspace-eos/rpc-geometry/update-isfront/CMSSW_15_0_0_pre1/lib/el9_amd64_gcc12/libRecoMuonDetLayers.so\r\n#12 0x00007f62d8e9fea8 in MuonRPCDetLayerGeometryBuilder::buildEndcapLayers(RPCGeometry const&) () from /eos/home-j/joshin/workspace-eos/rpc-geometry/update-isfront/CMSSW_15_0_0_pre1/lib/el9_amd64_gcc12/libRecoMuonDetLayers.so\r\n#13 0x00007f62bb85a0bf in MuonDetLayerGeometryESProducer::produce(MuonRecoGeometryRecord const&) () from /cvmfs/cms.cern.ch/el9_amd64_gcc12/cms/cmssw/CMSSW_15_0_0_pre1/lib/el9_amd64_gcc12/pluginRecoMuonDetLayersPlugins.so\r\n...\r\n```\r\n\r\nThis change will also require a new payload for RPC Geometry when working with Global Tags.\r\n\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nNothing special\r\n", "branch": "master", "changed_files": 9, "comments": 47, "commits": 8, "created_at": "1737358688", "deletions": 38, "labels": ["reconstruction-pending", "alca-pending", "operations-pending", "pending-signatures", "tests-pending", "orp-pending", "requires-external", "code-checks-pending"], "milestone": "CMSSW_16_0_X", "number": 47138, "release-notes": [], "review_comments": 0, "state": "open", "title": "Modify RPC isFront function to match criteria with will be modified RPC geometries for Run, Run 3 and Run 4", "updated_at": "1757571932", "user": "eigen1907"}