{"additions": 7, "auther_ref": "addMergeCheck", "auther_sha": "5f24da3902e86809bbe64302a33d49d724e44b3d", "author": "mark-grimes", "body": "This should stop the relval failures for HGCal.  The problem was that validation plots were being booked with equal minimum and maximum limits which causes root to fail when adding them together during merging.  This adds a check during the merging to ignore histograms where the min is not less than the max.  **This does not fix the underlying problem**, it merely stops it failing the whole merge.\n\nThe underlying problem is for the following plots:\n\n```\nHcalHitsV/SimHitsValidationHcal/HcalHitEtaHE0-z\nHcalHitsV/SimHitsValidationHcal/HcalHitEtaHE2+z\nHcalHitsV/SimHitsValidationHcal/HcalHitEtaHE2-z\nHcalHitsV/SimHitsValidationHcal/HcalHitTimeAEtaHE0-z\nHcalHitsV/SimHitsValidationHcal/HcalHitTimeAEtaHE2+z\nHcalHitsV/SimHitsValidationHcal/HcalHitTimeAEtaHE2-z\nHcalHitsV/SimHitsValidationHcal/HcalHitE100HE0-z\nHcalHitsV/SimHitsValidationHcal/HcalHitE100HE2+z\nHcalHitsV/SimHitsValidationHcal/HcalHitE100HE2-z\nHcalHitsV/SimHitsValidationHcal/HcalHitE250HE0-z\nHcalHitsV/SimHitsValidationHcal/HcalHitE250HE2+z\nHcalHitsV/SimHitsValidationHcal/HcalHitE250HE2-z\nHcalHitsV/SimHitsValidationHcal/HcalHitE25HE0-z\nHcalHitsV/SimHitsValidationHcal/HcalHitE25HE2+z\nHcalHitsV/SimHitsValidationHcal/HcalHitE25HE2-z\nHcalHitsV/SimHitsValidationHcal/HcalHitE50HE0-z\nHcalHitsV/SimHitsValidationHcal/HcalHitE50HE2+z\nHcalHitsV/SimHitsValidationHcal/HcalHitE50HE2-z\n```\n\nIt appears that the limits are set dynamically in [SimHitsValidationHcal::getLimits](https://github.com/cms-sw/cmssw/blob/CMSSW_6_2_X_SLHC/Validation/HcalHits/src/SimHitsValidationHcal.cc#L302) and this is failing for HGCal and returning equal numbers.\n\n@vandreev11, @pfs, @boudoul, @davidlange6 (also @lgray since you were on some thread about it).\n", "branch": "CMSSW_6_2_X_SLHC", "changed_files": 1, "closed_at": "1412615282", "comments": 3, "commits": 2, "created_at": "1412330110", "deletions": 2, "labels": ["comparison-pending", "core-pending", "dqm-pending", "orp-pending", "pending-signatures", "tests-pending"], "merge_commit_sha": "cb82282cf07bbe11e35ce1ef9911dd3db7b695ee", "merged_at": "1412615282", "merged_by": "cmsbuild", "milestone": "Next CMSSW_6_2_X_SLHC", "number": 5671, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix failure during merge when histogram limits are invalid", "updated_at": "1422006125", "user": "mark-grimes"}