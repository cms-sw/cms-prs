{"additions": 252, "auther_ref": "dqmmemory_script", "auther_sha": "fb3f24e6eced26728496b3ce9713245ea6404e63", "author": "dmitrijus", "body": "Due to *popular* demand, this adds dqmMemoryStats.py script.\r\n\r\nThis won't draw a chart or anything, just a simple text breakdown of\r\nhistograms in DQM.\r\n\r\nUsage:\r\n\r\n`dqmMemoryStats.py -x -i step3_inDQM.root` will output the memory usage\r\nfor that file. It will output: `Total bytes: 251.78 MiB`.\r\n\r\n`--summary` Will also output a summary table will output biggest offenders.\r\n\r\n```\r\ndqmMemoryStats.py -x -i step3_inDQM.root --summary\r\n\r\n************************* DQM level 2 folder breakdown *************************\r\n* Size cutoff: 1.00 MiB                                                        *\r\n********************************************************************************\r\n31.92 MiB        TrackerHitsV/TrackerHit\r\n12.91 MiB        Muons/RecoMuonV\r\n12.81 MiB        Vertexing/PrimaryVertexV\r\n11.40 MiB        HLT/JME\r\n...\r\n```\r\n\r\nSetting `-r/--ref <file>` flag will compare two files.\r\n\r\n```\r\ndqmMemoryStats.py -x -i step3_inDQM.root -r DQM_*_RECO.root --summary\r\n\r\n************************* DQM level 1 folder breakdown *************************\r\n********************************************************************************\r\n-2721.23 KiB     EcalBarrel\r\n-1364.68 KiB     EcalEndcap\r\n-1255.52 KiB     HLT\r\n...\r\n```\r\n\r\nBoth `-i` and `-r` can be either DQM IO or DQM root files or any\r\ncombination of those. The script autodetects format.", "branch": "master", "changed_files": 2, "closed_at": "1508912432", "comments": 19, "commits": 2, "created_at": "1508351201", "deletions": 0, "labels": ["code-checks-approved", "comparison-available", "dqm-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "56e6674c5c0448cc6bfadb2957213ce04ecbdd71", "merged_at": "1508912432", "merged_by": "cmsbuild", "milestone": "CMSSW_9_4_X", "number": 20967, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Introduce DQM memory usage script", "updated_at": "1508912432", "user": "dmitrijus"}