{"additions": 2, "auther_ref": "FixForValgrindInvalidRead70X", "auther_sha": "06d0b56a589c77868c1959da2d06993015f2ee3e", "author": "wmtan", "body": "This is a fix for 7_0_X for a valgrind error discovered by Vincenzo Innocente in 7_1_X. The function TypeWithDict::name() returns a string by value. A caller of this function, the free function typeCode(), saved the value of the char\\* to the embedded C string without saving the string itself. In those cases where TypeWithDict returns a temporary (as it will when the type is a pointer), the stored char\\* gets used after the temporary string is reclaimed. The fault is in the caller. This pull request has the caller save the returned string on the stack so that it does not get prematurely reclaimed.\nThis bug was introduced in 7_0_X.\n", "branch": "CMSSW_7_0_X", "changed_files": 1, "closed_at": "1396366610", "comments": 7, "commits": 1, "created_at": "1394886882", "deletions": 1, "labels": ["analysis-approved", "comparison-pending", "fully-signed", "orp-pending", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "c23fa7fdde40b8b2ac60981d17db5dbea3be39a8", "merged_at": "1396366610", "merged_by": "davidlange6", "milestone": "Next CMSSW_7_0_X", "number": 2880, "release-notes": [], "review_comments": 0, "state": "closed", "title": "String returned by value must be stored", "updated_at": "1399647226", "user": "wmtan"}