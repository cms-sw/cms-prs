{"additions": 2117, "auther_ref": "introducePopConO2O_141X", "auther_sha": "be1fc654066f64c2082238d0ae210616def58526", "author": "perrotta", "body": "This PR ports into the special branch CMSSW_14_1_O2OTest_X the two CMSSW_14_1_X PRs\r\n- #46571 \r\n- #46572 \r\n\r\nwhich are respectively the backport of https://github.com/cms-sw/cmssw/pull/44927 and https://github.com/cms-sw/cmssw/pull/45395 , both already merged in master.\r\n\r\nThe original PR descriptions follow:\r\n\r\n=== #46571\r\n\r\nThis PR introduces a new OnlinePopCon mechanism that will serve the O2Os aiming at writing lumi-based IOVs for HLT.\r\nThe implementation is following the same structure of the already existing PopCon mechanism:\r\n- PopCon --> DB upload through [PoolDBOutputService](https://github.com/cms-sw/cmssw/blob/master/CondCore/DBOutputService/interface/PoolDBOutputService.h)\r\n- OnlinePopCon --> DB upload through [OnlineDBOutputService](https://github.com/cms-sw/cmssw/blob/master/CondCore/DBOutputService/interface/OnlineDBOutputService.h)\r\n\r\nand it is largely borrowed from the PopCon code itself, with the appropriate/minimal changes required for running the OnlineDBOutputService.\r\n\r\nThe first and only (for now) customer of this mechanism are the LHCInfoPerLS and LHCInfoPerFill O2O, when run in \"duringFill mode\".\r\n\r\n=== #46572\r\n\r\nUpdate of the duringFill mode of LHCInfoPer* O2Os to be able to write to HLT and express tags complying to the synchronization rules. It writes only one (or none) payload at execution and writes to an IOV corresponding to a lumisection not yet processed by HLT. It's achieved by using OnlineDBOutputService::writeIOVForNextLumisection instead of PoolDBOutputService::writeMany. The O2Os in duringFill now uses OnlinePopCon and OnlinePopConAnalyzer (implemented in https://github.com/cms-sw/cmssw/pull/44927) instead of the original ones.\r\n\r\n**PR validation:**\r\n\r\nThe two original PRs succesfully passed the tests in the CMSSW_14_1_X IBs", "branch": "CMSSW_14_1_O2OTest_X", "changed_files": 21, "comments": 3, "commits": 2, "created_at": "1731052647", "deletions": 1395, "labels": ["alca-pending", "db-pending", "pending-signatures", "orp-pending", "tests-started"], "number": 46632, "release-notes": [], "review_comments": 0, "state": "open", "title": "Introduce OnlinePopCon mechanism and HLT-compatible LHCInfoPer* PopCon (duringFill mode) - 14_1_X", "updated_at": "1731052789", "user": "perrotta"}