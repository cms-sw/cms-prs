{"additions": 34, "auther_ref": "fixPatMuondXY", "auther_sha": "8dd5d67bfe382e6c7347b0dc2dae6497139a760c", "author": "cericeci", "body": "**PR description:**\r\n\r\nThe the transverse impact parameter for pat::Muon was being computed using the IPTools package. It takes the sign from the scalar product of the tangent vector to the best track at the point of closest approach to the PCA to PV vector. While this makes sense for complex objects like jets, for muon tracks it should be ~0 by definition.  Thus, while the absolute dxy value makes sense the sign did not. This fixes it by switching to use the same IP sign as the dxy obtained from the best track.\r\n\r\nThis has been noted and later corrected from the nanoAOD side in\r\n[https://github.com/cms-nanoAOD/cmssw/pull/475](https://github.com/cms-nanoAOD/cmssw/pull/475)\r\n\r\nAn open JIRA ticket was opened discussing the problem in the muon group\r\n[https://its.cern.ch/jira/browse/CMSMUONS-311](https://its.cern.ch/jira/browse/CMSMUONS-311)\r\n\r\n**Expected changes**\r\n\r\nThe sign obtained from pat::Muon.dB(pat::Muon::PV2D) and pat::Muon.dB(pat::Muon::BS2D) should now match what could be obtained from the track collection as pat::Muon.bestTrack()->dxy(PV _or_ BS). Expect no changes in the absolute value itself.\r\n\r\n**PR validation**\r\n\r\nTested locally in a couple of Z->mumu RelVal AOD samples obtaining the desired results.\r\nNo additional changes from code checks.\r\nMinimal integration checks from runTheMatrix.py -l limited -i all  passed.\r\n", "branch": "master", "changed_files": 3, "closed_at": "1581082594", "comments": 34, "commits": 7, "created_at": "1579191091", "deletions": 13, "labels": ["analysis-approved", "code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "736475d21640a0bb349922b330939464e214db8b", "merged_at": "1581082594", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 28753, "release-notes": [], "review_comments": 8, "state": "closed", "title": "Fixed sign in pat::Muon::dB() to match one obtained from the best track definition ", "updated_at": "1581082594", "user": "cericeci"}