{"additions": 20, "auther_ref": "fix-r45", "auther_sha": "9db22c21ef8d55f2c246e4308d07558d03fa1724", "author": "jaehyeok", "body": "The HCAL R45 filter algorithm uses two flags: \"HBHETS4TS5Noise\" and \"HBHEOOTPU\". Both are set by https://github.com/cms-sw/cmssw/blob/master/RecoLocalCalo/HcalRecAlgos/interface/HBHEPulseShapeFlag.h and it still assumes that SOI is 4. \r\n\r\nThis PR fixes this issue by getting the SOI from HBHEDataFrame::presamples().\r\n\r\nSmall changes (increase in rejection rate) are expected in both data and MC in the R45 filter decision.\r\n\r\nFollowing is the rate changes for MET+X triggers measured in JetHT sample (13k events) before and after the fix:  \r\n\r\npassedFIX/passedBUG\t\tHLTPath\r\n0.964613\t\tHLT_CaloMET70_HBHECleaned_v4\r\n0.959184\t\tHLT_CaloMET80_HBHECleaned_v4\r\n0.952408\t\tHLT_CaloMET90_HBHECleaned_v4\r\n0.944777\t\tHLT_CaloMET100_HBHECleaned_v4\r\n0.509202\t\tHLT_CaloMET250_HBHECleaned_v4\r\n0.367521\t\tHLT_CaloMET300_HBHECleaned_v4\r\n0.311828\t\tHLT_CaloMET350_HBHECleaned_v4\r\n0.708633\t\tHLT_PFMET200_HBHECleaned_v9\r\n0.589474\t\tHLT_PFMET250_HBHECleaned_v9\r\n0.513889\t\tHLT_PFMET300_HBHECleaned_v9\r\n0.703557\t\tHLT_PFMET200_HBHE_BeamHaloCleaned_v9\r\n0.763975\t\tHLT_PFMETTypeOne200_HBHE_BeamHaloCleaned_v9\r\n0.998347\t\tHLT_DiJet110_35_Mjj650_PFMET110_v9\r\n0.997959\t\tHLT_DiJet110_35_Mjj650_PFMET120_v9\r\n0.997436\t\tHLT_DiJet110_35_Mjj650_PFMET130_v9\r\n0.810345\t\tHLT_Rsq0p35_v15\r\n0.710526\t\tHLT_Rsq0p40_v15\r\n0.988839\t\tHLT_RsqMR300_Rsq0p09_MR200_v15\r\n0.982788\t\tHLT_RsqMR320_Rsq0p09_MR200_v15\r\n0.992908\t\tHLT_RsqMR300_Rsq0p09_MR200_4jet_v15\r\n0.989583\t\tHLT_RsqMR320_Rsq0p09_MR200_4jet_v15\r\n ", "branch": "master", "changed_files": 1, "closed_at": "1531402461", "comments": 15, "commits": 3, "created_at": "1531371862", "deletions": 18, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "1d8fc51dfbdd23ea3c4bdd91c6d9dc068be6f5ce", "merged_at": "1531402461", "merged_by": "cmsbuild", "milestone": "CMSSW_10_2_X", "number": 23777, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[HCAL] Fix rechit flags for R45 filter ", "updated_at": "1531402462", "user": "jaehyeok"}