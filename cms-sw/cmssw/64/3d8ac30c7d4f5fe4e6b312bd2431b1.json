{"additions": 98, "auther_ref": "fixForSiPixelLorentzAnglePCLHarverster_12_4_X", "auther_sha": "216a22262b47ae41ab85bbfdcf8e3df6560c11b5", "author": "mmusich", "body": "backport of https://github.com/cms-sw/cmssw/pull/39122\r\n\r\n#### PR description:\r\n\r\nWhen scrutinizing the output of the [CMSSW_12_4_7](https://github.com/dmwm/T0/pull/4745) replay in the [offline test GUI](https://tinyurl.com/2exrs63w) it was noticed that PR https://github.com/cms-sw/cmssw/pull/39075 introduced a couple of issues:\r\n   * the name of the fit function at https://github.com/cms-sw/cmssw/blob/ff370435bb225602ff76c21a84fdf2214e6adc02/CalibTracker/SiPixelLorentzAngle/src/SiPixelLorentzAnglePCLHarvester.cc#L635 \r\n   * was changed going out-of-synch with the one of the render plugin defined at [SiPixelLorentzAnglePCLRenderPlugin.cc#L199](https://github.com/dmwm/deployment/blob/634bb4f46b5b6c989b0817162c29dca050d98104/dqmgui/style/SiPixelLorentzAnglePCLRenderPlugin.cc#L199) and causing the not correct rendering of the fits in the GUI, cf https://tinyurl.com/2qkryzg2;\r\n   * the cut on the covariance matrix status introduced at https://github.com/cms-sw/cmssw/blob/ff370435bb225602ff76c21a84fdf2214e6adc02/CalibTracker/SiPixelLorentzAngle/src/SiPixelLorentzAnglePCLHarvester.cc#L766 results too strict for the measurements to pass it, resulting in none of them to be accepted (cf. https://tinyurl.com/2ekl8s7c ).\r\n   \r\n   \r\nThis PR fixes both issues, by:\r\n   * restoring the name of the fit function to be synchronized with the render plugin (an assertion statement is also introduced such that it is not changed again by mistake later);\r\n   * the cut on the covariance matrix status is loosened to accept also `kMadePosDef` grade fits;\r\n   \r\nFinally I profit of this PR to improve the diagnostics, by including a dashboard histogram to show what quality cuts fails.\r\n\r\n#### PR validation:\r\n\r\nManually re-run the configuration for the multi-run harvesting (MRH ID 325019) from:\r\n `/eos/cms/store/group/alca_global/multiruns/results/prod//el8_amd64_gcc10/CMSSW_12_4_6/325019/ `\r\n \r\nand obtained the following file, displayed in a private GUI reachable via:\r\n\r\n```\r\n ssh -NL 8060:localhost:8060 <USER>@lxplus724.cern.ch\r\n```\r\nand visiting https://tinyurl.com/2mo3on59.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nverbatim backport of https://github.com/cms-sw/cmssw/pull/39122 to CMSSW_12_4_X for data-taking operations", "branch": "CMSSW_12_4_X", "changed_files": 2, "comments": 4, "commits": 2, "created_at": "1661061400", "deletions": 17, "labels": ["alca-pending", "pending-signatures", "orp-pending", "tests-started", "bug-fix", "backport-ok", "trk"], "milestone": "CMSSW_12_4_X", "number": 39129, "release-notes": [], "review_comments": 0, "state": "open", "title": "[12.4.X] Fix for `SiPixelLorentzAnglePCLHarvester` after #39075", "updated_at": "1661061496", "user": "mmusich"}