{"additions": 5, "auther_ref": "llvm-700-fix-gcc-toolchain", "auther_sha": "1cff0f155be42b3d43ef1b0af6d9fc1f0f8169f4", "author": "smuzaffar", "body": "We have updated LLVM to version 7.0 for DEVEL IBs. The command `echo \"\" | clang++ -xc++  -v -E -` now returns system gcc include paths\r\n```\r\nclang version 7.0.0 \r\nTarget: x86_64-unknown-linux-gnu\r\nThread model: posix\r\nInstalledDir: /build/muz/llvm/install-llvm/slc6_amd64_gcc700/external/llvm/7.0.0-cms/bin\r\nFound CUDA installation: /cvmfs/cms-ib.cern.ch/nweek-02542/slc6_amd64_gcc700/external/cuda/9.2.148, version 9.2\r\n \"/build/muz/llvm/install-llvm/slc6_amd64_gcc700/external/llvm/7.0.0-cms/bin/clang-7\" -cc1 -triple x86_64-unknown-linux-gnu -E -disable-free -disable-llvm-verifier -discard-value-names -main-file-name - -mrelocation-model static -mthread-model posix -mdisable-fp-elim -fmath-errno -masm-verbose -mconstructor-aliases -munwind-tables -fuse-init-array -target-cpu x86-64 -dwarf-column-info -debugger-tuning=gdb -v -resource-dir /build/muz/llvm/install-llvm/slc6_amd64_gcc700/external/llvm/7.0.0-cms/lib64/clang/7.0.0 -internal-isystem /usr/local/include -internal-isystem /build/muz/llvm/install-llvm/slc6_amd64_gcc700/external/llvm/7.0.0-cms/lib64/clang/7.0.0/include -internal-externc-isystem /include -internal-externc-isystem /usr/include -fdeprecated-macro -fdebug-compilation-dir /build/muz/llvm/CMSSW_10_3_X_2018-09-20-2300/src -ferror-limit 19 -fmessage-length 363 -fobjc-runtime=gcc -fcxx-exceptions -fexceptions -fdiagnostics-show-option -fcolor-diagnostics -o - -x c++ - -faddrsig\r\nclang -cc1 version 7.0.0 based upon LLVM 7.0.0 default target x86_64-unknown-linux-gnu\r\nignoring nonexistent directory \"/include\"\r\n#include \"...\" search starts here:\r\n#include <...> search starts here:\r\n /usr/local/include\r\n /build/muz/llvm/install-llvm/slc6_amd64_gcc700/external/llvm/7.0.0-cms/lib64/clang/7.0.0/include\r\n /usr/include\r\nEnd of search list.\r\n# 1 \"<stdin>\"\r\n# 1 \"<built-in>\" 1\r\n# 1 \"<built-in>\" 3\r\n# 389 \"<built-in>\" 3\r\n# 1 \"<command line>\" 1\r\n# 1 \"<built-in>\" 2\r\n# 1 \"<stdin>\" 2\r\n```\r\n\r\nwhile with LLVM 6.0 it was returnings cms external GCC path. This PR should explicitly pass --gcc-toolchain to force clang++ to look in to cms external gcc.", "branch": "master", "changed_files": 1, "closed_at": "1537534599", "comments": 14, "commits": 1, "created_at": "1537516814", "deletions": 3, "labels": ["code-checks-approved", "comparison-available", "db-pending", "orp-pending", "pending-signatures", "tests-approved"], "milestone": "CMSSW_10_3_X", "number": 24615, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix for LLVM 7.0.0: Explicitly pass the gcc-toolchain to clang", "updated_at": "1537534599", "user": "smuzaffar"}