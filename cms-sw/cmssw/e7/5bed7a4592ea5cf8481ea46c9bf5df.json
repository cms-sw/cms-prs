{"additions": 1088, "auther_ref": "from-CMSSW_12_2_X-ugt-emulator-hadronic-shower-triggers", "auther_sha": "243dc5af30304cafb80bfb10ac0d53a910523d04", "author": "dildick", "body": "#### PR description:\r\n\r\nThis PR does two things: (1) it builds out the Global Trigger framework for (hadronic) showers in the muon system for Run-3 (2) adds the `l1t::MuonShower` and `l1t::MuonRegionalShower` objects to the L1 Ntuples package for rate/efficiency studies.\r\n\r\n* A new `MuonShower` object is introduced in the L1TGlobal emulator and data format packages. This object is treated separately from the regular Muon object. Much of it is based on the muon code, but fortunately it's much simpler.\r\n* The code is based on UTM lib 0.9.X (https://gitlab.cern.ch/cms-l1t-utm/utm/-/releases/utm_0.9.0), which was recently integrated into CMSSW_12_0_X and CMSSW_12_1_X\r\n   * cms-sw/cmsdist#7337 \r\n   * cms-sw/cmsdist#7281 \r\n* The uGT for Run-3 will have 4 bits per BX for muon showers: MUS0, MUS1, MUSOOT0 and MUSOOT1. They map to UTM bits MuonShower0, MuonShower1, MuonShowerOutOfTime0 and MuonShowerOutOfTime1\r\n* For startup Run-3 we foresee MuonShower0 and MuonShower1 to be used by L1 trigger seeds. The other two bits can be used for enhanced shower triggers.\r\n* Previous PRs include \r\n   * #35886\r\n   * #34178\r\n   * #33569\r\n   * #33446\r\n   * #33444\r\n   * #33416\r\n   * #33389\r\n* Related PRs include:\r\n   * https://github.com/cms-sw/cmssw/pull/35627 \r\n   * https://github.com/cms-sw/cmssw/pull/34801\r\n   * https://github.com/cms-sw/cmssw/pull/35461\r\n   * https://github.com/cms-sw/cmssw/pull/35836 \r\n* A few relevant presentations can be found here: \r\n    * [HadronicShowerTrigger_EXO_LL_L1DPG_6May2021.pdf](https://indico.cern.ch/event/1032087/contributions/4334392/attachments/2239866/3798910/HadronicShowerTrigger_EXO_LL_L1DPG_6May2021.pdf)\r\n    * [HLT_muon_shower_martin.pdf](https://indico.cern.ch/event/1032087/contributions/4334095/attachments/2241349/3800447/HLT_muon_shower_martin.pdf)\r\n   * [MuonShower_Oct1_Martin.pdf](https://indico.cern.ch/event/1080450/contributions/4548741/attachments/2320995/3952292/MuonShower_Oct1_Martin.pdf)\r\n * Related JIRA ticket to include new L1 seeds for Run-3:\r\n    * https://its.cern.ch/jira/browse/CMSLITDPG-953  \r\n* The design, implementation and performance of the hadronic shower trigger is documented here: https://gitlab.cern.ch/tdr/notes/DN-20-033/blob/master/temp/DN-20-033_temp.pdf\r\n * Integrating this PR is not urgent, but since it's quite a bit of code, it would be good to get early feedback from CMSSW managers.\r\n\r\n#### PR validation:\r\n\r\n* Code compiles. \r\n* A few integration tests have already been done with Run-3 GEN-SIM-RAW signal samples, such as \r\n`/HTo2LongLivedTo4b_MH-1000_MFF-450_CTau-100000mm_TuneCP5_14TeV_pythia8/Run3Winter20DRPremixMiniAOD-110X_mcRun3_2021_realistic_v6-v2/GEN-SIM-RAW`\r\n* Rate studies are being carried out with this branch https://github.com/cms-l1t-offline/cmssw/pull/951 and with official L1 menu tools:\r\n   * https://github.com/cms-l1-dpg/L1MenuTools/pull/62 \r\n   * https://github.com/cms-l1-dpg/L1MenuTools/pull/66\r\n\r\nThere should be no changes in any workflow since the showers are not enabled in the global trigger logic.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nN/A", "branch": "master", "changed_files": 38, "closed_at": "1638924203", "comments": 87, "commits": 10, "created_at": "1636159159", "deletions": 39, "labels": ["l1-approved", "fully-signed", "tests-approved", "orp-approved", "requires-external", "code-checks-approved"], "merge_commit_sha": "42fa6b3905a25e9586f424cdce9f7a89802af05d", "merged_at": "1638924203", "merged_by": "cmsbuild", "milestone": "CMSSW_12_3_X", "number": 36018, "release-notes": [], "review_comments": 0, "state": "closed", "title": "uGT framework and L1 ntuples for showers in the muon system for Run-3 (HadronicShowerTrigger-8)", "updated_at": "1638926754", "user": "dildick"}