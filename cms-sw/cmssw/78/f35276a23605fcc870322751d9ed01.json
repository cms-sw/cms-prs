{"additions": 109, "auther_ref": "CMSSW_15_0_0_pre3_TOP_DQM_dxy", "auther_sha": "03094cde7e966a8515d7a4b53fbeed38c95ed6b5", "author": "dsidirop1", "body": "### **Description of PR**\r\n\r\n- The main changes expected include the addition of 1D d_xy histograms for TopSingleElectronMediumDQM, TopSingleMuonMediumDQM, SingleTopElectronMediumDQM, SingleTopMuonMediumDQM and the corresponding miniAOD directories. \r\n\r\n1. For GEN-SIM-RECO directories the relevant histograms were booked and the following code added:\r\n\r\n```\r\n// d_xy distribution\r\nif (muon->muonBestTrack().isNonnull()) {\r\ndouble dxy = muon->muonBestTrack()->dxy(Pvertex.position());\r\nfill(\"muonDxy_\", dxy);\r\n}\r\n```\r\n2. For MINOAOD directories the dB function was used to access the d_xy quantity from <pat::Muon> and since the edB function calculating the error for d_xy also exists it was added as well for completion:\r\n\r\n```\r\n// d_xy distribution\r\nif (muon->muonBestTrack().isNonnull()) {\r\ndouble dxy = muon->dB(pat::Muon::PV2D);\r\nfill(\"muonDxy_\", dxy);\r\n\r\ndouble dxyError = muon->edB(pat::Muon::PV2D);\r\nfill(\"muonDxyError_\",dxyError);\r\n}\r\n```\r\n\r\n- Also the range for PvMult plots at the same directories was extended to 100 from 50 for the x-axis.\r\n- An additional harvesting file topDQM_harvesting_miniAOD.py was added to make the process of producing the test files easier and in parallel for miniAOD and GEM-SIM-RECO.\r\n- The input files for topDQM_production_cfg.py and topDQM_production_miniAOD.py have been updated along with the workflows at the corresponding harvesting files.\r\n- This work is a continuation of the updating process of Top DQM code and histograms so there is a minor dependence on previous PRs #46749 and #44299 (#44403 backport).\r\n\r\n\r\n### **PR validation**\r\n\r\nChanges have been made to the following files:\r\n\r\n1. DQM/Physics/src/TopSingleLeptonDQM.cc\r\n2. DQM/Physics/src/SingleTopTChannelLeptonDQM.cc\r\n3. DQM/Physics/src/TopSingleLeptonDQM_miniAOD.cc\r\n4. DQM/Physics/src/SingleTopTChannelLeptonDQM_miniAOD.cc\r\n5. DQM/Physics/test/topDQM_harvesting_cfg.py\r\n6. DQM/Physics/test/topDQM_production_cfg.py\r\n7. DQM/Physics/test/topDQM_harvesting_miniAOD.py (new file)\r\n8. DQM/Physics/test/topDQM_production_miniAOD.py\r\n\r\nTo verify the results of the aforementioned actions the files `DQM/Physics/test/topDQM_production_cfg.py` and `DQM/Physics/test/topDQM_production_miniAOD.py`  were executed with cmsRun to produce .root files that were then used as input for `DQM/Physics/test/topDQM_harvesting_cfg.py` and `DQM/Physics/test/topDQM_harvesting_miniAOD.py`  to produce  trees with the relevant histograms needed that were browsed using the TBrowser root feature. As evidence of the success of the task two of those d_xy histograms (one from TopSingleMuonMediumDQM and the other from SingleTopMuonMediumDQM_miniAOD) are attached on this PR along with one PvMult histogram with the new range.\r\n\r\n![dxy_RECO_TopSingleMuonMediumDQM](https://github.com/user-attachments/assets/a5188d8f-8b60-4541-920d-bfbf4a71e5af)\r\n![dxy_MINIAOD_SingleTopMuonMediumDQM](https://github.com/user-attachments/assets/a4d38554-0eb0-4dbd-8650-97c750f90e96)\r\n![canvas](https://github.com/user-attachments/assets/be7d55b7-6d6d-4a4c-a200-8d92e368d77d)\r\n\r\n\r\n", "branch": "master", "changed_files": 8, "comments": 2, "commits": 2, "created_at": "1741878434", "deletions": 9, "labels": ["dqm-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-rejected"], "milestone": "CMSSW_15_1_X", "number": 47592, "release-notes": [], "review_comments": 0, "state": "open", "title": "Muon dxy 1D Histograms added to all Electron and Muon directories, extended range for PvMult plots for GEN-SIM-RECO AND MINIAOD directories at DQM/Physics", "updated_at": "1741878576", "user": "dsidirop1"}