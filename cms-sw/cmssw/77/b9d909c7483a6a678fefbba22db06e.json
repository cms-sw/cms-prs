{"additions": 13, "auther_ref": "singleIterMTV", "auther_sha": "a7fa16358e377d86b8179144e41b2c9c2c782306", "author": "Parsifal-2045", "body": "#### PR description:\r\n\r\nThis PR fixes `cmsDriver` recipes that try to run Validation together with HLT in a single step while using the `singleIterPatatrack` `procModifer` either alone or together with `trackingLST`. Currently, recipies such as \r\n```bash\r\ncmsDriver.py step2 -s L1P2GT,HLT:75e33,VALIDATION:@hltValidation \\\r\n--processName HLTX \\\r\n--conditions auto:phase2_realistic_T33 \\\r\n--datatier GEN-SIM-DIGI-RAW,DQMIO \\\r\n--eventcontent FEVTDEBUGHLT,DQMIO \\\r\n--geometry ExtendedRun4D110 \\\r\n--era Phase2C17I13M9 \\\r\n--filein file:/eos/cms/store/relval/CMSSW_15_1_0_pre2/RelValZMM_14/GEN-SIM-DIGI-RAW/PU_150X_mcRun4_realistic_v1_STD_Run4D110_PU-v1/2580000/010145a6-c5b8-48d0-b236-0b0a1c2c3c86.root \\\r\n-n 10 \\\r\n--fileout file:step2.root \\\r\n--procModifiers alpaka,singleIterPatatrack\r\n```\r\nor the same with added `trackingLST` among the `procModifiers`, result in the error:\r\n```bash\r\n----- Begin Fatal Exception 07-May-2025 13:33:16 CEST-----------------------\r\nAn exception of category 'InvalidReference' occurred while\r\n   [0] Processing  Event run: 1 lumi: 116 event: 11501 stream: 0\r\n   [1] Running path 'prevalidation_step'\r\n   [2] Calling method for module MultiTrackValidator/'hltTrackValidator'\r\nException Message:\r\nClusterTPAssociation has OmniClusterRefs with ProductIDs 3:193,3:153 but got OmniClusterRef/ProductID with ID 2:345. This is typically caused by a configuration error.\r\n----- End Fatal Exception -------------------------------------------------\r\n```\r\nwhich does not happen anymore after the changes.\r\n\r\n#### PR validation:\r\n\r\nThe recipe listed above runs correctly and produces the expected plots (with or without `trackingLST`). No other difference is expected\r\n\r\nFYI @VourMa ", "branch": "master", "changed_files": 1, "comments": 22, "commits": 1, "created_at": "1746634980", "deletions": 0, "labels": ["dqm-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved", "tracking"], "milestone": "CMSSW_15_1_X", "number": 48031, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix HLT MTV to work with singleIterPatatrack and LST procModifiers", "updated_at": "1746705239", "user": "Parsifal-2045"}