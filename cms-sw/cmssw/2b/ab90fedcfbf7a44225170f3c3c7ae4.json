{"additions": 459, "auther_ref": "sipixel_cpe_refactorings_10_05_2021", "auther_sha": "617be052537405910ddc65d410988c53f7a62fed", "author": "czangela", "body": "\r\n\r\n\r\n\r\n\r\n\r\n#### PR description:\r\n\r\nThis PR aims to reduce some code duplication in the classes `PixelCPEFast` and `PixelCPEGeneric` (under `RecoLocalTracker/SiPixelRecHits/`).\r\n\r\nMain changes are:\r\n 1. factor `collect_edge_charges()`\r\n 2. make `ClusterParamGeneric` common (`PixelCPEFast` is planned to have irradiation bias corrections, but I might have misunderstood this)\r\n 3. factor `createClusterParam()`\r\n 4. make the \"fallback\" rechit errors configurable (`const std::vector<float> xerr_barrel_l1_, yerr_barrel_l1_, xerr_barrel_ln_`, etc.)\r\n 5. factor common code between `{PixelCPEGeneric|PixelCPEFast}::localError()`\r\n\r\nThis should solve the issues listed in #32483 related to \"factor common code between `PixelCPEGeneric` and `PixelCPEFast`\".\r\n\r\nIt introduces a new base class for the two, named `PixelCPEGenericBase`, this is where most of the common code went.\r\n\r\n<img src=\"https://user-images.githubusercontent.com/33939088/117970918-8cab4e00-b329-11eb-9226-8c971bfa3a7d.png\" width=\"600\">\r\n\r\n#### PR validation:\r\n\r\ncompilation, runtests, unittests, addOnTests.py --tests=hlt_data_GRun\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\n<!-- Please replace this text with any link to  -->\r\n\r\nkindly ping @mmusich @tsusa ", "branch": "master", "changed_files": 8, "closed_at": "1621508206", "comments": 22, "commits": 17, "created_at": "1620814476", "deletions": 525, "labels": ["allow-czangela", "code-checks-approved", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "5c85b2647b066d828886735bf0fc5216cf0f0958", "merged_at": "1621508206", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 33706, "release-notes": [], "review_comments": 11, "state": "closed", "title": "Pixel local reco: reduce code duplication between PixelCPEGeneric and PixelCPEFast", "updated_at": "1621508206", "user": "czangela"}