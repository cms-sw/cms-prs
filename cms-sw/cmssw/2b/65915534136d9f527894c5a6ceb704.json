{"additions": 12, "auther_ref": "addMoveHepMCProduct", "auther_sha": "cd2653292bfe1844be2a489774920ad958b6cde1", "author": "makortel", "body": "While debugging a strange segfault with valgrind I noticed `emd::HepMCProduct` needs an explicit move constructor and assignment operator (after #22069) as the compiler-generated ones may leave the pointer member (`evt_`) valid for the moved-from object leading to double-delete (as both objects think owning it). This PR adds the move operators and makes sure each `evt_` is deleted exactly once when moving objects.\r\n\r\nTested in CMSSW_10_2_X_2018-04-12-2300, in principle expecting no changes but cannot fully exclude them.\r\n\r\n@Dr15Jones ", "branch": "master", "changed_files": 2, "comments": 10, "commits": 1, "created_at": "1524028434", "deletions": 0, "labels": ["code-checks-approved", "comparison-pending", "generators-pending", "orp-pending", "pending-signatures", "tests-started"], "milestone": "CMSSW_10_2_X", "number": 22989, "release-notes": [], "review_comments": 0, "state": "open", "title": "Add move constructor and assignment operator to edm::HepMCProduct", "updated_at": "1524045200", "user": "makortel"}