{"additions": 49, "auther_ref": "removeGetManyByTypeDQM", "auther_sha": "3c14e2c13e160125b1f24489b6712540390614fc", "author": "wddgit", "body": "#### PR description:\r\n\r\nRemove calls to getManyByType in DQM modules.\r\n\r\nThe primary motivation for this change is to delete uses of getManyByType so that we can delete the function getManyByType from the Framework without breaking compilation.\r\n\r\nThe Framework has been throwing an exception when getManyByType is called without a call to consumesMany since 2015. We've just finished a large migration where all code calling both consumesMany and getManyByType was replaced by GetterOfProducts or was removed in some other way. The function consumesMany has been deleted entirely from the Framework. The only uses of getManyByType that are left are the ones where consumeMany was not called. All these have been broken since 2015. The Framework will throw an exception if these calls to getManyByType are executed. This change either deletes the code entirely or moves the exception throw from the Framework directly to the module at the location of the getManyByType call.\r\n\r\nI deleted EgHLTDebugFuncs.h entirely. There does not appear to be anything of value there.\r\n\r\nFor the others I commented out the call to getManyByType and threw an immediate exception instead.\r\n\r\nThere are two alternatives I can think of:\r\n\r\nThese modules have been broken since 2015. I could delete the modules completely instead. I would be happy to do that. There was enough content there that it was hard for me to make that judgement by myself, although deleting is probably the better choice.\r\n\r\nIf we really need these modules, we could upgrade them to use GetterOfProducts. This seems unlikely, because they have been broken for so many years already (I don't want to create new tests, but if provided an otherwise working test I'll run it after upgrading).\r\n\r\nIf you want me to implement one of the alternatives, ask and I will do that instead.\r\n\r\n#### PR validation:\r\n\r\nNothing uses this code and it is already broken. There is nothing to test.\r\n", "branch": "master", "changed_files": 6, "comments": 4, "commits": 1, "created_at": "1689361098", "deletions": 53, "labels": ["dqm-pending", "pending-signatures", "tests-rejected", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_13_2_X", "number": 42271, "release-notes": [], "review_comments": 0, "state": "open", "title": "Remove calls to getManyByType in DQM modules", "updated_at": "1689362973", "user": "wddgit"}