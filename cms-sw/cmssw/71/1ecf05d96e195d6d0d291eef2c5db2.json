{"additions": 839, "auther_ref": "HGCALRegDevBranch_1130pre3", "auther_sha": "c8f2356afb1150c716d86e66d8508518cca255be", "author": "Sam-Harper", "body": "#### PR description:\r\n\r\nFirst this PR is a collaboration with @SohamBhattacharya  and @swagata87 \r\n\r\nThis PR extends the supercluster energy correction to support the HGCAL. The supercluster correction class was modernised during this process. Additionally the new HGCalShowerHelper class had to be restructured to give it better const behaviour (ie its methods are now all const).\r\n\r\nThe HGCalShowerHelper class had an internal cache. This cache has now been separated out to its own object, which now corresponds to a specific object and selection cuts.  Finally it was deemed that the rVal makes no sense if divided by another energy than the raw energy so the accessor was changed to force this and avoid accidents. \r\n\r\nThe primary purpose was to enable this energy correction for the phase II HLT. It has been tested on 100K dielectron events and the performance is as expected for both reco and HLT (modulo a minor bug in reco which has now been fixed)\r\n\r\nNo changes are expected to non-phase-II workflows beyond the HLT superclusters now getting a resolution estimate (which they dont use) and the only change in phase-II workflows are HGCAL superclusters are now corrected. \r\n\r\n\r\n#### PR validation:\r\n\r\nsuper cluster energy of 500 RelValZEE Run3 events \r\n![image](https://user-images.githubusercontent.com/5021403/107793601-c4b8ea00-6d56-11eb-93e9-8341eca965a5.png)\r\n![image](https://user-images.githubusercontent.com/5021403/107793692-def2c800-6d56-11eb-94fc-f4ace97a07d3.png)\r\n![image](https://user-images.githubusercontent.com/5021403/107802738-07cc8a80-6d62-11eb-8998-01a1ca234fe3.png)\r\n![image](https://user-images.githubusercontent.com/5021403/107802806-19ae2d80-6d62-11eb-96e4-2aa957052aab.png)\r\n\r\n\r\nThere was a minor bug in the offline HGCAL regression so that is being redone but the HLT HGCAL regression is below\r\n![image](https://user-images.githubusercontent.com/5021403/107803808-65ada200-6d63-11eb-8a4d-6beff45eee9d.png)\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\n\r\n", "branch": "master", "changed_files": 13, "closed_at": "1614128946", "comments": 42, "commits": 6, "created_at": "1613148808", "deletions": 513, "labels": ["alca-approved", "code-checks-approved", "core-approved", "fully-signed", "hlt-approved", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "c861bc0bb6a2aa1c9298e304c905809f6b0d12b5", "merged_at": "1614128946", "merged_by": "cmsbuild", "milestone": "CMSSW_11_3_X", "number": 32901, "release-notes": [], "review_comments": 49, "state": "closed", "title": "Adding HGCAL SuperCluster Regressions", "updated_at": "1614128946", "user": "Sam-Harper"}