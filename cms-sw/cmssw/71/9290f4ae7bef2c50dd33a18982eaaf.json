{"additions": 1009, "auther_ref": "CMSSW_14_0_X_httNanoAddons_rebase", "auther_sha": "f0ab643993f8535387a5190e882bc8f1c89b6197", "author": "mbluj", "body": "#### PR description:\r\n\r\nThis PR adds a customization to add lepton time-life related information to NanoAOD. The information contains:\r\n* (refitted) secondary vertex for 3-prong taus (with covariance matrix),\r\n* impact parameter vector (with significance) of the electron, muon and tau tracks wrt PV fitted with beam-spot constraint,\r\n* parameters of electron, muon and tau tracks (with covariance matrix),\r\n* primary vertex with beam-spot constraint (position and covariance matrix).\r\n\r\nAll those variables are used in the measurement of CP structure of the Higgs-tau Yukawa coupling and related analyses, e.g. measurement of polarization of Z in decays to taus.\r\n\r\nIn addition, this PR introduces producer of NanoAOD branches from ValueMap of elaborated types in order to enable table extensions using elaborated types other than numeric types (int, float, ...). The new producer is used to store lepton time-life related information in NanoAOD.\r\n\r\nThis PR backports #43525 and #43916 to 14_0_X.\r\n\r\n#### PR validation:\r\n\r\nValidated in original PRs.\r\nIn addition customized NanoAOD workflow (with the following cmsDriver command) run successfully:\r\n```\r\ncmsDriver.py --python_filename NanoAOD_lifeTimeCustom_cfg.py --eventcontent NANOAODSIM --customise_commands=\"process.add_(cms.Service('InitRootHandlers',EnableIMT = cms.untracked.bool(False)));process.MessageLogger.cerr.FwkReport.reportEvery=1000\" --datatier NANOAODSIM --fileout file:NanoAOD_lifeTimeCustom.root --conditions auto:phase1_2018_realistic --step NANO:@LepTimeLife,DQM:@nanoAODDQM--filein file:some_ttbar2018file.root --era Run2_2018,run2_nanoAOD_106Xv2 --no_exec --mc -n -1\r\n```\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nBackport of #43525 and #43916 to 14_0_X which is production release series for 2024.\r\n", "branch": "CMSSW_14_0_X", "changed_files": 12, "closed_at": "1709216935", "comments": 10, "commits": 14, "created_at": "1708514057", "deletions": 23, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-approved", "xpog-approved", "tracking"], "merge_commit_sha": "4177026053eaac34b7b08bc7c05c7dd1aeb4fab0", "merged_at": "1709216935", "merged_by": "cmsbuild", "milestone": "CMSSW_14_0_X", "number": 44040, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Lepton time-life info for NanoAOD and Nano branches from ValueMap of elaborated types (14_0_X)", "updated_at": "1709216936", "user": "mbluj"}