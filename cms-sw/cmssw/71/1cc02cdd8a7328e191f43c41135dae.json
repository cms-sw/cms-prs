{"additions": 245, "auther_ref": "dev-dataCatalog-1-forPR", "auther_sha": "9072f1d0b913a01ad992d051f70ed45233ada7c7", "author": "nhduongvn", "body": "#### PR description:\r\n\r\nThis request proposes code changes to use multiple data catalogs listed in site-local-config.xml. Previously, the site-local-config.xml contains two data catalogs, primary and fallback ones. These are parsed and used by CMSSW using dedicated methods and functions. \r\n\r\nThe idea is to add a pfns_ variable to FileCatalogItem class (FWCore/Catalog/interface/InputFileCatalog.h ), to store all the physical file names. Each of them corresponds to a data catalog. The collection of data catalogs is returned by SiteLocalConfigService. The FileCatalogItems for all input files (each item corresponds to an input file) are store in InputFileCatalog, which is the interface to access input file catalog. \r\n\r\nWhen an input file is read or opened by a source (PoolSource for example), a loop over its names formed from available catalogs is used until the file can be opened successfully by a valid catalog. Otherwise, exception is thrown. This mechanism replaces the use of primary and fallback catalogs in the past. Examples can be found in \"initTheFile\" (https://github.com/nhduongvn/cmssw/blob/dev-dataCatalog-1-forPR/IOPool/Input/src/RootInputFileSequence.cc)", "branch": "master", "changed_files": 31, "closed_at": "1589435734", "comments": 97, "commits": 19, "created_at": "1581352350", "deletions": 328, "labels": ["alca-approved", "code-checks-approved", "comparison-available", "core-approved", "daq-approved", "dqm-approved", "fully-signed", "generators-approved", "l1-approved", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "e3629d826371817b2d717f1a768a19eee4b7bd0b", "merged_at": "1589435734", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 28911, "release-notes": [], "review_comments": 64, "state": "closed", "title": "New developments using multiple data catalogs provided in site-local-config.xml", "updated_at": "1589435735", "user": "nhduongvn"}