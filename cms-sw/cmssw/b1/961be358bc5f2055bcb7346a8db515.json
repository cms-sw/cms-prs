{"additions": 354, "auther_ref": "SUEPpythia_dev", "auther_sha": "9cfff195e528b252344026f2896afabcbec2d343", "author": "cericeci", "body": "#### PR description:\r\n\r\nThis PR includes two main changes:\r\n\r\n- A mechanism to add UserHooks to [Pythia8Hadronizer](https://github.com/cericeci/cmssw/blob/64c2e3bd86870980489be736d4600a6d36ed8206/GeneratorInterface/Pythia8Interface/plugins/Pythia8Hadronizer.cc) through the usage of a PluginFactory (thanks to @kpedro88  for the idea and pointers on how to), so the source code of the main pythia plugin does not need to be modified when adding user modifications. This idea can be used in the future to migrate the current implementation of several UserHooks that are currently hard-coded.\r\n\r\n- A module dedicated to soft unclustered energy pattern (SUEP or soft-bombs)-like decays, following the description of [1612.00850](https://arxiv.org/abs/1612.00850). It can be used to decay an SM particle through a soft-bomb shower. \r\n  - The suep shower code ([header](https://github.com/cericeci/cmssw/blob/SUEPpythia_dev/GeneratorInterface/Pythia8Interface/interface/suep_shower.h) and [source](https://github.com/cericeci/cmssw/blob/SUEPpythia_dev/GeneratorInterface/Pythia8Interface/src/suep_shower.cc)) is taken directly from [Simon Knapen's implementation](https://gitlab.com/simonknapen/suep_generator). As a consequence it does not follow cms' code standards. Should it be adapted as well?\r\n  - The module uses the previously discussed PluginFactory to be included inside the Pythia8Hadronizer and can be used for decays of ME obtained from either pythia or a LHE producer such as madgraph. An example of its usage can be found [here](https://github.com/cericeci/cmssw/blob/SUEPpythia_devtests/GeneratorInterface/Pythia8Interface/test/suep_decay.py). It's usage is based on the inclusion of the following lines inside the process.generator inside the fragment:\r\n```\r\n        UserCustomization = cms.VPSet(\r\n           cms.PSet(\r\n             pluginName = cms.string(\"SuepDecay\"),\r\n             idDark = cms.int32(999999), # pdgId of the dark meson\r\n             idMediator = cms.int32(25), # pdgId of the mediator\r\n             temperature = cms.double(2) # Temperature of the thermal distribution\r\n           )\r\n``` \r\n\r\n#### PR validation:\r\n\r\nCode-checks passed, unit tests passed. \r\nTests using a [local config file](https://github.com/cericeci/cmssw/blob/SUEPpythia_devtests/GeneratorInterface/Pythia8Interface/test/suep_decay.py) show that the SUEP module properly decays the Higgs boson.\r\n\r\n#### Backporting:\r\n\r\nOnce this is merged we aim for a backport to 10_6_X for UL MC production.", "branch": "master", "changed_files": 8, "comments": 14, "commits": 11, "created_at": "1637773276", "deletions": 3, "labels": ["generators-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved"], "milestone": "CMSSW_12_2_X", "number": 36238, "release-notes": [], "review_comments": 0, "state": "open", "title": "Factory for adding UserHooks to PythiaHadronizer and SUEP decay pythia Hook", "updated_at": "1638303098", "user": "cericeci"}