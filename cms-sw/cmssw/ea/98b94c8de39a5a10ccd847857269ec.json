{"additions": 53, "auther_ref": "layer-processing-v2", "auther_sha": "1303a9a1928a5dd0a4c70bf49738baef25374aa9", "author": "trackreco", "body": "Contains the following changes:\r\n1. Add half_length member to `ModuleInfo`, fill it in `MkFitGeometryESProducer.cc`\r\n2. Extend `HitInfo` with half-strip-length, add qbar (the other of r/z variables). Store fast-access arrays as `std::vector<HitInfo>`.\r\n\r\nInitially, the idea was that strip half-length from ModuleInfo would be filled into the fast-access structure HitInfo. Then I realized that for strips the same thing can be obtained as `sqrt(12 * (exx + eyy)/2` (for endcaps) and `sqrt(12 * ezz)/2 (for barrel). This is now used while filling up the hits.\r\n\r\nI still need to think which is better and what this means for pixel detectors (and, if the calculation of clusters \"long\" direction should be different there).\r\n\r\nNext step is to use this information in MkFinder::selectHitIndicies() to pre-select hits with compatible q coordinate -- along with zeroth or first order of track position propagation to actual qbar coordinate (r for barrel, z for endcap) of the hit.", "branch": "master", "changed_files": 4, "comments": 0, "commits": 2, "created_at": "1686947460", "deletions": 29, "labels": [], "number": 41994, "release-notes": [], "review_comments": 0, "state": "open", "title": "Layer processing v2 -- preview", "updated_at": "1686947460", "user": "osschar"}