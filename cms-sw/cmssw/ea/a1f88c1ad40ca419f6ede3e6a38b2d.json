{"additions": 84, "auther_ref": "CompareHistoMP", "auther_sha": "fb520703be3526eaf1ae40e65ce99465bd66c784", "author": "rovere", "body": "#### PR description:\r\nComparing full-blown DQM files is painfully slow. This PR adds the\r\npossibility to run the comparisons over the histograms in parallel via a\r\nconfigurable parameter: `-j`, or the longer version `--num-processes`.\r\nThe default behaviour is unchanged: using one process will run the\r\ncurrent implementation. Selecting more than one process will trigger\r\nmultiprocessing.\r\nThe final sorting on the output lists is mandatory to keep a sane\r\nordering within the saved ROOT files. It is useless for the DQMGUI,\r\nwhich does that already internally, but it's mandatory in the\r\nexploration of the base ROOT files. Usually, the price to pay should be\r\nnegligible compared to the speed-up gain thanks to parallelism.\r\n\r\n#### PR validation:\r\n\r\nRunning with a single process or with several processes (tested up to 48) gives identical comparisons.\r\n", "branch": "master", "changed_files": 1, "comments": 16, "commits": 1, "created_at": "1634626859", "deletions": 16, "labels": ["dqm-approved", "fully-signed", "tests-approved", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_12_1_X", "number": 35728, "release-notes": [], "review_comments": 0, "state": "open", "title": "Add multiprocess support into compareHistograms", "updated_at": "1634658820", "user": "rovere"}