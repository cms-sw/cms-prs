{"additions": 78, "auther_ref": "HGCal_LocalTime_CMSSW_12_6_0_pre1", "auther_sha": "abd2d3d5e7b8237cf9ace0c2d28835ac273f10b7", "author": "stahlleiton", "body": "#### PR description:\r\n\r\nThis PR changes the definition of the time of arrival to represent the local time at which the signal is detected in the HGCAL hit (instead of been back-propagated to 0,0,0). To ensure the time distribution is sampled within 25 ns window, a delay on the local time is added depending on the sub-detector equal to: EE=-9 ns, HEfront=-11 ns, HEback=-14 ns and HFNose=-33 ns.\r\n\r\nThese time delays are checked in the following plot:\r\n![image](https://user-images.githubusercontent.com/14130873/191040568-34441a44-aba4-4fa3-92ea-b0b950f3bec1.png)\r\n\r\nThis is part of the set of updates already announced in the HGCAL DPG meeting (see https://indico.cern.ch/event/1158758/contributions/4880969/attachments/2451390/4201020/Timining%2020220525%20v2-2.pdf).\r\n\r\n#### PR validation:\r\n\r\nPR was validated using the following cmsDriver command:\r\ncmsDriver.py TTbar_14TeV_TuneCP5_cfi  --conditions auto:phase2_realistic_T21 -n 10 --era Phase2C18I13M9 --eventcontent FEVTDEBUG -s GEN,SIM,DIGI --datatier GEN-SIM-DIGI  --beamspot HLLHC14TeV --geometry Extended2026D94 --fileout file:step12_HF.root --customise SLHCUpgradeSimulations/Configuration/aging.customise_aging_3000\r\n\r\nHGCAL-related changes were mainly observed on the ToA distribution as expected (bias towards lower ToA due to time delay) while changes in the ADC are due to different number of calls of the random number generator, which causes some smearing visible at lower ADC values.\r\n\r\nPlots of local time test:\r\n\r\n![image](https://user-images.githubusercontent.com/14130873/191042305-5562281b-95e6-4cde-8e56-60ad207236da.png)\r\n\r\n", "branch": "master", "changed_files": 13, "comments": 12, "commits": 1, "created_at": "1663590590", "deletions": 51, "labels": ["reconstruction-pending", "simulation-pending", "dqm-pending", "l1-pending", "hlt-pending", "core-pending", "analysis-pending", "alca-pending", "daq-pending", "db-pending", "generators-pending", "geometry-pending", "operations-pending", "pending-signatures", "tests-pending", "orp-pending", "pdmv-pending", "upgrade-pending", "code-checks-approved", "heterogeneous-pending", "hgcal-dpg-pending"], "milestone": "CMSSW_12_6_X", "number": 39447, "release-notes": [], "review_comments": 0, "state": "open", "title": "HGCAL: Change ToA to local time", "updated_at": "1664680073", "user": "stahlleiton"}