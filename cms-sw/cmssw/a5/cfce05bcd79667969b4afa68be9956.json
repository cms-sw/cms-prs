{"additions": 125, "auther_ref": "SiPixelQuality_for_CMSSW_10_2_X_patch2", "auther_sha": "3b2c4970da5be6c7695d61df2d48f04bbc6b2f9e", "author": "tocheng", "body": "Hello,\r\n\r\n  this PR is to fix the way to check whether the ROCs (in the same channel) are effected by stuckTBM in a given lumi section.\r\n\r\n  The previous way is to tag the channel effected by stuckTBM so long **as at least one event** in the lumi section produces FEDerror25. But this way **overestimates** the stuckTBM channels because it ignores the cases where channels are effected by stuckTBM on the halfway of the lumi section, or the \"flickers\" where soft recoveries are triggered during the lumi section and manage/fail to rescue the channels in the rest events.\r\n  The overestimation of the stuckTBM channels will lead to **underestimation** of the bad components used for **prompt reconstruction** (stuckTBM channels are expected to be tagged by FEDerror25 per-event, hence they are not included in the bad components for prompt reco)\r\n\r\n   So now we turn to tag \"stuckTBM\" to channels producing FEDerror25 for **ALL events** in the lumi section (passing ALCARECO trigger bit). Although the bad components for the prompt reco may have overlaps with the channels producing FEDerror25 (per-event), we will not miss any bad components for track reconstruction :\r\nhttps://github.com/cms-sw/cmssw/blob/master/RecoTracker/MeasurementDet/plugins/TkPixelMeasurementDet.cc#L153\r\n\r\nThe comparison between option2 and option1 can be found at\r\nhttps://indico.cern.ch/event/688845/contributions/3022626/attachments/1658161/2655466/PixelQualityPCL_StuckTBM_Opt2_May29.pdf\r\nI am not sure it is self-explained enough. Please let me know if anything is not clear.", "branch": "master", "changed_files": 8, "comments": 18, "commits": 3, "created_at": "1526904597", "deletions": 32, "labels": ["alca-approved", "code-checks-approved", "comparison-available", "operations-pending", "orp-pending", "pdmv-pending", "pending-signatures", "tests-approved", "upgrade-pending"], "milestone": "CMSSW_10_2_X", "number": 23267, "release-notes": [], "review_comments": 0, "state": "open", "title": "SiPixelQuality : fix tagging of the stuckTBM channels", "updated_at": "1527776426", "user": "tocheng"}