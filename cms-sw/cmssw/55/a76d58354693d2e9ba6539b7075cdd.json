{"additions": 42, "auther_ref": "ph2_movingQuadSeeding", "auther_sha": "79dbc0510308c91daa29698a8ce81be1a4850ba8", "author": "ebrondol", "body": "Before this PR, the Phase 2 quadruplets was using the merging triplets approach, now we move in line with Phase 1 where the quadruplets are created propagating the triplets. This new algorithm has been already extensively discussed in #14327.\r\nPerformance without PU on 1000 events ttbar, D4 geometry:\r\n- About the eff/fakes performance, the results have been produced [here](https://ebrondol.web.cern.ch/ebrondol/Phase2Tracking/ph2_movingQuadSeeding/TTbar_1000ev_ph2_movingQuadSeeding/). We recover something at low pT without getting more fakes. In particular I think because the efficiency of the seeding itself with the new algorithm is increasing both eff and fake, but then in the track reconstruction itself, the fakes are rejected pretty good. I suppose it can be consider a pretty good result.\r\n![pr16858](https://cloud.githubusercontent.com/assets/5331004/20923181/a007a630-bbab-11e6-8581-a740174a00d5.png)\r\n\r\n- About timing and memory, the baseline results have been produced [here](https://ebrondol.web.cern.ch/ebrondol/cgi-bin/igprof-navigator/90X-2016-11-30-1100/TTbar_14TeV_step3_tkOnly_1000ev_baseline_CMSSW_9_0_X_2016-11-30-2300/24) while including the PR can be found [here](https://ebrondol.web.cern.ch/ebrondol/cgi-bin/igprof-navigator/90X-2016-11-30-1100/TTbar_14TeV_step3_tkOnly_1000ev_ph2_movingQuadSeeding_CMSSW_9_0_X_2016-11-30-2300/24). Thankfully, we can see that the PixelQuadrupletMergerEDProducer::produce(edm::Event&, edm::EventSetup const&) goes down quite a bit in positions. So everything seem to work pretty as expected. I am not sure that the absolute comparison is correct - maybe I messed up with some machines - but if we take the MuonId as reference, in the ph2_movingQuadSeeding version should be ~17 counts where instead is ~3.\r\n\r\nFor higher PU, this is the report from @VinInn:\r\nfull job, ttbar 200PU,  tracking only incl validation&dqm  (step3)\r\nvinavx2 (3.5GHz, 4thread)\r\n91x out-of-the-box      TimeReport       event loop CPU/event = 406.026545\r\n+git cms-merge-topic ebrondol:ph2_movingQuadSeeding   TimeReport       event loop CPU/event = 291.797381\r\nand is even more efficient at low-pt\r\nhttp://innocent.home.cern.ch/innocent/RelVal/tkRecoD4_newQuad/plots_highPurity/effandfake1.pdf\r\n\r\nThis PR is considered from the TRK POG a prority not only for the much better performance, but also because of further developments expected for Phase 1 by @makortel . Best in the next pre-release.\r\n\r\nInforming @boudoul @atricomi @delaere ", "branch": "CMSSW_9_0_X", "changed_files": 3, "closed_at": "1481289246", "comments": 13, "commits": 4, "created_at": "1480932359", "deletions": 12, "labels": ["comparison-available", "orp-pending", "pending-signatures", "reconstruction-rejected", "tests-approved"], "merge_commit_sha": "79dbc0510308c91daa29698a8ce81be1a4850ba8", "merged_at": "1481289246", "merged_by": "cmsbuild", "milestone": "CMSSW_9_0_X", "number": 16858, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Phase 2 seeding quadruplets: from merging triplets to propagation", "updated_at": "1481289246", "user": "ebrondol"}