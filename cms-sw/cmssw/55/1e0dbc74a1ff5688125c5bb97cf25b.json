{"additions": 364, "auther_ref": "ak_new_lhcInfo_reco_squashed2", "auther_sha": "bb215fd85be7746ec3449516b4c0565aaf1f624f", "author": "CTPPS", "body": "\r\nFollowing LHCInfo update introducing 2 new records `LHCInfoPerFill` and `LHCInfoPerLS` (https://github.com/cms-sw/cmssw/pull/39495) and their O2Os (https://github.com/cms-sw/cmssw/pull/40817) this PR introduces:\r\n* helper `LHCInfoCombined` class that is meant to be used where old `LHCInfo` was used \r\n* every change needed to run `recoCTPPS` with only `LHCInfoPer*`\r\n\r\nLHCInfoCombined can be created using either `LHCInfoPer*` or `LHCInfo` and is not meant to be serialised. It selects the source depending on the constructor parameter `useNewLHCInfo` that can be set based on era (since Run3 GTs won't contain `LHCInfo` records and Run2 GTs contain only those) in the python _cff file, eg.:\r\n\r\nhttps://github.com/CTPPS/cmssw/blob/bb215fd85be7746ec3449516b4c0565aaf1f624f/CalibPPS/ESProducers/python/ctppsOpticalFunctions_cff.py#L32-L33\r\n\r\nIn order to make `recoCTPPS` able to use `LHCInfoPer*` or `LHCInfo` following modules were updated:\r\n* CTPPSProtonProducer\r\n* CTPPSInterpolatedOpticalFunctionsESSource\r\n\r\nFrom PPS side this is the version of code meant to be used in re-reco of 2022 data.", "branch": "master", "changed_files": 18, "comments": 2, "commits": 1, "created_at": "1691526143", "deletions": 31, "labels": ["reconstruction-pending", "alca-pending", "db-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_13_3_X", "number": 42515, "release-notes": [], "review_comments": 0, "state": "open", "title": "CTPPS reco update to use LHCInfoPer* records", "updated_at": "1691526838", "user": "Glitchmin"}