{"additions": 5, "auther_ref": "digi_morphing_fix", "auther_sha": "b1089219254c0d73f058a7b9dddea43729219626", "author": "CMSTrackerDPG", "body": "#### PR description:\r\nThis PR adresses an issue reported here: https://github.com/cms-sw/cmssw/issues/49112\r\nIn the [`morph`](https://github.com/cms-sw/cmssw/blob/baf71ca92cc5ec69a5a14c7c8a57a2cadf9eaf79/RecoLocalTracker/SiPixelDigiReProducers/plugins/SiPixelDigiMorphing.cc#L210) method, expressions `valid = (valid << 1) | (*i[ii] != 0);`  could dereference pointers that point past the end of the input map when processing the final rows of a ROC, where no padding is present.\r\n\r\nThis fix adds kernel-sized zero padding to prevent this.\r\n\r\nPotentially introduces small changes in offline digi-morphing wfs, although the out-of-bound accessed memory is not used anywhere.\r\n\r\n#### PR validation:\r\n\r\nPasses one of the wfs (143.901) that have been reported as failing in CMSSW_16_0_ASAN_X_2025-10-08-2300\r\n\r\n`runTheMatrix.py -l limited -i all --ibeos` finishes with:\r\n33 16 13 11 4 0 0 0 0 0 0 tests passed, 18 16 2 0 0 0 0 0 0 0 0 failed\r\n\r\nThe failed wfs have xrootd-related errors such as: \r\n```\r\nFailed to open the file 'root://xrootd-cms.infn.it//store/relval/CMSSW_10_6_0/RelValTTbar_13/GEN-SIM/106X_upgrade2018_realistic_v4-v1/10000/7B21CBB4-7B2D-5744-8A00-A9C271AB5089.root'\r\n```\r\n\r\nTo be backported to 15.1.X\r\n", "branch": "master", "changed_files": 1, "comments": 8, "commits": 1, "created_at": "1760006622", "deletions": 2, "labels": ["reconstruction-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-approved", "trk"], "milestone": "CMSSW_16_0_X", "number": 49115, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix digi morphing (offline) out-of-bounds access", "updated_at": "1760068872", "user": "mroguljic"}