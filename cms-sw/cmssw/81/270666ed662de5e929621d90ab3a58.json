{"additions": 101, "auther_ref": "fc-mtd-topomode", "auther_sha": "289ec0bb1cc6d0c608074da33ae9849de4168b38", "author": "fabiocos", "body": "#### PR description:\r\n\r\nAs a follow up of #29207 and #29231 this PR adds a number of updates needed for te integration of the new ETL geometry:\r\n\r\n- a new topology mode 5 ```btlv1etlv5``` that corresponds to the latest BTL and the TDR ETL scenario D53. As this potentially breaks the one-to-one correspondence with the ```CrysLayout``` enum of ```BTLDetId```, a ```MTDTopologyMode``` function is provided to give the ```CrysLayout``` corresponding to a given topology mode, and the code using this correspondence is updated so as to keep the previous results unchanged;\r\n\r\n- the SpecParSection names are set equal to the file names, as discussed in #29231 ;\r\n\r\n- The ```ETLDetId.geographicalId()``` method now gives back just ```ETLDetId``` as it should have already done (the type was 0 up to D50 anyway, and for D53 it is properly taken into account). The Digitization step for D53 now runs, with the ```BTLDeviceSim``` and ```ETLDeviceSim``` code adapted to the changes. We should check any other possible place where hardcoded 0 is assumed for ```ETLDetId.modType()``` and fix it in case (@casarsa @gsorrentino18 FYI).\r\n\r\nAs a side remark for @casarsa : likely the detId conversion in https://github.com/cms-sw/cmssw/blob/master/SimFastTiming/FastTimingCommon/src/ETLDeviceSim.cc#L42 is not needed, it should be reviewed.\r\n\r\n#### PR validation:\r\n\r\ntest wf 23234.0 runs untile the end, 24434.0 runs for step1 and step2, if fails step3 as ```RecoMTD/DetLayer``` needs still to be adapted. The validation tests for the various MTD geometry packages run and give unchanged results for D50, and show the new topology mode (but no other change) for D53.", "branch": "master", "changed_files": 23, "closed_at": "1585324884", "comments": 30, "commits": 7, "created_at": "1584954951", "deletions": 46, "labels": ["code-checks-approved", "comparison-available", "dqm-approved", "fully-signed", "geometry-approved", "orp-approved", "reconstruction-approved", "simulation-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "507fd6c27b42c466c8c8b44327ef39ba8381f205", "merged_at": "1585324884", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 29270, "release-notes": [], "review_comments": 0, "state": "closed", "title": "MTD geometry: add new topology mode, adapt code to it", "updated_at": "1585324884", "user": "fabiocos"}