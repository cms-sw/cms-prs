{"additions": 38, "auther_ref": "alca-vtxSmearingFromDB_14_0_X", "auther_sha": "f88656ddaadba38f40994e03503318e7e7247457", "author": "francescobrivio", "body": "#### PR description:\r\nFollowing the inclusion of the `SimBeamSpotObject` tags in all Run-1/2/3 MC GTs in #43197, this PR aims at modifying the corresponding MC workflows to actually consume it.\r\nThis has several advantages:\r\n - makes obsolete the need to build a new release each time a new vertex smearing scenario is introduced (more than twice per year), easing operations for both ORP and PPD\r\n - this should also ease operations for PdmV by removing the need of updating the `--beamspot` cmsdriver argument for each different campaign (MC production and relvals)\r\n\r\nFollowing the conservation law, of course the burden is now completely moved onto @cms-sw/alca-l2 and BeamSpot experts! \r\n\r\nTwo new VtxSmearingParameters configs are defined:\r\n - `IOMC.EventVertexGenerators.VtxSmearedDesign_cfi` which uses the GaussEvtVtxGenerator\r\n - `IOMC.EventVertexGenerators.VtxSmearedRealistic_cfi` which uses the BetafuncEvtVtxGenerator\r\n - both are reading the configurable parameters from the DB\r\n\r\nThe new configs are used in `Configuration/StandardSequences/python/VtxSmeared.py` by defining two new keys:\r\n - `DBdesign` for the MC productions in ideal conditions (GaussSmearing)\r\n - `DBrealistic` for the MC production in realistic conditions (BetafuncSmearing)\r\n\r\n#### PR validation:\r\nSuccessfully tested wf `12434.0` which shows as (updated) step1 driver:\r\n```\r\ncmsDriver.py TTbar_14TeV_TuneCP5_cfi  -s GEN,SIM -n 10 \\\r\n  --conditions auto:phase1_2023_realistic \\\r\n  --beamspot DBrealistic \\\r\n  --datatier GEN-SIM --eventcontent FEVTDEBUG \\\r\n  --geometry DB:Extended --era Run3_2023 --relval 9000,100 \r\n```\r\nGiven the `SimBeamSpot` tags introduced in the GTs mimic exactly the previously used parameters, we don't expect any difference in the test comparisons. \r\n\r\n#### Backport:\r\nNot a backport, but a 13_3_X backport will be provided.\r\n", "branch": "master", "changed_files": 4, "comments": 5, "commits": 1, "created_at": "1699553919", "deletions": 14, "labels": ["simulation-pending", "operations-pending", "pending-signatures", "orp-pending", "pdmv-pending", "tests-started", "upgrade-pending", "requires-external", "code-checks-approved"], "milestone": "CMSSW_14_0_X", "number": 43242, "release-notes": [], "review_comments": 0, "state": "open", "title": "Read VertexSmearing from GT in Run-1/2/3 MC", "updated_at": "1699554519", "user": "francescobrivio"}