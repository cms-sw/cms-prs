{"additions": 46, "auther_ref": "hcalTPlutZS_161X", "auther_sha": "aef8b46bbfd5eae0c08e9011f1e4eaada934aaa3", "author": "JHiltbrand", "body": "#### PR description:\r\n\r\nThis PR adds functionality to perform zero suppression during trigger primitive formation for the HCAL barrel and endcap. The ZS threshold is configured as some amount of pedestal widths (per-channel), where the widths are simply taken from the conditions database. The amount of widths to use is anticipated to be stored in the third byte of the `auxi1` parameter of the `HcalTPParameters` condition. The value extracted from this condition parameter is assumed to be fixed-point with a scale factor of 16 to allow for a final fractional value to be used as the number of widths. E.g. a third byte value of 21 results in a number of widths of 1.3125.\r\n\r\nHistorically, the third byte (and all) of `auxi1` of `HcalTPParameters` has been unused and set to 0 (only recently as of PR #49012 has the first and second bytes been used). Thus, with the default value of 0 for the third byte, the aforementioned functionality is not activated and no changes are expected in TPs or LUT XMLs. Once the third byte of the `HcalTPParameter` `auxi1` parameter is filled, the new functionality is activated. Python configuration overrides are also made available, but they are also off by default.\r\n\r\n#### PR validation:\r\n\r\nRan the local LUT XML production workflow and manipulated the third byte of `auxi1` of `HcalTPParameters` to yield changes in the LUT consistent with the effect of zero suppression.\r\n\r\n[A talk was given to L1T DPG](https://indico.cern.ch/event/1617342/contributions/6815105/attachments/3184130/5664882/HCAL_TP_ZS_Nov2025.pdf) over-viewing this development with example  impact on TPs for a number of pedestal widths of 3\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nNot a backport itself, but should be backported to 16_0_X\r\n\r\nATTN: @akhukhun ", "branch": "master", "changed_files": 4, "comments": 7, "commits": 1, "created_at": "1767694154", "deletions": 9, "labels": ["l1-pending", "alca-pending", "pending-signatures", "tests-approved", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_16_1_X", "number": 49724, "release-notes": [], "review_comments": 0, "state": "open", "title": "Use Pedestal Width for ZS During HBHE TP Formation", "updated_at": "1767831748", "user": "JHiltbrand"}