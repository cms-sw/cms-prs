{"additions": 188, "auther_ref": "CMSSW_12_4_X_tau-pog_deepTau-v2p5-WPs-nano", "auther_sha": "1885608ea309d98be857b49680af079ccabfd93b", "author": "cms-tau-pog", "body": "#### PR description:\r\nThis PR adds working point definitions for a newly integrated DeepTau v2p5. \r\nA corresponding study with details about WP threshold derivation and tau efficiency/mis-ID rate plots for both Run2 UL and Run 3 samples can be found [here](https://indico.cern.ch/event/1173018/contributions/4926652/attachments/2466518/4237200/wp_eff_final.pdf).\r\n\r\n**This PR is a backport of #38726 to 12_4_X.**\r\n\r\nIn particular, the changes in this PR are (as in #38726):\r\n* For nanoAOD: add a dedicated set of variables `_deepTauVars2018v2p5` to `taus_cff.py`,\r\n* Unify WP masking interface to a single function `_tauIdWPMask()`;\r\n* Option to compute WP flags from raw scores (`from_raw` argument in `_tauIdWPMask()`) given the threshold values, instead of reading them directly from MINIAOD;\r\n* Change the format of storing WPs from bitmask to integer values for user-friendliness [see note in #38726]. \r\n\r\nDifferences wrt #38726:\r\n* WP thresholds values for DeepTau v2p5 are **not** used within runTauIdMVA.py and thus not added to miniAOD preserving its content (to fulfill no-changing policy for production releases);\r\n* deepTau v2p5 WP flags stored in nanoAOD are computed from raw scores.\r\n\r\n#### PR validation:\r\n\r\nOriginal PR successfully tested with the \"limited\" set of matrix tests and a custom nanoAOD production. Matrix tests of this PR ongoing - we do not expect failures and will update this description when tests are finished.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR.\r\n\r\nThis PR is a backport of #38726 to 12_4_X, introduces deepTauID v2p5 to nanoAOD v10.", "branch": "CMSSW_12_4_X", "changed_files": 8, "closed_at": "1659754032", "comments": 31, "commits": 20, "created_at": "1657883422", "deletions": 128, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-approved", "xpog-approved", "tau"], "merge_commit_sha": "f0d04e7c3ef6a0d25357c510b6503051814419ca", "merged_at": "1659754032", "merged_by": "cmsbuild", "milestone": "CMSSW_12_4_X", "number": 38751, "release-notes": [], "review_comments": 2, "state": "closed", "title": "DeepTau v2p5 in nanoAOD [12_4_X]", "updated_at": "1659754032", "user": "mbluj"}