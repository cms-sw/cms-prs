{"additions": 25, "auther_ref": "backport_40827", "auther_sha": "17ce59fd685c9f8f5a0aa7217ba348987e5102aa", "author": "fwyzard", "body": "#### PR description:\r\n\r\nBackport of #40827:\r\n\r\n> @fwyzard mentioned the `testHeterogeneousCoreCUDACore` unit test was segfaulting on a specific Power9 machine after the `ContextState` test section in a way that hinted towards a problem in how TBB was being used. The existing code indeed could destruct the `task_group` while it was still being used in an `task_arena::enqueue()`'d task. This PR fixes the synchronization problem in the test.\r\n\r\n#### PR validation:\r\n\r\nTested on `el8_ppc64le_gcc11` on top of `CMSSW_13_0_0_pre4` on a Power 9 node.", "branch": "CMSSW_13_0_X", "changed_files": 1, "comments": 11, "commits": 1, "created_at": "1677189349", "deletions": 14, "labels": ["fully-signed", "orp-pending", "tests-started", "bug-fix", "backport-ok", "heterogeneous-approved"], "milestone": "CMSSW_13_0_X", "number": 40864, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix synchronization in ContextState test [13.0.x]", "updated_at": "1677205694", "user": "fwyzard"}