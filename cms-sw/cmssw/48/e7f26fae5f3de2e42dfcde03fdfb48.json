{"additions": 34, "auther_ref": "111_CleanupRDWorkflowAndBugFixes", "auther_sha": "f201d77248ceedc43ae2a2137ce769ee4d59ca59", "author": "srimanob", "body": "#### PR description:\r\n\r\n1. Clean up steps for Run-Dependent workflows (250200.182,250202.182,250206.182) and make MultiRun harvesting possible for Run-Dependent MC,\r\n2. Bugfix on EventsPerLumi setting when both `process.source.numberEventsInLuminosityBlock` and `--numberEventsInLuminosityBlock` are used together,\r\n3. Workflow will be created properly when `runTheMatrix.py --command \"--relval 200000,100\"` is used. Before, this argument is ignored as `ns=map(int,arg...)` returns the first index of `--relval`,\r\n4. Change `map` to `list(map)` to support both python2 and python3.\r\n\r\n#### PR validation:\r\nWith following runTheMatrix(s), workflows return properly. \r\n\r\n`runTheMatrix.py --what premix -l 250200.182,250202.182,250206.182 -t 4 -b 'RD_Harvesting_6' --label 'RD_Harvesting_6' --wm init`\r\nhttps://dmytro.web.cern.ch/dmytro/cmsprodmon/workflows.php?campaign=CMSSW_11_1_0_pre5__RD_Harvesting_6-1586551410\r\n(try new code with 11_1_0_pre5)\r\n\r\n`runTheMatrix.py --what premix -l 250200.182,250202.182,250206.182 -t 4 --command \"--relval 200000,100\" --numberEventsInLuminosityBlock 100 -b 'RD_Harvesting_6HS' --label 'RD_Harvesting_6HS' --wm init`\r\nhttps://dmytro.web.cern.ch/dmytro/cmsprodmon/workflows.php?campaign=CMSSW_11_1_0_pre5__RD_Harvesting_6HS-1586551827 \r\n(try new code with 11_1_0_pre5)\r\n\r\nWith new harvesting, auto uploading of Run-Dependent MC DQMIO to DQM GUI is successful (at the end of RelVal job).\r\nhttps://tinyurl.com/vcjr6jc\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n-\r\n", "branch": "master", "changed_files": 3, "closed_at": "1586885730", "comments": 20, "commits": 1, "created_at": "1586546725", "deletions": 30, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "pdmv-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "3f3575c71045842e0e655ff5f518bc2a8bb286fe", "merged_at": "1586885730", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 29457, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Clean up Run-Dependent workflows, MultiRun harvesting for Run-Dependent MC, and update/bug fix for runTheMatrix", "updated_at": "1586890503", "user": "srimanob"}