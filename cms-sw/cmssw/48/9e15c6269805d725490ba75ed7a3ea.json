{"additions": 149, "auther_ref": "xml-compact-view-producer-from-db-with-label", "auther_sha": "009d6ebb16baa80092ccb65d4306a8cf8e8a8882", "author": "ianna", "body": "*  Add optional product label\r\n\r\nThis allows to pick up CTPPS geometry from DB with the following modifications to Geometry/VeryForwardGeometry/python/geometryRP_cfi.py:\r\n\r\n```\r\nimport FWCore.ParameterSet.Config as cms\r\n\r\nXMLIdealGeometryESSource_CTPPS = cms.ESProducer(\"XMLIdealGeometryESProducer\",\r\n                                                rootDDName = cms.string('cms:CMSE'),\r\n                                                label = cms.string(''),\r\n                                                compactViewTag = cms.untracked.string('XMLIdealGeometryESSource_CTPPS')\r\n                                                )\r\n\r\nctppsGeometryESModule = cms.ESProducer(\"CTPPSGeometryESModule\",\r\n    verbosity = cms.untracked.uint32(1),\r\n    compactViewTag = cms.string('XMLIdealGeometryESSource_CTPPS')\r\n)\r\n\r\n```\r\n\r\nNote, the following addition to a job configuration is needed to pick up the record from a local DB:\r\n\r\n```\r\n$ diff testTracks-fromDB.py testTracks.py \r\n42,48d41\r\n< process.GlobalTag.toGet = cms.VPSet(\r\n<     cms.PSet(record = cms.string('GeometryFileRcd'),\r\n<              tag = cms.string('XMLFILE_Geometry_TagXX_Extended2017_mc'),\r\n<              connect = cms.string(\"sqlite_file:myfile.db\"),\r\n< #             label = cms.string(\"Extended\")\r\n<              )\r\n<     )\r\n52d44\r\n<\r\n```", "branch": "master", "changed_files": 4, "comments": 1, "commits": 2, "created_at": "1517564922", "deletions": 113, "labels": ["code-checks-pending", "comparison-pending", "db-pending", "geometry-pending", "orp-pending", "pending-signatures", "tests-pending"], "milestone": "CMSSW_10_1_X", "number": 22087, "release-notes": [], "review_comments": 0, "state": "open", "title": "DD Compact View Producer from DB", "updated_at": "1517564942", "user": "ianna"}