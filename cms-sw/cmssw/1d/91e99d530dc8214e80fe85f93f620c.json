{"additions": 6, "auther_ref": "FixSimMT", "auther_sha": "32315b34dbcf6813cb8cfe77b4f397ec58714506", "author": "kpedro88", "body": "#### PR description:\r\n\r\nI observed data races when using a SimProducer in a multithreaded job.\r\n\r\nThe problem was that the vector of SimProducers was kept by OscarMTProducer as a member, outside the thread local context. It just kept trying to use the instance from thread 0 for all the threads.\r\n\r\n#### PR validation:\r\n\r\nPrivate testing with debug statements printing the thread counter and the SimProducer memory addresses, as well as tests on multiple threads and with helgrind.\r\n\r\nattn: @makortel @Dr15Jones", "branch": "master", "changed_files": 4, "closed_at": "1568311062", "comments": 19, "commits": 1, "created_at": "1568076040", "deletions": 6, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "simulation-approved", "tests-approved"], "merge_commit_sha": "d8bb56b68084336a44609280df7264fafb84cca6", "merged_at": "1568311062", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 27959, "release-notes": [], "review_comments": 0, "state": "closed", "title": "fix SimProducers for MT", "updated_at": "1568311062", "user": "kpedro88"}