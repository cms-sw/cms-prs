{"additions": 152, "auther_ref": "HcalDepthEnergyFraction_PackedCandidates_ValueMap", "auther_sha": "e574dd31eeb71b1ac860bbd47ced943d113cdb87", "author": "hatakeyamak", "body": "#### PR description:\r\n\r\nIncludes HCAL depth information for packed candidates in MINIAOD for high-level object use (e.g. PUPPI recomputation at the post ultra-legacy MINIAOD stage). The promising results are obtained [1,2], but needs more time to finalize it. It means it is important to have this information in packedCandidates, so that the PUPPI weights can be recomputed on-the-fly from MINIAOD.\r\n\r\n[0] https://github.com/cms-sw/cmssw/files/3056535/he_depth_reco.pdf\r\n[1] https://indico.cern.ch/event/799365/contributions/3333038/attachments/1805670/2946660/pre.pdf\r\n[2] https://indico.cern.ch/event/799365/contributions/3339621/attachments/1805694/2946705/JK_JetMET_03_19_2.pdf\r\n\r\nIf this ValueMap-based implementation as suggested by @slava77 and @peruzzim looks good, this may supersede:\r\n[3] https://github.com/cms-sw/cmssw/pull/26363\r\nNow. I also use vectors instead of arrays to store various depth information.\r\n\r\n@peruzzim @fgolf @zdemirag @ahinzmann @bendavid @mariadalfonso\r\n\r\n#### PR validation:\r\n\r\nMade sure that the this information gets added to MINIAOD as intended. The size increase in TTbar sample with PU (tested in 2000 events) in 2017 & 2018 scenarios is\r\n+ 0.0% as expected for 2017\r\n+ 2.9% for 2018\r\na little larger increase than what [3] gives for 2018 (2.7%) but very similar.\r\n\r\n#### if this PR is a backport please specify the original PR:\r\n\r\nThis is not a backport.", "branch": "master", "changed_files": 6, "closed_at": "1556296572", "comments": 56, "commits": 13, "created_at": "1555411438", "deletions": 5, "labels": ["analysis-approved", "code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "669d28905c69ac8e3bafd254c86784bc9c6a96b1", "merged_at": "1556296572", "merged_by": "cmsbuild", "milestone": "CMSSW_10_6_X", "number": 26465, "release-notes": [], "review_comments": 37, "state": "closed", "title": "Hcal depth energy fraction packed candidates value map", "updated_at": "1556350772", "user": "hatakeyamak"}