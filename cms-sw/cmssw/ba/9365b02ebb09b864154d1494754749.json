{"additions": 20, "auther_ref": "FixFELumi81X", "auther_sha": "37e9e7746b4062187dca7ee93d19d9fab0cff879", "author": "mbandrews", "body": "**Fix issue in offline DQM where FE Status Flag plots only display stats from last LS**\n- Harvesting step in offline DQM causes LS-based plots to only keep stats from the last LS due to multi-threading, which affects all FE Status Flag plots in offline DQM since the introduction of PR https://github.com/cms-sw/cmssw/pull/15411 (starting [CMSSW 8_0_18](https://github.com/cms-sw/cmssw/releases/CMSSW_8_0_18) or ~run 279498).\n- Revert changes introduced in that PR: set ecalRawDataClient.MEs.QualitySummary and ecalRawDataTask.MEs.FEStatus to be run-based again\n- To maintain functionality of GOOD channel reporting introduced in that PR, get RawData info instead from ecalRawDataTask.MEs.FEStatusErrMapByLumi (introduced later, in PR https://github.com/cms-sw/cmssw/pull/16112) which, by design, is already reset every LS, and is filled independently of the affected MEs above.\n\nIn conjunction with 80X PR https://github.com/cms-sw/cmssw/pull/16304.\n", "branch": "CMSSW_8_1_X", "changed_files": 4, "closed_at": "1477411948", "comments": 8, "commits": 1, "created_at": "1477052802", "deletions": 10, "labels": ["comparison-available", "dqm-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "6f1691a94f46bd9fd8a48095f2484bf7e8e2ac7f", "merged_at": "1477411947", "merged_by": "cmsbuild", "milestone": "Next CMSSW_8_1_X", "number": 16305, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Revert FEStatus to run based. Get LS reports from FEMap instead.", "updated_at": "1477412132", "user": "mbandrews"}