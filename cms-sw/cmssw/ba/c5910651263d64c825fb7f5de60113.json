{"additions": 971, "auther_ref": "restore-tf-mxnet-inference", "auther_sha": "d8951bbd2766485a7845a36b120d61156b144ed9", "author": "hqucms", "body": "#### PR description:\r\n\r\nThis PR is to address https://github.com/cms-sw/cmssw/issues/28959. The TF and MXNet-based inference for DeepJet, DeepDoubleX and DeepAK8 is recovered and intended to be used on architectures that ONNXRuntime does not support (e.g., PowerPC). The new ONNXRuntime-based inference introduced in https://github.com/cms-sw/cmssw/pull/28112 is still kept for x86 and ARM for better speed and lower memory cost. The switch between the two types of producers is implemented using `SwitchProducer` and by detecting the `SCRAM_ARCH`.\r\n\r\nNeeds https://github.com/cms-data/RecoBTag-Combined/pull/27 (updated TF models to remove the training-only nodes; speed up the TF-based inference by 5-10%).\r\n\r\n#### PR validation:\r\n\r\nTested in a JetHT2017D NanoAOD workflow and obtained consistent outputs between the TF/MXNet and the ONNXRuntime backends for affected taggers.", "branch": "master", "changed_files": 28, "closed_at": "1588323888", "comments": 61, "commits": 1, "created_at": "1583869196", "deletions": 520, "labels": ["analysis-pending", "code-checks-approved", "comparison-available", "orp-pending", "pending-signatures", "reconstruction-rejected", "requires-external", "tests-approved"], "milestone": "CMSSW_11_1_X", "number": 29172, "release-notes": [], "review_comments": 11, "state": "closed", "title": "Restore TF and MXNet-based inference for DeepJet, DeepDoubleX and DeepAK8", "updated_at": "1588323888", "user": "hqucms"}