{"additions": 2142, "auther_ref": "pps_validation_update_11_0_0", "auther_sha": "37500a957f153966806f0a057db061ba11d1b5c4", "author": "CTPPS", "body": "#### PR description:\r\n\r\nThis is an update of code in Validation/CTPPS which has been used extensively in 2019 to prepare proton-reconstruction SW and conditions for the UL re-reco. It also contains [\"direct\" simulation](https://twiki.cern.ch/twiki/bin/view/CMS/TaggedProtonsDirectSimulation) used to study proton-reconstruction uncertainties and more.\r\n\r\nIt was necessary to make several changes outside the Validation/CTPPS directory. These changes are mostly small and technical (details follow) and introduce no change in proton-recontsruction results (see below).\r\n\r\nCalibPPS/ESProducers\r\n * new auxiliary modules added\r\n * for several modules: configurable input/output label\r\n\r\nCondFormats/CTPPSReadoutObjects\r\n * a friend declaration added\r\n\r\nCondFormats/DataRecord\r\n * CTPPSBeamParametersRcd made dependent on LHCInfoRcd (allows to change parameters with xangle)\r\n\r\nDataFormats/CTPPSReco\r\n * few more dictionaries generated\r\n\r\nGeometry/VeryForwardGeometryBuilder\r\n * store sensor type (to distinguish between pixel 2x2 and 3x2 modules)\r\n\r\nRecoCTPPS/ProtonReconstruction\r\n * configurable input-optics label\r\n * timing-RP local track also stored in the reco proton contributor list\r\n\r\n#### PR validation:\r\n\r\n`runTheMatrix.py -l limited --ibeos` resulted in `30 29 28 22 16 4 1 1 1 tests passed, 4 0 0 0 0 0 0 0 0 failed`. The four failing tests (20034.0, 20434.0, 21234.0, 22034.0) reported:\r\n```\r\nException: 'Phase2C4_timing_layer_bar' is not a valid option for '--era\r\n```\r\nthus most likely unrelated to this PR.\r\n\r\nBelow a comparison of proton reconstruction performed with CMSSW_11_0_0_pre12 (blue) and this PR (red dashed) - there is no difference.\r\n![make_cmp](https://user-images.githubusercontent.com/17830858/69738815-ef5d5980-1136-11ea-9af7-dc52b07b0a2c.png)\r\n", "branch": "master", "changed_files": 50, "closed_at": "1576095576", "comments": 22, "commits": 4, "created_at": "1574866730", "deletions": 1114, "labels": ["alca-approved", "code-checks-approved", "comparison-available", "db-approved", "dqm-approved", "fully-signed", "geometry-approved", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "c26f4e8f00851b91018fe036b0e03a9dc127e790", "merged_at": "1576095576", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 28492, "release-notes": [], "review_comments": 10, "state": "closed", "title": "PPS: update of Validation/CTPPS", "updated_at": "1576095576", "user": "jan-kaspar"}