{"additions": 13, "auther_ref": "pr106-UnprefireableBit", "auther_sha": "5ce1aa4b2f682e0ac344a396174980269c03a604", "author": "cms-l1t-offline", "body": "#### PR description:\r\nRelease 10_6_X.\r\nAdd functionality needed for miniAOD reprocessing of UL data to save L1T PrefireVeto Bit.\r\n\r\nThis PR includes:\r\n- `simGtExtUnprefireable` - a cloned module of L1TExtCondProducer which uses `tcdsDigis` as input and store the PrefireVetoBit in `GlobalExtBlkBXVector`\r\n- addition of `simGtExtUnprefireable`in the sequence for `miniAOD_customizeData` customization in case of `run2_miniAOD_UL` modifier.\r\n- customization function `L1TStage2SetPrefireVetoBit` which adds `simGtExtUnprefireable` module at the beginning of process.schedule, invoked by `--customise=L1Trigger/Configuration/customiseUtils.L1TStage2SetPrefireVetoBit`\r\n- adjustment to MicroEventContent  to `'keep GlobalExtBlkBXVector_simGtExtUnprefireable_*_*',` product created by the module in the customizations above\r\n\r\n\r\n\r\n#### PR validation:\r\n\r\nValidated by running in CMSSW_10_6_18 on 2016, 2017, 2018 AOD samples, using cmsDriver.py command with added above mentioned customization:\r\n\r\n- Test with 2016 AOD\r\n```\r\ncmsDriver.py PAT -s PAT --runUnscheduled --nThreads 8 --data --era Run2_2016 --scenario pp --conditions 106X_dataRun2_v29 --eventcontent MINIAOD --datatier MINIAOD --customise Configuration/DataProcessing/RecoTLR.customisePostEra_Run2_2016 --procModifiers run2_miniAOD_UL_preSummer20 --filein das:/MET/Run2016G-21Feb2020_UL2016-v1/AOD -n 1000 --python_filename=reMiniAOD_2016UL_uGTExt.py --customise=L1Trigger/Configuration/customiseUtils.L1TStage2SetPrefireVetoBit --no_exec\r\n```\r\n- Test with 2017 AOD\r\n```\r\ncmsDriver.py PAT -s PAT --runUnscheduled --nThreads 8 --data --era Run2_2017 --scenario pp --conditions 106X_dataRun2_v29 --eventcontent MINIAOD --datatier MINIAOD --customise Configuration/DataProcessing/RecoTLR.customisePostEra_Run2_2017 --procModifiers run2_miniAOD_UL_preSummer20 --filein das:/MET/Run2017D-09Aug2019_UL2017_rsb-v1/AOD -n 10 --python_filename=reMiniAOD_2017UL_uGTExt.py --customise=L1Trigger/Configuration/customiseUtils.L1TStage2SetPrefireVetoBit --no_exec\r\n```\r\n- Test with 2018 AOD\r\n```\r\ncmsDriver.py PAT -s PAT --runUnscheduled --nThreads 8 --data --era Run2_2018 --scenario pp --conditions 106X_dataRun2_v29 --eventcontent MINIAOD --datatier MINIAOD --customise Configuration/DataProcessing/RecoTLR.customisePostEra_Run2_2018 --procModifiers run2_miniAOD_UL_preSummer20 --filein das:/BTagMu/Run2018D-12Nov2019_UL2018-v1/AOD -n 1000 --python_filename=reMiniAOD_2018UL_uGTExt.py --customise=L1Trigger/Configuration/customiseUtils.L1TStage2SetPrefireVetoBit --no_exec\r\n```\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\n<!-- Please replace this text with any link to  -->\r\n\r\nBefore submitting your pull requests, make sure you followed this checklist:\r\n- verify that the PR is really intended for the chosen branch\r\n- verify that changes follow [CMS Naming, Coding, And Style Rules](http://cms-sw.github.io/cms_coding_rules.html)\r\n- verify that the PR passes the basic test procedure suggested in the [CMSSW PR instructions](https://cms-sw.github.io/PRWorkflow.html)\r\n", "branch": "CMSSW_10_6_X", "changed_files": 4, "closed_at": "1606912471", "comments": 78, "commits": 11, "created_at": "1603973352", "deletions": 0, "labels": ["analysis-approved", "backport-ok", "comparison-available", "l1-pending", "orp-approved", "pending-signatures", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "d3645eb4e91c77593784e18bb19c7d04ce7f93e4", "merged_at": "1606912471", "merged_by": "cmsbuild", "milestone": "CMSSW_10_6_X", "number": 31984, "release-notes": [], "review_comments": 16, "state": "closed", "title": "Pr106 L1T Unprefireable Bit Functionality for miniAOD Reprocessing", "updated_at": "1606919773", "user": "rekovic"}