{"additions": 4, "auther_ref": "L1emulator_ASANfix_12_4_X", "auther_sha": "de47a67a758184c3e87611edfd99430fefb5142a", "author": "gk199", "body": "#### PR description:\r\n\r\nFixing the heap-buffer-overflow in `l1t::stage2::CaloLayer1Packer::makeHCalTPGs()` resulting from PR #36919, and identified in Issue #37012. One file is changed: `CaloLayer1Packer.cc`, moving the loop that sets `fg_bits` to inside the conditional to ensure that this is only done when `id` is found. `fg_bits` is declared as a uint_32, and the bit setting is done via |= (more robust than the initial implementation).\r\n\r\n#### PR validation:\r\n\r\nPassed `runTheMatrix.py` in `CMSSW_12_4_X_2022-03-14-2300`.\r\n\r\nIn `CMSSW_12_4_ASAN_X_2022-03-14-1100`, step2 heap-buffer-overflow is resolved, tested with `runTheMatrix.py -l 39834.0`.\r\n\r\nThis is a forward PR to current master (12_4_X), instead of PR #37253 by request. Would eventually like to be included in 12_3_X via backport. ", "branch": "master", "changed_files": 1, "closed_at": "1647588223", "comments": 7, "commits": 1, "created_at": "1647445286", "deletions": 4, "labels": ["l1-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "895c99a44f131cd234e0116c80d1c7d29f628491", "merged_at": "1647588222", "merged_by": "cmsbuild", "milestone": "CMSSW_12_4_X", "number": 37257, "release-notes": [], "review_comments": 0, "state": "closed", "title": "L1T ASAN heap-buffer-overflow fix resulting from PR #36919 (12_4_X)", "updated_at": "1647588223", "user": "gk199"}