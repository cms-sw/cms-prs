{"additions": 23, "auther_ref": "throwConversionTrackProducer", "auther_sha": "b1c35dd7726a5624d59b89019f2fdf8eaf95608a", "author": "makortel", "body": "#### PR description:\r\n\r\nThis PR is part of https://github.com/cms-sw/cmssw/issues/30074 even though it itself does not fix any workflow. The bare \"throw\" will lead to abort (*) because there is no exception to be thrown. On the other hand, the `beamSpotHandle->position() `will throw an exception if the product is missing (with much clearer message), so this PR proposes just remove the check.\r\n\r\n(*) https://cmssdt.cern.ch/SDT/cgi-bin/buildlogs/raw/slc7_amd64_gcc820/CMSSW_11_2_X_2020-06-01-2300/pyRelValMatrixLogs/run/135.9_ZMM_13+ZMMFS_13+HARVESTUP15FS+MINIAODMCUP15FS/step1_ZMM_13+ZMMFS_13+HARVESTUP15FS+MINIAODMCUP15FS.log\r\n\r\nIn addition this PR modernizes `ConversionTrackProducer` by\r\n* Constructing BeamSpot position as `math::XYZVector` once\r\n* Using `edm::Event::get()` instead of going via `edm::Handle`\r\n* Consuming trajectory maps only if `useTrajectory == True`\r\n* Using `edm::ESGetToken`\r\n* Removing unnecessary member variables\r\n\r\n#### PR validation:\r\n\r\nWorkflow 135.9 does not abort anymore (but it won't succeed either, the real fix is different but independent of this PR). Limited matrix runs.", "branch": "master", "changed_files": 2, "closed_at": "1591438437", "comments": 25, "commits": 6, "created_at": "1591116104", "deletions": 46, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "44611935fa0e91fae06772c21f5fb78e36fb2127", "merged_at": "1591438437", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 30082, "release-notes": [], "review_comments": 1, "state": "closed", "title": "Remove redundant product validity check from ConversionTrackProducer and modernize it", "updated_at": "1591438438", "user": "makortel"}