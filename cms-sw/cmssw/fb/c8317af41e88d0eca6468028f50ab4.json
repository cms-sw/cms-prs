{"additions": 84, "auther_ref": "fixMTEModeInTrackingRegionProducers_v2", "auther_sha": "74b13f26bc253367749c51f4d3a1195ff1b8098f", "author": "makortel", "body": "This PR addresses the segfault reported in https://hypernews.cern.ch/HyperNews/CMS/get/recoTracking/1562.html\nand supersedes the first attempt #11155.\n\nThese TrackingRegionProducers have inconsistent default configuration for the use of MeasurementTrackerEvent. They set the usage mode to `kForSiStrips`, but do not read MTE, leading to a segfault if anybody uses these for strip hits (the case in the HN thread). In all current uses in the release, the default configuration is used only for pixel hits (i.e. MTE is not used).\n\nFollowing the FIXME items added in #3105, the parameters `howToUseMeasurementTracker`/`whereToUseMeasurementTracker` and `measurementTrackerName` are made mandatory (latter only if the former is not `kNever`), and their types are changed to `string` and `InputTag`, respectively. The default mode is kept as `kForSiStrips` and the `measurementTrackerName` is set to some value (so in the HN case the user would get ProductNotFound exception in case of error instead of segfault), except for TrackingRegionsFromBeamSpotAndL2Tau, whose default mode is changed to `kNever` (there was only one use in the release, and it was clearly pixel-only, so this way we can avoid guessing the proper value for `measurementTrackerName`).\n\nAll uses of these TrackingRegionProducers are supposed to be migrated to the new configuration (i.e something missing is an error).\n\nTested in CMSSW_7_6_X_2015-09-06-2300 (with full matrix), no changes expected in results.\n", "branch": "CMSSW_7_6_X", "changed_files": 15, "closed_at": "1441950670", "comments": 10, "commits": 7, "created_at": "1441690368", "deletions": 71, "labels": ["comparison-available", "fastsim-approved", "fully-signed", "hlt-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "a4e15194b91bdb8af198be28fc33871708942ba8", "merged_at": "1441950670", "merged_by": "cmsbuild", "milestone": "CMSSW_7_6_X", "number": 11183, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix MeasurementTrackerEvent configuration of some TrackingRegionProducers", "updated_at": "1476956868", "user": "makortel"}