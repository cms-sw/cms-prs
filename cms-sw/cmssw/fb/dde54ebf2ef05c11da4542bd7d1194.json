{"additions": 52, "auther_ref": "devel_saWarningsHLTConfigData", "auther_sha": "7ee17d0e60fdbeb0ba7d8c23a184eab9b7f2eede", "author": "missirol", "body": "#### PR description:\r\n\r\nThe use of the methods `edm::ParameterSet::exists` and `edm::ParameterSet::existsAs` leads to warnings issued by the static analyser (SA). In my understanding, this is done to discourage the use of these methods as a way to compensate for missing, or incomplete, implementations of `fillDescriptions` methods in the corresponding plugins.\r\n\r\nMany (~40%) of the SA warnings from HLT packages originate from `exists` and `existsAs` calls in the classes `HLTConfigData` and `HLTConfigProvider`. The latter need to inspect the global process PSet to work as intended. In this case, the use of `exists` and `existsAs` calls seems justified and unavoidable (and is not related to the lack of `fillDescriptions` methods).\r\n\r\nThis PR adds the macro `CMS_SA_ALLOW` to these calls in `HLTConfig{Data,Provider}` in order to silence the corresponding SA warnings.\r\n\r\nUnrelated to the purpose of this PR, some minor technical cleanup in `HLTConfigProvider` is also applied (removal of spurious `endl`s from `MessageLogger` calls).\r\n\r\nWhile working on this PR, an issue with `CMS_SA_ALLOW` was found (#43646), and #43678 fixed it. This PR technically does not depend on #43678, but it requires the latter in order to work as intended.\r\n\r\nMerely technical. No changes expected.\r\n\r\n#### PR validation:\r\n\r\nI reproduced the SA warnings with the pseudo-recipe below. Using this PR plus #43678, the warnings due to `HLTConfig{Data,Provider}.cc` disappear.\r\n```bash\r\n[..]\r\ngit cms-addpkg HLTrigger/HLTcore\r\ngit cms-addpkg Utilities/StaticAnalyzers\r\nscram b\r\nUSER_LLVM_CHECKERS=\"-enable-checker threadsafety -enable-checker optional.ClassChecker -enable-checker cms -enable-checker deprecated -disable-checker cms.FunctionDumper\" scram b -k checker  SCRAM_IGNORE_PACKAGES=Fireworks/% SCRAM_IGNORE_SUBDIRS=test > class+function-checker.log 2>&1\r\n```\r\n\r\n#### If this PR is a backport, please specify the original PR and why you need to backport that PR. If this PR will be backported, please specify to which release cycle the backport is meant for:\r\n\r\nN/A\r\n", "branch": "master", "changed_files": 4, "comments": 13, "commits": 1, "created_at": "1704751275", "deletions": 55, "labels": ["hlt-approved", "fully-signed", "tests-approved", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_14_0_X", "number": 43679, "release-notes": [], "review_comments": 0, "state": "open", "title": "silence static-analyzer warnings in `HLTConfig{Data,Provider}`", "updated_at": "1704818157", "user": "missirol"}