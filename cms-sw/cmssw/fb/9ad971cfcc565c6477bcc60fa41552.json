{"additions": 210, "auther_ref": "SmallTempTrajectory", "auther_sha": "194b3ed67edaf335caa8c71484b9723aacfbdccc", "author": "VinInn", "body": "Currenlty, in both (grouped)limitedCandidates, for each \"step\" candidates are first all collected and then the size is reduced based on some score.\r\nThis is equivalent to not \"pushing\" a new candidate if worse than the current worst once the collection has reached the max allowed size. (but for candidates with equal score). \r\nThe implementation has been therefore modified to this latter mechanism that is more performant.\r\n\r\nIt should also be noticed that the final sorting is not required and indeed in groupedLimitedCandidates there is NO final sort.\r\n\r\nThe Size of TempTrajectory has also been reduced to speed up move and swap.\r\nTook the opportunity to reduce the size of Trajectory as well\r\nand to cleanup  in general CkfTrajectoryBuilder code.\r\n\r\nIn a HLT menu\r\ntime of limitedCandidates improves of 20%\r\nwhile the one of groupedLimitedCandidates improves of a bit more than 10%\r\n\r\nHLT throughput improves of a solid 1.5% at least.\r\n\r\nPurely technical.  Negligible regressions may appear in case of \"candidates\" with identical score.", "branch": "master", "changed_files": 12, "comments": 57, "commits": 11, "created_at": "1714905539", "deletions": 374, "labels": ["reconstruction-pending", "hlt-approved", "pending-signatures", "tests-approved", "orp-pending", "code-checks-approved", "performance-improvements", "tracking"], "milestone": "CMSSW_14_1_X", "number": 44904, "release-notes": [], "review_comments": 5, "state": "open", "title": "Speedup (grouped)limitedCandidates by changing the implementation of the candidates' number limitation.", "updated_at": "1716267193", "user": "VinInn"}