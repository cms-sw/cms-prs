{"additions": 72, "auther_ref": "NanoFlavours", "auther_sha": "07661208dd2a940d7b9eab96b0c6b424f8a58c86", "author": "elenavernazza", "body": "#### PR description:\r\n\r\nThis PR proposes a rearrangement of the NanoAOD flavours for NGT Scouting and Phase-2 HLT.\r\n\r\nThe NGT Scouting NanoAOD flavour introduced in #48091 has been subsequently modified in:\r\n- #48500 to introduce the TICL-based objects and associators\r\n- #48935 to include the track impact parameters w.r.t. the beam spot\r\n\r\nThis resulted in the definition of multiple NanoAOD flavours for Phase-2 HLT, potentially causing confusion in users and enhancing the complexity in the maintenance.\r\n\r\nWith this PR, the NanoAOD flavours are reduced to only two:\r\n- the \"default\" NanoAOD flavour contains only the main objects reconstructed by the HLT, which defines a proxy for the future output format of the NGT Scouting stream;\r\n- the \"validation\" NanoAOD flavour also stores all the generator-level information and additional lower-level objects from intermediate steps of the HLT reconstruction chain, such as different track collections or TICL objects and associators. This is the flavour that should be used for validating HLT objects against truth information.\r\n\r\n##### Default flavour \r\nThe \"default\" flavour can be plugged: \r\n- into the standard Phase-2 menu by `NANO:@Phase2HLT`\r\n- into the NGT scouting menu by `NANO:@NGTScouting` \r\n\r\nBoth flavours will contain the same collections. The only difference is the `dstTriggerAcceptFilter` for the NGT Scouting flavour, which selects only the event passing the logical `OR` of all the L1 seeds. \r\nThe previous duplication between the `hltPixelTrackTable` and the `hltGeneralTrackTable` has been resolved by only storing general tracks.\r\nThe event size summary for 1k events of tt-bar 200 PU processed with `NANO:@NGTScouting` is available [here](https://evernazz.web.cern.ch/evernazz/NGT/NanoAOD/SizeAndContentReport/NGTScouting/SizeReport.html).\r\n\r\n<img width=\"446\" height=\"266\" alt=\"Nano_NGTScouting\" src=\"https://github.com/user-attachments/assets/b1f0c704-7230-494b-bff0-57f5d1f3f4cb\" />\r\n\r\n##### Validation flavour \r\nThe \"validation\" flavour is specified by the `Val` suffix and can be plugged: \r\n- into the standard Phase-2 menu by `NANO:@Phase2HLTVal`\r\n- into the NGT scouting menu by `NANO:@NGTScoutingVal` \r\n\r\nBoth flavours will contain the same collections. Again, the only difference is the `dstTriggerAcceptFilter` for the NGT Scouting flavour, which selects only the event passing the logical `OR` of all the L1 seeds.\r\nThe event size summary for 1k events of tt-bar 200 PU processed with `NANO:@Phase2HLTVal`is available [here](https://evernazz.web.cern.ch/evernazz/NGT/NanoAOD/SizeAndContentReport/Phase2HLTVal/SizeReport.html).\r\n\r\n<img width=\"554\" height=\"266\" alt=\"Phase2HLTVal\" src=\"https://github.com/user-attachments/assets/47344267-3f21-4480-ad34-daa29ca14e0f\" />\r\n\r\n#### PR validation:\r\n\r\nThe \"default\" flavour has been tested by running:\r\n-  for the standard Phase-2 menu by `NANO:@Phase2HLT`\r\n```\r\ncmsDriver.py step2 --processName=HLTX \\\r\n-s L1P2GT,HLT:@relvalRun4,NANO:@Phase2HLT \\\r\n--procModifier phase2CAExtension --conditions auto:phase2_realistic_T33 \\\r\n--datatier NANOAODSIM --eventcontent NANOAODSIM \\\r\n--geometry ExtendedRun4D110 --era Phase2C17I13M9 \\\r\n--filein file:step1.root -n -1 --fileout file:step2.root\r\n```\r\n-  for the standard Phase-2 menu by `NANO:@NGTScouting`\r\n```\r\ncmsDriver.py step2 --processName=HLTX \\\r\n-s L1P2GT,HLT:NGTScouting,NANO:@NGTScouting \\\r\n--procModifier phase2CAExtension --conditions auto:phase2_realistic_T33 \\\r\n--datatier NANOAODSIM --eventcontent NANOAODSIM \\\r\n--geometry ExtendedRun4D110 --era Phase2C17I13M9 \\\r\n--filein file:step1.root -n -1 --fileout file:step2.root\r\n```\r\n\r\nThe \"validation\" flavour has been tested by running:\r\n-  for the standard Phase-2 menu by `NANO:@Phase2HLTVal`\r\n```\r\ncmsDriver.py step2 --processName=HLTX \\\r\n-s L1P2GT,HLT:@relvalRun4,NANO:@Phase2HLTVal \\\r\n--procModifier phase2CAExtension --conditions auto:phase2_realistic_T33 \\\r\n--datatier NANOAODSIM --eventcontent NANOAODSIM \\\r\n--geometry ExtendedRun4D110 --era Phase2C17I13M9 \\\r\n--filein file:step1.root -n -1 --fileout file:step2.root\r\n```\r\n-  for the standard Phase-2 menu by `NANO:@NGTScoutingVal`\r\n```\r\ncmsDriver.py step2 --processName=HLTX \\\r\n-s L1P2GT,HLT:NGTScouting,NANO:@NGTScoutingVal \\\r\n--procModifier phase2CAExtension --conditions auto:phase2_realistic_T33 \\\r\n--datatier NANOAODSIM --eventcontent NANOAODSIM \\\r\n--geometry ExtendedRun4D110 --era Phase2C17I13M9 \\\r\n--filein file:step1.root -n -1 --fileout file:step2.root\r\n```", "branch": "master", "changed_files": 2, "comments": 6, "commits": 1, "created_at": "1763469644", "deletions": 51, "labels": ["hlt-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved", "xpog-pending"], "milestone": "CMSSW_16_0_X", "number": 49404, "release-notes": [], "review_comments": 0, "state": "open", "title": "[NGT] Rearrange Nano Phase2 HLT flavours", "updated_at": "1763471582", "user": "elenavernazza"}