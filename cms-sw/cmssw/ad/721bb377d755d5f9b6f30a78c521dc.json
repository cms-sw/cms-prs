{"additions": 89, "auther_ref": "gcc15-array-subs-1", "auther_sha": "15474bd3d4e22bdcf51f81a712baddd7364bb969", "author": "smuzaffar", "body": "For GCC 15 build, we get build errors like [a] though the [code in question](https://github.com/cms-sw/cmssw/blob/master/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc#L534-L557) does have a protection `hid.ieta() >0` but as we use `hid.ieta() ` within the condition so compiler assumes that it can return `-1`.  \r\n\r\nThis PR proposes to cache `ieta, depth and iphi` and use the caches values instead of calling the `ieta(), depth() and iphi()` functions. This should fix the these compiler errors.\r\n\r\n[a] https://cmssdt.cern.ch/SDT/cgi-bin/buildlogs/el9_amd64_gcc15/CMSSW_16_1_X_2026-02-02-2300/Calibration/HcalCalibAlgos\r\n```\r\nsrc/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc: In member function 'analyze':\r\n  [src/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc:708](https://github.com/cms-sw/cmssw/blob/CMSSW_16_1_X_2026-02-02-2300/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc#L708):73: error: array subscript -1 is below array bounds of 'double[43]' [-Werror=array-bounds=]\r\n   708 |             theMBFillDetMapPl0[mysu][hid.depth()][hid.iphi()][hid.ieta()] + 1.;\r\n      |                                                                         ^\r\nsrc/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc:117:12: note: while referencing 'theMBFillDetMapPl0'\r\n  117 |     double theMBFillDetMapPl0[5][5][73][43];\r\n      |            ^\r\n  [src/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc:707](https://github.com/cms-sw/cmssw/blob/CMSSW_16_1_X_2026-02-02-2300/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc#L707):69: error: array subscript -1 is below array bounds of 'double[43]' [-Werror=array-bounds=]\r\n   707 |         theMBFillDetMapPl0[mysu][hid.depth()][hid.iphi()][hid.ieta()] =\r\n      |                                                                     ^\r\nsrc/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc:117:12: note: while referencing 'theMBFillDetMapPl0'\r\n  117 |     double theMBFillDetMapPl0[5][5][73][43];\r\n      |            ^\r\n  [src/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc:708](https://github.com/cms-sw/cmssw/blob/CMSSW_16_1_X_2026-02-02-2300/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc#L708):73: error: array subscript -1 is below array bounds of 'double[43]' [-Werror=array-bounds=]\r\n   708 |             theMBFillDetMapPl0[mysu][hid.depth()][hid.iphi()][hid.ieta()] + 1.;\r\n      |                                                                         ^\r\nsrc/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc:117:12: note: while referencing 'theMBFillDetMapPl0'\r\n  117 |     double theMBFillDetMapPl0[5][5][73][43];\r\n      |            ^\r\n  [src/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc:707](https://github.com/cms-sw/cmssw/blob/CMSSW_16_1_X_2026-02-02-2300/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc#L707):69: error: array subscript -1 is below array bounds of 'double[43]' [-Werror=array-bounds=]\r\n   707 |         theMBFillDetMapPl0[mysu][hid.depth()][hid.iphi()][hid.ieta()] =\r\n      |                                                                     ^\r\nsrc/Calibration/HcalCalibAlgos/plugins/Analyzer_minbias.cc:117:12: note: while referencing 'theMBFillDetMapPl0'\r\n  117 |     double theMBFillDetMapPl0[5][5][73][43];\r\n```", "branch": "master", "changed_files": 1, "comments": 7, "commits": 1, "created_at": "1770107107", "deletions": 113, "labels": ["alca-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_16_1_X", "number": 50009, "release-notes": [], "review_comments": 24, "state": "open", "title": "GCC15: Fix build error array subscript -1 is below array bounds", "updated_at": "1770193860", "user": "smuzaffar"}