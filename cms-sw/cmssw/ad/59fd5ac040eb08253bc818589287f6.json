{"additions": 114, "auther_ref": "CMSSW_12_0_X_2021-05-04-2300/sign1120/tkByChi2", "auther_sha": "ac99d687b793e81460bcb2c491b930ecf5c95245", "author": "slava77", "body": "trackValidatorJetCore is currently enabled only with seedingDeepCore; which is not in production yet.\r\nCompared to other tracking validation cases, this one is using association by chi2.\r\nAs clarified in https://github.com/cms-sw/cmssw/pull/33531#issuecomment-840686662\r\n`The trackAssociatorByChi2 is needed to have a \"fair\" performance estimation with DeepCore. DeepCore uses pixel-less seed [1], thus the associator by hits is not optimal in this case.`\r\n\r\nA problem in timing was observed while testing #33531 , as described in https://github.com/cms-sw/cmssw/pull/33531#issuecomment-840663161 (and related messages). There are two components to resolve the problem:\r\n- reduce the set of tracking particles to only the in-time ones (BX = 0)\r\n- improve computational implementation of TrackAssociatorByChi2 by reducing unnecessary computations done in a nested double-loop (nTrack * nTrackingParticles )\r\n\r\nIn the test setup based on 11834.0 with `seedingDeepCore` modifier, the time in `trackValidatorJetCore` is reduced from around 5400 s/event  (averaged over the first 9 events) to 3.4 s/evt (averaged over 200 events).\r\n\r\nUpdates were tested on wf 11651 with `seedingDeepCore` (only in-time particles) to confirm that there are no changes in the DQM plots after the speedup implemented in `TrackAssociatorByChi2`", "branch": "master", "changed_files": 6, "closed_at": "1621233085", "comments": 11, "commits": 4, "created_at": "1620969189", "deletions": 87, "labels": ["code-checks-approved", "dqm-approved", "fully-signed", "orp-approved", "simulation-approved", "tests-approved"], "merge_commit_sha": "e31c6f857013dd531c2e38f871372d2746caf90f", "merged_at": "1621233085", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 33731, "release-notes": [], "review_comments": 0, "state": "closed", "title": "speedup of trackValidatorJetCore and TrackAssociatorByChi2", "updated_at": "1621233086", "user": "slava77"}