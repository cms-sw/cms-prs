{"additions": 230, "auther_ref": "fc-fixdetlayers20240625", "auther_sha": "a6c14314469314bc88bcd4e18bfaf28d9e6d2ef8", "author": "fabiocos", "body": "#### PR description:\r\n\r\nAs a consequence of the move of all MTD geometry unit tests to scenario D110 in https://github.com/cms-sw/cmssw/pull/45211 , the unit test for the tracking geometry navigation in ```RecoMTD/DetLayers``` starts to fail on aarch64 architecture https://github.com/cms-sw/cmssw/pull/45211#issuecomment-2182787318 , due to some numerical differences in the output of operations displayed in the reference file. \r\n\r\nThe underlying geometry calculations are made using ```float``` for performance reasons, and on operations involving space measurements of a size O(100 cm) does not always guarantee to display identical results at the micron level on both amd64 and aarch64. For this reason:\r\n\r\n- a better formatting and rounding is adopted in this test, with a configurable precision;\r\n- a 4 decimal digits precision is kept for direct inspection, but a safer 2 digits precision is used in the unit test (and corresponding reference, that needs to be updated in parallel to this PR)\r\n\r\n#### PR validation:\r\n\r\nThe unit test comparison succeed on both amd64 and aarch64 (lxplus-arm.cern.ch).", "branch": "master", "changed_files": 4, "comments": 7, "commits": 2, "created_at": "1719395255", "deletions": 60, "labels": ["reconstruction-pending", "pending-signatures", "tests-approved", "orp-pending", "upgrade-pending", "requires-external", "code-checks-approved"], "milestone": "CMSSW_14_1_X", "number": 45310, "release-notes": [], "review_comments": 0, "state": "open", "title": "MTD geometry: fix RecoMTD/DetLayers unit test ", "updated_at": "1719418969", "user": "fabiocos"}