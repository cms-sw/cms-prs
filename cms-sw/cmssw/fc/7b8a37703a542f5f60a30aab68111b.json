{"additions": 252, "auther_ref": "fit_with_roofit", "auther_sha": "c3476eb3c856ac4513cd884077c96fdf0d5daaa9", "author": "guitargeek", "body": "#### PR description:\r\n\r\n  * Avoid memory leak of RooDataHist by wrapping it in `unique_ptr`\r\n\r\n  * Avoid memory leaks of RooRealVars also by wrapping in `unique_ptr`\r\n\r\n  * Avoid leaking RooAbsPdf models also with `unique_ptr`\r\n\r\n  * Avoid memory leak of model components by passing ownership to the top-level pdf via `RooAbsArg::addOwnedComponents()`\r\n\r\n  * Use `double` instead of `const double&` for function parameters\r\n\r\n  * Avoid a leaking fit result because of the `Save()` command argument to `fitTo()` (if one uses `Save()`, the fitting routine returns a `RooFitResult *` that needs to be deleted)\r\n\r\n#### PR validation:\r\n\r\nI could do no validation of this refactoring and memory leak fixing work. It should not change any code behavior, but it would be nice if an alignment expert could validate it.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nNo backport intended.", "branch": "master", "changed_files": 2, "comments": 5, "commits": 1, "created_at": "1695895573", "deletions": 469, "labels": ["alca-pending", "pending-signatures", "tests-approved", "orp-pending", "code-checks-approved", "trk"], "milestone": "CMSSW_13_3_X", "number": 42900, "release-notes": [], "review_comments": 0, "state": "open", "title": "Update `FitWithRooFit` in Alignment/OfflineValidation to fix memory leaks", "updated_at": "1695915486", "user": "guitargeek"}