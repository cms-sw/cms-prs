{"additions": 13, "auther_ref": "disableConcurrentLumisAlCa", "auther_sha": "ad771a6b281bde6690cd441a262ab44989ca28c1", "author": "makortel", "body": "#### PR description:\r\n\r\nAs reported in https://github.com/cms-sw/cmssw/issues/25090 the EDModules `AlcaBeamSpotProducer`, `AlignmentProducerAsAnalyzer`, `MillePedeFileConverter`, `AlcaBeamSpotProducer` do not support concurrent lumis, and in the PPD workshop in March it was said that in T0 the ALCA steps will process only one lumi at a time and therefore they would not benefit from concurrent lumis.\r\n\r\nIn order to silence the warning message on multithreaded jobs, and to later allow changing that warning to an exception (to better prevent any modules that do not support concurrent lumis to creep in workflow steps that are expected to support concurrent lumis), this PR suggest the `ConfigBuilder` to set the number of concurrent lumis (and IOVs) explicitly to 1 if the job has `ALCA` step with any of the AlCa sequences that (currently) contain modules that do not support concurrent lumis. In this PR the `Configuration/AlCa/python/autoAlca.py` was chosen as a place for the list of those sequences, in principle they could be listed elsewhere as well.\r\n\r\nTo best of my knowledge this approach should cover both `cmsDriver` and T0, since the latter uses `ConfigBuilder` e.g. in\r\nhttps://github.com/cms-sw/cmssw/blob/209b3931b96401ccb7a13b20c1e0923319637399/Configuration/DataProcessing/python/Reco.py#L240\r\n\r\n#### PR validation:\r\n\r\nWorkflows `134.0,1001.0,1001.2,1004.0,1030.0` set their `ALCA` or `ALCAOUTPUT` steps to use ", "branch": "master", "changed_files": 2, "closed_at": "1630364228", "comments": 14, "commits": 1, "created_at": "1630328434", "deletions": 1, "labels": ["alca-approved", "operations-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "59d746bf07488fdb8bce7992cc1ea36098ab50ba", "merged_at": "1630364228", "merged_by": "cmsbuild", "milestone": "CMSSW_12_1_X", "number": 35073, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Set numberOfConcurrentLuminosityBlocks to 1 for ALCA sequences that have EDModules that are not planned to support concurrent lumis", "updated_at": "1630364880", "user": "makortel"}