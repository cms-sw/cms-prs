{"additions": 1, "auther_ref": "devel_debugVBFFilter", "auther_sha": "4b0c2d9c3daf8d7f7f6b471ef1e3470ab63eb3ab", "author": "missirol", "body": "resolves #43323\r\n\r\n#### PR description:\r\n\r\nThis PR fixes a bug introduced by me in https://github.com/cms-sw/cmssw/pull/42543, spotted by @mmusich (see https://github.com/cms-sw/cmssw/pull/43300#issuecomment-1817465701). This bug led to failures in a few RelVals [*] after the integration of https://github.com/cms-sw/cmssw/pull/43300 (first HLT menus using the buggy plugin).\r\n\r\nThe issue is that in\r\nhttps://github.com/cms-sw/cmssw/blob/9e9d289e9d02ac5302347670783e608f8d12179e/HLTrigger/JetMET/plugins/HLTL1TMatchedJetsVBFFilter.h#L174\r\n`jetIndices.size() - 1` is converted to `unsigned int`, so it becomes `(uint) -1` (i.e. `4294967295`), which is unintended.\r\n\r\nIn this particular case, it is sufficient to remove the `-1` in the loop range: this removes the bug, and does not change the overall behaviour of the plugin. (The extra cost of the additional iteration when `size > 0` is mostly likely minuscule.)\r\n\r\nTo be backported down to `13_2_X` (where the buggy plugin was introduced).\r\n\r\nMerely technical. No changes expected.\r\n\r\n[*] RelVals with seg-faults in `CMSSW_14_0_X_2023-11-17-2300` and `CMSSW_13_3_X_2023-11-17-2300`\r\n```\r\n141.001,141.008,141.008505,141.008511,141.008521,141.11,141.112\r\n```\r\nThese RelVals did not fail in `CMSSW_13_2_X_2023-11-17-2300`, because in that cycle the same RelVals use the frozen HLT menu \"2023-v1.2\" (which has not changed recently, and does not use the buggy plugin).\r\n\r\n#### PR validation:\r\n\r\nNo seg-fault in `runTheMatrix.py -l 141.001` using this PR on top of `CMSSW_14_0_X_2023-11-17-2300`.\r\n\r\n#### If this PR is a backport, please specify the original PR and why you need to backport that PR. If this PR will be backported, please specify to which release cycle the backport is meant for:\r\n\r\n`CMSSW_13_3_X`\r\n`CMSSW_13_2_X`\r\n", "branch": "master", "changed_files": 1, "closed_at": "1700320026", "comments": 9, "commits": 1, "created_at": "1700304160", "deletions": 1, "labels": ["hlt-approved", "fully-signed", "tests-approved", "bug-fix", "orp-approved", "code-checks-approved"], "merge_commit_sha": "7122236ff08088b246964f0e29179a90788f9000", "merged_at": "1700320026", "merged_by": "cmsbuild", "milestone": "CMSSW_14_0_X", "number": 43324, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Do not use `size() - 1` in `HLTL1TMatchedJetsVBFFilter`", "updated_at": "1700320026", "user": "missirol"}