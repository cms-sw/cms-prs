{"additions": 2, "auther_ref": "dev-fixExternalGeneratorFilterArgsPassing", "auther_sha": "f89f15c5c2ec7ba0482a9f984209ebd10d332ae4", "author": "colizz", "body": "#### PR description:\r\n\r\nFix the ExternalGeneratorFilter argument passing to python config. \r\nThe fix is needed by UL run on 10_6_X. It is therefore applied to 11_3_X, 11_2_X, 11_1_X, and 10_6_X.\r\n\r\n#### PR validation:\r\n\r\nValidated on [`PPD-MultiValidationUL17GEN-00004`](https://cms-pdmv.cern.ch/mcm/requests?page=0&prepid=PPD-MultiValidationUL17GEN-00004), which uses `ExternalGeneratorFilter` with given argument `_external_process_waitTime_`.\r\n\r\n(A test script for this UL sample on 10_6_X):\r\n```shell\r\nexport SCRAM_ARCH=slc7_amd64_gcc700\r\ncmsrel CMSSW_10_6_X_2021-01-11-1100\r\ncd CMSSW_10_6_X_2021-01-11-1100/src\r\ncmsenv\r\ngit cms-merge-topic colizz:dev-106X-fixExternalGeneratorFilterArgsPassing\r\ncurl -s -k https://cms-pdmv.cern.ch/mcm/public/restapi/requests/get_fragment/PPD-MultiValidationUL17GEN-00004 --retry 3 --create-dirs -o Configuration/GenProduction/python/PPD-MultiValidationUL17GEN-00004-fragment.py\r\n## Modify the fragment to provide _external_process_waitTime_ argument\r\nsed -i \"s/ExternalGeneratorFilter(_generator)/ExternalGeneratorFilter(_generator, _external_process_waitTime_=cms.untracked.uint32(600))/g\" Configuration/GenProduction/python/PPD-MultiValidationUL17GEN-00004-fragment.py\r\nscram b -j8\r\ncd ../..\r\ncmsDriver.py Configuration/GenProduction/python/PPD-MultiValidationUL17GEN-00004-fragment.py --python_filename PPD-MultiValidationUL17GEN-00004_1_cfg.py --eventcontent RAWSIM --customise Configuration/DataProcessing/Utils.addMonitoring --datatier GEN --fileout file:PPD-MultiValidationUL17GEN-00004.root --conditions 106X_mc2017_realistic_v6 --beamspot Realistic25ns13TeVEarly2017Collision --customise_commands process.source.numberEventsInLuminosityBlock=\"cms.untracked.uint32(100)\" --step GEN --geometry DB:Extended --era Run2_2017 --no_exec --mc -n 1000 --nThreads 4\r\ncmsRun -e -j PPD-MultiValidationUL17GEN-00004_report.xml PPD-MultiValidationUL17GEN-00004_1_cfg.py\r\n```\r\n", "branch": "master", "changed_files": 1, "closed_at": "1610458779", "comments": 7, "commits": 1, "created_at": "1610444567", "deletions": 1, "labels": ["code-checks-approved", "fully-signed", "generators-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "92c68599ae81ae8d31a8c2fd296c60abacdb0a3d", "merged_at": "1610458778", "merged_by": "cmsbuild", "milestone": "CMSSW_11_3_X", "number": 32636, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix the ExternalGeneratorFilter argument passing to python config", "updated_at": "1610458779", "user": "colizz"}