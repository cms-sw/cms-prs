{"additions": 724, "auther_ref": "axol1tl_cmssw_emulator", "auther_sha": "7e8b8f0f597021ca21381c2862f65b26a8bb17bb", "author": "quinnanm", "body": "#### PR description:\r\n\r\nThis PR adds the AXOL1TL anomaly detection algorithm and corresponding trigger bits to the L1TGlobal emulator. No changes in output are expected apart from the new trigger bits.\r\n\r\n* The AXOL1TL model and trigger bits implemented are based on the [recent uGT test crate run](https://its.cern.ch/jira/browse/CMSLITDPG-1107), namely the model trained on proton-proton Run 2 data using 4 bits (ADT_80, ADT_400, ADT_4000, ADT_20000). It is forseen that this will be updated to the Run 3 model in the near future.\r\n* The model binaries are generated at runtime from the external cms-hls4ml [AXOL1TL repository](https://github.com/cms-hls4ml/AXOL1TL/tree/edfbeb895111beb319e59afac16eab54ce5b7d0c). hls4ml dependencies are also included via the [cms-hls4ml repository](https://github.com/cms-hls4ml/hls4mlEmulatorExtras)\r\n* This code is based on UTM lib [0.11.2](https://gitlab.cern.ch/cms-l1t-utm/utm/-/blob/utm_0.11.2/tmEventSetup/include/utm/tmEventSetup/esTypes.hh#L34)\r\n* Run-3 Deployment of AXOL1TL is targeted for early 2024\r\n* Relevant documentation:\r\n    * [AXOL1TL DP Note](http://cms.cern.ch/iCMS/jsp/openfile.jsp?tp=draft&files=14682_DP_Note_8_8_2023_version3.pdf)\r\n    * [most recent update at L1T Offline SW Meeting](https://indico.cern.ch/event/1322545/#22-axol1tl-cms-sw-emulator-upd)\r\n    * [Trigger studies group talk on AXOL1TL](https://indico.cern.ch/event/1326752/#37-axol1tl-anomaly-detection-s)\r\n\r\n#### PR validation:\r\n\r\n* Good agreement with test crate. Minimal mismatches between hardware and emulation consistent with precision/rounding discrepancies like results shown in [AXOL1TL DP Note](http://cms.cern.ch/iCMS/jsp/openfile.jsp?tp=draft&files=14682_DP_Note_8_8_2023_version3.pdf). \r\n* Excellent agreement with [standalone emulator](https://gitlab.cern.ch/ssummers/run3_ugt_ml) with minimal mismatches likely due to small differences in input scaling   (https://gitlab.cern.ch/ssummers/run3_ugt_ml)\r\n* validation figures summarized [here](https://docs.google.com/presentation/d/1XTukHN4zde8_oJRFhjZtKjp4MB-0B1nqhSn_PsVz_0w/edit?usp=sharing)\r\n\r\n<img width=\"442\" alt=\"image\" src=\"https://github.com/cms-sw/cmssw/assets/10641784/526107cf-ecee-4a81-aa25-fcfb794eda35\">\r\n\r\n<img width=\"449\" alt=\"image\" src=\"https://github.com/cms-sw/cmssw/assets/10641784/d38bfadd-bbc2-4c38-bbbd-6f72142081b7\">\r\n\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. \r\n\r\nN/A\r\n\r\n", "branch": "master", "changed_files": 20, "comments": 28, "commits": 7, "created_at": "1696611644", "deletions": 5, "labels": ["l1-approved", "fully-signed", "tests-approved", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_13_3_X", "number": 42964, "release-notes": [], "review_comments": 38, "state": "open", "title": "AXOL1TL anomaly detection emulator for cms-sw", "updated_at": "1698046980", "user": "quinnanm"}