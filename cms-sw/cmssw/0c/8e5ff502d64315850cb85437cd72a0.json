{"additions": 2444, "auther_ref": "randomServiceThreaded", "auther_sha": "c1537d85d74a875c311785bbafa475fef353e460", "author": "wddgit", "body": "Modifications to make the random number generator\nservice work with the multithreaded Framework.\nThe interface now requires a StreamID or\nLuminosityBlockIndex argument to the getEngine\nfunction. For each module, there will an\nengine for each stream and also each concurrent\nluminosity block instead of being just one\nper module. This is necessary to prevent data races.\nThe service now uses the new callbacks for the\nthreaded Framework. This required extensive revisions\nto the internals of the service and also to\nthe related unit tests. If all modules use\nthe new getEngine interface, the service\nwill support multiple threads, forking\n(but not multiple threads and forking in the\nsame job), and replay.\n\nTemporarily the old interface still works while clients\nare transitioned to the new interface. But modules\nusing the old interface must be ONE or LEGACY\ntype modules (not GLOBAL OR STREAM). If any modules\nuse the old interface, then both replay and\nmultiprocess forking will be broken.\n", "branch": "CMSSW_7_0_THREADED_X", "changed_files": 39, "closed_at": "1384507227", "comments": 7, "commits": 1, "created_at": "1384268399", "deletions": 2417, "labels": ["core-approved", "pending-signatures", "simulation-pending", "tests-rejected"], "merge_commit_sha": "40e4ad8d5311a9aee74d5223d862ccceda8f3416", "merged_at": "1384507227", "merged_by": "ktf", "number": 1423, "release-notes": [], "review_comments": 0, "state": "closed", "title": "RandomNumberGeneratorService Threaded", "updated_at": "1386873142", "user": "wddgit"}