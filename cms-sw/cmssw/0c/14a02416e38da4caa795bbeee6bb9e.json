{"additions": 7, "auther_ref": "autoPtrMemFix", "auther_sha": "c304144464f1006b143839e4c8f6bd8f2ea8db5f", "author": "makortel", "body": "#### PR description:\r\n\r\nROOT team informed us that the `auto_ptr` read rule recipe applied to a test in https://github.com/cms-sw/cmssw/pull/48817 contains a memory leak. This PR attempts to fix the memory leak. (I opened it as a draft because presently it seems to have a leak).\r\n\r\nRelated to https://github.com/cms-sw/cmssw/issues/43422, https://github.com/cms-sw/cmssw/issues/43923\r\nResolves https://github.com/cms-sw/framework-team/issues/1718\r\n\r\n#### PR validation:\r\n\r\nThe test runs. I modified the test to repeat the the 10-event file for 1000 times, and ran it through the [MaxMemoryPreload](https://github.com/cms-sw/cmssw/blob/master/PerfTools/MaxMemoryPreload/README.md). The code in `master` seems to have a ~42 B/event leak, but so seems to have the present version of this PR. Adding back the direct schema evolution from `auto_ptr`->`unique_ptr` does not leak.\r\n\r\n", "branch": "master", "changed_files": 2, "comments": 11, "commits": 1, "created_at": "1765553145", "deletions": 6, "labels": ["core-pending", "pending-signatures", "tests-approved", "orp-pending", "code-checks-approved", "changes-dataformats"], "milestone": "CMSSW_16_0_X", "number": 49621, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix memory leak in `auto_ptr` read rule test", "updated_at": "1765564948", "user": "makortel"}