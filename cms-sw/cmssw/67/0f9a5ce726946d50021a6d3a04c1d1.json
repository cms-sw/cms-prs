{"additions": 141, "auther_ref": "fix_RelMon_piecharts", "auther_sha": "8518d2025233ea642180726ca10d490585aa0862", "author": "AdrianoDee", "body": "#### PR description:\r\n\r\nThis PR proposes a solution to the decommissioning of [chart.googleapis.com](https://chart.googleapis.com/) used for RelMon reports, as discussed in https://github.com/cms-sw/cmssw/issues/44711 and  https://github.com/cms-sw/cmssw/issues/44969. Basically it replaces the google api with a js script relying on `Chart.js`.  I'm not an expert so there may be better solutions but it seems to work. \r\n\r\nBefore integrating it I would allow/ask PdmV developers to test it in a dev instance to see everything works (@ggonzr). I imagine also DQM people would like to test this (@cms-sw/dqm-l2, @nothingface0).\r\n\r\nSome further changes done to fix the gauge plots and to make the table more readable and scrollable. See e.g. https://cms-pdmv-prod.web.cern.ch/relmon/1715742438___CMSSW_14_1_0_pre3_Phase2_2026D110vsCMSSW_14_1_0_pre2_Phase2_2026D110/FullSimReport/RelMonSummary.html.\r\n\r\n![image](https://github.com/cms-sw/cmssw/assets/16901146/8128aeee-9e41-44af-95c7-633f9fdea25a)\r\n\r\n\r\n#### PR validation:\r\n\r\nI've tested locally the creation of a simple report using two generic DQM files from RelVals with\r\n\r\n``` \r\ncompare_using_files.py DQM_V0001_R000000001__RelValTTbar_14TeV__CMSSW_14_1_0_pre1-140X_mcRun3_2024_realistic_v1_STD_2024_PU-v1__DQMIO.root DQM_V0001_R000000001__RelValTTbar_14TeV__CMSSW_14_1_0_pre2-PU_140X_mcRun3_2024_realistic_v7_STD_2024_PU-v1__DQMIO.root -C -R -o Test \r\n```\r\n\r\nand the results seems working https://adiflori.web.cern.ch/adiflori/relmon_test/RelMonSummary.html\r\n", "branch": "master", "changed_files": 3, "comments": 18, "commits": 4, "created_at": "1715770774", "deletions": 73, "labels": ["dqm-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-pending"], "milestone": "CMSSW_14_1_X", "number": 44977, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix RelMon Piecharts using `Chart.js`", "updated_at": "1716794926", "user": "AdrianoDee"}