{"additions": 61, "auther_ref": "ianL1TrkValgrind", "auther_sha": "8e608c368276e9a7437c38412ef41ec60b65ee03", "author": "cms-L1TK", "body": "#### PR description:\r\n\r\nThe branch used for this PR was derived from CMSSW_16_0_X_2025-12-02-1100 .\r\n\r\nThe fixes here are memory leaks and undefined variables in the L1 tracking code discovered using valgrind. The hope is that this PR may prevent  the crash reported in https://github.com/cms-sw/cmssw/issues/49535 , although this is not proven. The valgrind command used was the following. This was done for the HYBRID, HYBRID_DISPLACED & HYBRID_NEWKF L1 tracking algorithms.\r\n\r\nvalgrind --track-origins=yes --leak-check=full --show-leak-kinds=definite --suppressions=${ROOTSYS}/etc/valgrind-root.supp --suppressions=$CMSSW_RELEASE_BASE/src/Utilities/ReleaseScripts/data/cms-valgrind-memcheck.supp cmsRun L1TrackNtupleMaker_cfg.py >&! valgrind.out\r\n\r\nA LogError message has also been added to the site of the crash reported in the issue, so that if it happens again, more diagnostic info will be available.\r\n\r\nFinally, protection has been added to HitPatternHelper.cc to stop it writing outside array bounds in case the L1 track hit pattern is buggy. A more profound fix will be included in a future PR.\r\n\r\nThe L1 tracking performance is unchanged according to the L1 track summary performance printout.\r\n", "branch": "master", "changed_files": 10, "comments": 14, "commits": 13, "created_at": "1764863985", "deletions": 33, "labels": ["l1-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_16_1_X", "number": 49550, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix memory leaks in L1 tracking found with Valgrind", "updated_at": "1766415646", "user": "tomalin"}