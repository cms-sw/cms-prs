{"additions": 25, "auther_ref": "dev-mt-106X", "auther_sha": "87869547d0adfb78edac6ab5d7655e40fbeeea76", "author": "colizz", "body": "#### PR description:\r\n\r\n<!-- Please replace this text with a description of the feature proposed or problem addressed, specifying:\r\n  - what changes are expected in the output if any, \r\n  - what other PRs or externals it depends upon if any,\r\n  - link to any additional material useful to provide a documentation for this PR (slides, JIRA tickets, related pull requestes, hypernews, TWiki or Indico pages)  -->\r\n\r\n**This PR is a backport from #30444**\r\n\r\n#### PR validation:\r\n\r\n<!-- Please replace this text with a description of which tests have been performed to verify the correctness of the PR, including the eventual addition of new code for testing like unit tests, test configurations, additions or updates to the runTheMatrix test workflows -->\r\n\r\nThe fix is on shell scripts, hence does not influence the CMSSW framework.\r\nWe tested the scripts on W+01234j and DY+01234j multi-jet processes to validate that the MG bug is solved.\r\n\r\n(A quick test for this PR on [`SMP-MultiValidationUL17wmLHEGEN-00001`](https://cms-pdmv.cern.ch/mcm/requests?prepid=SMP-MultiValidationUL17wmLHEGEN-00001&page=0&shown=127))\r\n```shell\r\ncmsrel CMSSW_10_6_X_2020-06-26-2300\r\ncd CMSSW_10_6_X_2020-06-26-2300/src/\r\ncmsenv\r\ngit cms-merge-topic colizz:dev-mt-106X\r\ncurl -s --insecure https://cms-pdmv.cern.ch/mcm/public/restapi/requests/get_fragment/SMP-MultiValidationUL17wmLHEGEN-00001 --retry 2 --create-dirs -o Configuration/GenProduction/python/SMP-MultiValidationUL17wmLHEGEN-00001-fragment.py \r\nscram b -j 8\r\ncd ../..\r\ncmsDriver.py Configuration/GenProduction/python/SMP-MultiValidationUL17wmLHEGEN-00001-fragment.py --fileout file:SMP-MultiValidationUL17wmLHEGEN-00001.root --mc --eventcontent RAWSIM,LHE --datatier GEN,LHE --conditions 106X_mc2017_realistic_v6 --beamspot Realistic25ns13TeVEarly2017Collision --step LHE,GEN --geometry DB:Extended --era Run2_2017 --python_filename SMP-MultiValidationUL17wmLHEGEN-00001_1_cfg.py --no_exec --customise Configuration/DataProcessing/Utils.addMonitoring -n 400 --nThreads 4\r\n\r\ncmsRun -e -j SMP-MultiValidationUL17wmLHEGEN-00001_rt.xml SMP-MultiValidationUL17wmLHEGEN-00001_1_cfg.py\r\n```", "branch": "CMSSW_10_6_X", "changed_files": 2, "closed_at": "1593494032", "comments": 9, "commits": 2, "created_at": "1593392745", "deletions": 23, "labels": ["comparison-available", "fully-signed", "generators-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "32c3438ffcc0a99092fe40013fd2cbb4cb0a4fcc", "merged_at": "1593494032", "merged_by": "cmsbuild", "milestone": "CMSSW_10_6_X", "number": 30445, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix the MadGraph bug for multithreading (backport #30444)", "updated_at": "1593494033", "user": "colizz"}