{"additions": 5, "auther_ref": "ConfigBuilderMaxAlCaLength", "auther_sha": "37a9df6af3883cce254a54c5c8b54762fc64726a", "author": "mmusich", "body": "#### PR description:\r\n\r\nThis PR is half-provocative, inspired by the discussion at https://cms-talk.web.cern.ch/t/alcaprompt-datasets-not-loaded-in-dbs/11146.\r\nSince this is the second time it happens in the CMS history  (see also this old [hypernew](https://hypernews.cern.ch/HyperNews/CMS/get/tier0-Ops/1439.html)) there should be a way to stop developers to create running configurations that must be abandoned because of the DBS database schema limitations only after these are put into production.\r\nPerhaps this could be generalized to other steps too.\r\n\r\n#### PR validation:\r\n\r\nTried using an alca name longer than 31 chars and obtained the exception:\r\n\r\n```console\r\nTraceback (most recent call last):\r\n  File \"/cvmfs/cms-ib.cern.ch/nweek-02735/slc7_amd64_gcc10/cms/cmssw/CMSSW_12_5_X_2022-05-30-2300/bin/slc7_amd64_gcc10/cmsDriver.py\", line 56, in <module>\r\n    run()\r\n  File \"/cvmfs/cms-ib.cern.ch/nweek-02735/slc7_amd64_gcc10/cms/cmssw/CMSSW_12_5_X_2022-05-30-2300/bin/slc7_amd64_gcc10/cmsDriver.py\", line 28, in run\r\n    configBuilder.prepare()\r\n  File \"/build/musich/massiverename/checkConfigBuilder/CMSSW_12_5_X_2022-06-01-1100/src/Configuration/Applications/python/ConfigBuilder.py\", line 2167, in prepare\r\n    self.addStandardSequences()\r\n  File \"/build/musich/massiverename/checkConfigBuilder/CMSSW_12_5_X_2022-06-01-1100/src/Configuration/Applications/python/ConfigBuilder.py\", line 790, in addStandardSequences\r\n    getattr(self,\"prepare_\"+stepName)(sequence = '+'.join(stepSpec))\r\n  File \"/build/musich/massiverename/checkConfigBuilder/CMSSW_12_5_X_2022-06-01-1100/src/Configuration/Applications/python/ConfigBuilder.py\", line 1282, in prepare_ALCA\r\n    raise Exception(\"The following alca \"+str(alca)+\" name (with length \"+str(len(alca))+\" chars) cannot be accepted because it exceeds the DBS constraints on the length of the name of the ALCARECOs producers (\"+str(MAXLEN)+\")!\")\r\nException: The following alca PromptCalibProdSiPixelLorentzAngle name (with length 34 chars) cannot be accepted because it exceeds the DBS constraints on the length of the name of the ALCARECOs producers (31)!\r\n\r\n```\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nN/A\r\n", "branch": "master", "changed_files": 1, "closed_at": "1654727948", "comments": 10, "commits": 1, "created_at": "1654112953", "deletions": 0, "labels": ["operations-approved", "fully-signed", "tests-approved", "orp-approved", "requires-external", "code-checks-approved"], "merge_commit_sha": "d747a8546f1d7b7312b6c747a42f9df911edb166", "merged_at": "1654727948", "merged_by": "cmsbuild", "milestone": "CMSSW_12_5_X", "number": 38189, "release-notes": [], "review_comments": 0, "state": "closed", "title": "`ConfigBuilder`: raise an exception if the name of the alca producer exceeds the DBS schema constraints", "updated_at": "1654748850", "user": "mmusich"}