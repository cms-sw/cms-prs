{"additions": 75, "auther_ref": "axol1tl_emulator_modelfrommenupr", "auther_sha": "0fc9b8d9cd9e0633ae3f4a37b59f6ec58ee3da90", "author": "quinnanm", "body": "#### PR description:\r\n\r\nThis PR changes the AXOL1TL emulator to fetch the model version from the menu xml rather than the configuration file (as is done currently here [1]). This allows for the model version included in the menu/firmware to be automatically rather than manually set in the emulator to correspond with the correct model version in cms-dist externals [2].  This was proposed to avoid model mismatch errors due to human error. \r\n\r\nThis PR requires the implementation of utm v0.12.0 [3], and should be merged once that is updated to be the default utm version/configuration. It is not compatible with previous utm versions due to changes in condition types (*if AXOL1TL conditions are included in the  menu xml). This PR does not change the default AXOL1TL model version, which is currently v3 [4][5]. \r\n\r\n#### PR validation:\r\n\r\nChanges were tested with the updated utm using the recipe described here [6]. A testing branch corresponding to this recipe is here [7]. This uses a test xml file for the new utm provided here [8], which is based on this example but with cicada and topo conditions removed [9]. Code-format changes were made, and it passes basic code-checks. \r\n\r\nThis update is scheduled to be presented in an upcoming Feb 26 L1DPG weekly meeting [10].\r\n\r\nMany thanks to Bernhard Arnold and the l1t menu team for their work in adding model versioning capabilities to the utm, and to the L1DPG team and other contributors for their suggestions for this setup. \r\n\r\n[1] https://github.com/cms-sw/cmssw/blob/master/L1Trigger/L1TGlobal/python/simGtStage2Digis_cfi.py#L19\r\n[2] https://github.com/cms-hls4ml/AXOL1TL/tags\r\n[3]https://globaltrigger.web.cern.ch/globaltrigger/release/utm/latest_doc/html/releaseNotes/v0_12_0.html\r\n[4] https://github.com/cms-hls4ml/AXOL1TL/releases/tag/v3.0.0\r\n[5] https://github.com/cms-sw/cmssw/pull/43791\r\n[6] https://codimd.web.cern.ch/s/q5TiuMfD7 \r\n[7]https://github.com/quinnanm/cmssw/tree/emulator_20feb24\r\n[8]https://raw.githubusercontent.com/quinnanm/cmssw/emulator_20feb24/L1Trigger/L1TGlobal/data/Luminosity/startup/L1Menu_Collisions2024_AXO_TOPO_CICADA_v1_0_0_mod.xml\r\n[9] https://cernbox.cern.ch/files/link/public/LeBbgndwFDjWoI5?tiles-size=1&items-per-page=100&view-mode=resource-table\r\n[10] https://indico.cern.ch/category/2091/\r\n\r\n", "branch": "master", "changed_files": 9, "comments": 36, "commits": 11, "created_at": "1708569368", "deletions": 25, "labels": ["l1-pending", "hlt-pending", "pending-signatures", "tests-rejected", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_14_1_X", "number": 44054, "release-notes": [], "review_comments": 44, "state": "open", "title": "Get AXOL1TL model version from menu as of utm v0.12.0", "updated_at": "1710171840", "user": "quinnanm"}