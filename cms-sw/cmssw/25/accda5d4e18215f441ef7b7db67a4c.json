{"additions": 45, "auther_ref": "selectorFillDescriptions_v2", "auther_sha": "13151663bfd9c129dbd2480dfc086866c9ce4127", "author": "makortel", "body": "Following the discussion in #21241 I cooked up another prototype of an fillDescriptions implementation for generic selectors (wrt. #21430).\r\n\r\nIdea is to provide a hook for user providing the full `fillDescriptions(edm::ConfigurationDescriptions&)` implementation. In this PR the hook is implemented as a \"traits\" class template that is specialized for each selector EDModule a `fillDescriptions` is wanted. I wanted to leave also a possibility of not specifying the `fillDescriptions` (which is the default) so that I wouldn't have to implement it for the gazillion selectors that are defined but not used (within CMSSW at least).\r\n\r\nCompared to #21430:\r\n* Pros\r\n   * Simpler to implement (probably also to understand and maintain)\r\n   * Implementation of per-module fillDescriptions closer to the standard way (in cases where #21430 the defaults need to be changed)\r\n   * Allows generation of multiple cfi files (e.g. with different defaults)\r\n* Cons\r\n  * Need to provide the specialization explicitly for each selector template instantiation\r\n  * Can lead to copy-paste between instantiations that have same components\r\n     * Copy-paste can be mitigated with e.g. another hierarchy of functions that add the common parameters (leading to further mess?)\r\n  * Can go out of synch wrt. parameters that are actually used\r\n     * Probably not a problem for simple selectors, but I'm thinking cases like this\r\n       * https://github.com/cms-sw/cmssw/blob/master/CommonTools/RecoAlgos/plugins/RecoTrackSelector.cc\r\n       * https://github.com/cms-sw/cmssw/blob/master/CommonTools/RecoAlgos/interface/RecoTrackSelector.h\r\n       * https://github.com/cms-sw/cmssw/blob/master/CommonTools/RecoAlgos/interface/RecoTrackSelectorBase.h\r\n\r\n\r\nI've tested in 10_0_0_pre1 that the PR compiles and wf 10024.0 runs. No changes are expected in monitored quantities.", "branch": "master", "changed_files": 2, "closed_at": "1511791065", "comments": 10, "commits": 2, "created_at": "1511426964", "deletions": 0, "labels": ["analysis-pending", "code-checks-approved", "comparison-available", "orp-pending", "pending-signatures", "reconstruction-pending", "tests-approved"], "milestone": "CMSSW_10_0_X", "number": 21443, "release-notes": [], "review_comments": 7, "state": "closed", "title": "[RFC] Another prototype of fillDescriptions for generic selectors", "updated_at": "1511791065", "user": "makortel"}