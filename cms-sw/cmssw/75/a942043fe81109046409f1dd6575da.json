{"additions": 8, "auther_ref": "gpuFlags_12_6_X", "auther_sha": "6ae734497e1cad966f13eea45e43197dbcd07322", "author": "alejands", "body": "#### PR description:\r\n\r\nThe `GpuTask` switches for toggling individual collections were not being checked before the collection tags were consumed. The initial check is done here:\r\nhttps://github.com/cms-sw/cmssw/blob/e5ac8e997d5565e91eea5eaa91884a2b17a0fde4/DQM/EcalMonitorTasks/plugins/EcalDQMonitorTask.cc#L46-L48\r\n`task->analyze()` here needs to return `false` so the collections aren't consumed.\r\n\r\nThe `consumes` functions are then called here:\r\nhttps://github.com/cms-sw/cmssw/blob/e5ac8e997d5565e91eea5eaa91884a2b17a0fde4/DQM/EcalMonitorTasks/plugins/EcalDQMonitorTask.cc#L64\r\n\r\nThe switches are moved to make sure that unused collections are not consumed if they are individually toggled.\r\n\r\n#### PR validation:\r\n\r\nCode compiles. The switches are now in the same spot as the \"master\" switch `runGpuTask` which we already know functions as expected.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nBackports made to 12_5_X and 12_4_X to use the fix in production.\r\n- https://github.com/cms-sw/cmssw/pull/39372\r\n- https://github.com/cms-sw/cmssw/pull/39373\r\n", "branch": "master", "changed_files": 2, "comments": 5, "commits": 1, "created_at": "1663004143", "deletions": 32, "labels": ["dqm-pending", "pending-signatures", "orp-pending", "tests-started", "bug-fix", "code-checks-approved", "ecal"], "milestone": "CMSSW_12_6_X", "number": 39371, "release-notes": [], "review_comments": 0, "state": "open", "title": "ECAL DQM GpuTask move enable flag checks to avoid unused collections from being consumed", "updated_at": "1663041034", "user": "alejands"}