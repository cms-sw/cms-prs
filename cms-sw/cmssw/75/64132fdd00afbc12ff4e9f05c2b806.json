{"additions": 4, "auther_ref": "mgfragmentSL7", "auther_sha": "10ab39511d492c80f1f9f4385190a1ee497a801f", "author": "qliphy", "body": "Set SCRAM_ARCH and Release to 'slc6_amd64_gcc530','CMSSW_8_4_0' for several MG workflows (512, 513)\r\n\r\nFor 562.0 (BulkG_ZZ_2L2Q_M1200_narrow_13TeV_pythia8),  it is  a bit more complicated, as the original gridpack was made with 7_1_30 and lhapdf 6.2.1.    While at 8_X,  lhapdf is 6.1.6 which doesn't contain several 4f PDF.   Thus I recompile the SysCalc inside the gridpack and repack it, with the details as following, which I think can also be used for other old gridpacks to make them work under SL7:\r\n\r\nset an SL7 environment \r\nuntar gridpack\r\ncd mgbasedir/SysCalc/\r\nLHAPDFCONFIG=`echo \"$LHAPDF_DATA_PATH/../../bin/lhapdf-config\"`\r\nPATH=`${LHAPDFCONFIG} --prefix`/bin:${PATH} make\r\n\r\nOption:  UPDATE  cmssw_version and scram_arch_version in runcmsgrid.sh  to CMSSW_10_3_0 and slc6_amd64_gcc700\r\n\r\nXZ_OPT=\"--lzma2=preset=9,dict=512MiB\" tar -cJpsf YOURS.tar.xz mgbasedir process runcmsgrid.sh gridpack_generation.log InputCards\r\n", "branch": "master", "changed_files": 3, "comments": 1, "commits": 1, "created_at": "1541211439", "deletions": 3, "labels": ["code-checks-pending", "comparison-pending", "generators-pending", "orp-pending", "pending-signatures", "tests-pending"], "milestone": "CMSSW_10_4_X", "number": 25116, "release-notes": [], "review_comments": 0, "state": "open", "title": "update fragment for MadGraph Workflow at SL7", "updated_at": "1541211455", "user": "qliphy"}