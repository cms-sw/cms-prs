{"additions": 4, "auther_ref": "mgfragmentSL7", "auther_sha": "bdd502770eef2df1aa2d5d630f2697d156b2fc35", "author": "qliphy", "body": "Set SCRAM_ARCH and Release to 'slc6_amd64_gcc530','CMSSW_8_4_0' for several MG workflows (512, 513)\r\n\r\nFor 562.0 (BulkG_ZZ_2L2Q_M1200_narrow_13TeV_pythia8),  it is  a bit more complicated, as the original gridpack was made with 7_1_30 and lhapdf 6.2.1.    While at 8_X,  lhapdf is 6.1.6 which doesn't contain several 4f PDF.   Thus I recompile the SysCalc inside the gridpack and repack it, with the details as following, which I think can also be used for other old gridpacks to make them work under SL7:\r\n\r\nset an SL6 environment  (930 and amd64_gcc630) to recompile SysCalc \r\nLHAPDFCONFIG=`echo \"$LHAPDF_DATA_PATH/../../bin/lhapdf-config\"`\r\nPATH=`${LHAPDFCONFIG} --prefix`/bin:${PATH} make\r\n\r\nuntar gridpack\r\nreplace\r\nmgbasedir/SysCalc/sys_calc\r\n\r\nOption:  UPDATE  cmssw_version and scram_arch_version in runcmsgrid.sh  to CMSSW_9_3_0 and slc6_amd64_gcc630\r\n\r\nXZ_OPT=\"--lzma2=preset=9,dict=512MiB\" tar -cJpsf YOURS.tar.xz mgbasedir process runcmsgrid.sh gridpack_generation.log InputCards\r\n", "branch": "master", "changed_files": 3, "closed_at": "1541407359", "comments": 24, "commits": 2, "created_at": "1541211439", "deletions": 3, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "generators-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "d4347d3043ce4b87e57f7a6adee611315c82568f", "merged_at": "1541407359", "merged_by": "cmsbuild", "milestone": "CMSSW_10_4_X", "number": 25116, "release-notes": [], "review_comments": 0, "state": "closed", "title": "update fragment for MadGraph Workflow at SL7", "updated_at": "1541407359", "user": "qliphy"}