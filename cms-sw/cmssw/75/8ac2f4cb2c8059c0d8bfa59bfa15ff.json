{"additions": 174, "auther_ref": "perfConditionalTask", "auther_sha": "12768d311ba19a80c3d7d51cc1d26db7b8632d41", "author": "makortel", "body": "#### PR description:\r\n\r\nProfiling https://github.com/cms-sw/cmssw/issues/38725 in https://mkortela.web.cern.ch/mkortela/cgi-bin/navigator/issue38725/hlt_ConditionalTask_06_perf/12 showed that a lot of time in an HLT job was spent in `edm::ParameterSet::getParameter<edm::ParameterSet>()` and `edm::detail::processEDAliases()`. These seemed to be caused by the processing of EDAliases and SwitchProducers for ConditionalTasks being repeated for all the Paths of the HLT menu (e.g. the SwitchProducer loop has N(paths) x N(modules)  overall complexity).\r\n\r\nThis PR attempts to speed up the job startup time by processing the EDAliases and SwitchProducers for ConditionalTasks only once for all Paths, leading to > 10x improvement in the `StreamSchedule` constructor\r\nhttps://mkortela.web.cern.ch/mkortela/cgi-bin/navigator/issue38725/hlt_ConditionalTask_36_perf/12\r\nbringing the time close to what it would be if the HLT menu would use Tasks instead of ConditionalTasks\r\nhttps://mkortela.web.cern.ch/mkortela/cgi-bin/navigator/issue38725/hlt_Task_06_perf/12\r\n\r\nResolves #38725\r\n\r\n#### PR validation:\r\n\r\nFramework unit tests run.", "branch": "master", "changed_files": 2, "comments": 5, "commits": 1, "created_at": "1657738052", "deletions": 95, "labels": ["core-pending", "pending-signatures", "tests-approved", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_12_5_X", "number": 38730, "release-notes": [], "review_comments": 0, "state": "open", "title": "Preprocess EDAlias and SwitchProducer information for ConditionalTask", "updated_at": "1657757589", "user": "makortel"}