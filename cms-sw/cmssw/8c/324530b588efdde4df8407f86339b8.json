{"additions": 16, "auther_ref": "CacheFunctionReturnTypes", "auther_sha": "19e09f64cfa27e090ae13064a3c53d1efa747b7d", "author": "wmtan", "body": "relval 25 step 3 ran 20% slower per event in ROOT6 that in ROOT5.  Much of the problem was traced to FunctionWithDict::finalReturnType(), which constructed a TypeWithDict from the name of the function's  return type every time it was called.   Simply caching the return types in a concurrent_unordered_map reduced the run time of finalReturnType() by two orders of magnitude, and recovered most or all of the 20% performance deficit.\nPlease merge this pull request as soon as convenient.\n", "branch": "CMSSW_7_4_ROOT6_X", "changed_files": 3, "closed_at": "1420585405", "comments": 1, "commits": 1, "created_at": "1420581772", "deletions": 3, "labels": ["analysis-pending", "comparison-pending", "core-pending", "pending-signatures", "reconstruction-pending", "tests-pending"], "merge_commit_sha": "66e74b792016c1e5e5795654ef38c40cba33f28f", "merged_at": "1420585405", "merged_by": "davidlt", "number": 7058, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Cache function return types", "updated_at": "1420585801", "user": "wmtan"}