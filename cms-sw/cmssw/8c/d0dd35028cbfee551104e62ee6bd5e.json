{"additions": 629, "auther_ref": "gainTHstack_102X", "auther_sha": "82449e4eaaea329e798f275c795d4764f098927e", "author": "mmusich", "body": "#### PR description:\r\n\r\nThe purpose of this PR is to introduce several improvements and clean-ups into the SiStrip payload inspector classes and builds on top of https://github.com/cms-sw/cmssw/pull/37265 and https://github.com/cms-sw/cmssw/pull/37333:\r\n   * d29103bd0410d15609b8a03629e6379aa5478d55 adds a `THStack` plot for the gains broken down by subdetector.\r\n   * b07b4015e0a7f857a17ccbb3af0327ad89804d6f and 86d19b1c19f9bff9bf6a64d9a69abb8ae3908fff streamline the code in order to adhere to more modern pattern employed in other classes in the same package.\r\n   * 4be848be2675a6e0ad0be29cde80761172812b70 rationalizes the usage of `TrackerMaps` for the `SiStripDetVOff` object by using class templates\r\n   * 66339a9158c854deec2249017506f4cbb2f35407 and ab32dc477066cc72735735834f85c64264974114 perform the infrastructural changes to percolate the tag names into the `SiStripCondObjectRepresent` classes.\r\n   * finally I profit of this PR to propose d21c579baad42bc40bc4ef55ccc41fcfbb7e6d91 as well, which instead is related to the Tracker Alignment inspectors (graphical improvements of the legends)\r\n\r\n#### PR validation:\r\n\r\nThe touched classes were tested privately with e.g. the following commands:\r\n\r\n```console\r\ngetPayloadData.py --plugin pluginSiStripNoises_PayloadInspector --plot plot_SiStripNoiseCompareByPartition --tag SiStripNoise_v2_prompt --tagtwo SiStripNoise_v2_prompt --time_type Run --iovs '{\"start_iov\": \"348878\", \"end_iov\": \"348878\"}' --iovstwo '{\"start_iov\": \"349927\", \"end_iov\": \"349927\"}' --db Prod --test ;\r\n```\r\n![b30334e2-6ca8-462e-b9e7-8926c16865e2](https://user-images.githubusercontent.com/5082376/162231704-41b9b02c-7ea1-4cb8-861c-c91dcecaf7dc.png)\r\n\r\n\r\n```console\r\netPayloadData.py --plugin pluginSiStripNoises_PayloadInspector --plot plot_SiStripNoiseDiffByPartition --tag SiStripNoise_v2_prompt --tagtwo SiStripNoise_v2_prompt --time_type Run --iovs '{\"start_iov\": \"348878\", \"end_iov\": \"348878\"}' --iovstwo '{\"start_iov\": \"349927\", \"end_iov\": \"349927\"}' --db Prod --test ;\r\n```\r\n![cf6480fe-399e-4778-950a-6586cfbd6af1](https://user-images.githubusercontent.com/5082376/162231721-0b7a55d3-44ac-48e5-a082-bc2a2faa0af6.png)\r\n\r\n\r\n```console\r\ngetPayloadData.py --plugin pluginSiStripDetVOff_PayloadInspector --plot plot_SiStripDetVOff_IsModuleVOff_TrackerMap --tag SiStripDetVOff_v6_prompt --time_type Time --iovs '{\"start_iov\": \"7083471724997514240\", \"end_iov\": \"7083471724997514240\"}' --db Prod --test ;\r\n```\r\n![52b055e5-0b8f-4651-a267-46525a441fcb](https://user-images.githubusercontent.com/5082376/162231745-33c8aec5-5435-435c-bfb9-f37ecaa903a5.png)\r\n\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nN/A", "branch": "master", "changed_files": 9, "comments": 8, "commits": 7, "created_at": "1649337075", "deletions": 372, "labels": ["db-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved"], "milestone": "CMSSW_12_4_X", "number": 37492, "release-notes": [], "review_comments": 0, "state": "open", "title": "SiStrip Payload Inspector: refinements to `SiStripCondObjectRepresent`", "updated_at": "1649350255", "user": "mmusich"}