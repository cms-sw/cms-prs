{"additions": 24, "auther_ref": "UBSAN_SimpleJetCorrector", "auther_sha": "6f1b16e81db40102ad2c425d8c12d1139c0287bc", "author": "laurenhay", "body": "#### PR description:\r\n\r\nProtect against zero-sized array created in SimpleJetCorrector causing runtime error in UBSAN build pointed out in issue #35005 .\r\n\r\nHas apparently been working in regular release by taking advantage of C++ memory allocation. In a corner case creates an array of size 0, sets a value in the zeroth element, and reads it out a few lines later, and seems to have been working fairly robustly in regular releases. \r\nFix was fairly simple -- in case where the array size was set to zero by the prior logic make sure it's one.\r\n\r\n#### PR validation:\r\n\r\nRan 11603.0 workflow in 12_6_0_pre2 and compared corrected jet collections in root files before and after change.\r\nAlso ran in CMSSW_12_6_UBSAN_X_2022-09-16-1100 and verified that the runtime error does not occur anymore after fix in this PR.\r\n\r\n@tvami @rappoccio \r\n", "branch": "master", "changed_files": 1, "closed_at": "1664251246", "comments": 25, "commits": 1, "created_at": "1663765870", "deletions": 18, "labels": ["fully-signed", "tests-approved", "db-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "185fd986fa1ab007e299fbbc0f34588995621a59", "merged_at": "1664251246", "merged_by": "cmsbuild", "milestone": "CMSSW_12_6_X", "number": 39471, "release-notes": [], "review_comments": 9, "state": "closed", "title": "Fix for UBSAN runtime error in CondFormats/JetMETObjects/src/SimpleJetCorrector.cc", "updated_at": "1664251246", "user": "laurenhay"}