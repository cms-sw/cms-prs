{"additions": 229, "auther_ref": "eghlt_phaseout_calotower", "auther_sha": "f79825018b666450833f1cc5955950130ba96fbe", "author": "swagata87", "body": "#### PR description:\r\nThis PR adds a new HLT producer which uses HBHE recHits directly to produce H for H/E and HCAL isolation of e/gamma objects. The old producer, which used calotowers to produce those variables, will still be available. This change in HLT is a follow up of what has already been done in offline e/gamma by @afiqaize in \r\nPR: https://github.com/cms-sw/cmssw/pull/33666\r\nrelevant HN post: https://hypernews.cern.ch/HyperNews/CMS/get/egamma/2475.html\r\n\r\n#### PR validation:\r\nRan e/gamma HLT including the new producer. \r\nRelevant config (to produce single HCAL tower based H for H/E):\r\n```\r\nprocess.hltEgammaHoverESingleTowernew = cms.EDProducer( \"EgammaHLTHcalVarProducerFromRecHit\",\r\n    recoEcalCandidateProducer = cms.InputTag( \"hltEgammaCandidates\" ),\r\n    rhoProducer = cms.InputTag( \"hltFixedGridRhoFastjetAllCaloForMuons\" ),\r\n    doRhoCorrection = cms.bool( False ),\r\n    rhoMax = cms.double( 9.9999999E7 ),\r\n    rhoScale = cms.double( 1.0 ),\r\n    innerCone = cms.double( 0.0 ),\r\n    outerCone = cms.double( 0.0 ),\r\n    doEtSum = cms.bool( False ),\r\n    useSingleTower = cms.bool( True ),\r\n    hbheRecHitsTag = cms.InputTag( \"hltHbhereco\" ),\r\n    effectiveAreas = cms.vdouble( 0.105, 0.17 ),\r\n    absEtaLowEdges = cms.vdouble( 0.0, 1.479 )\r\n)\r\n\r\n```\r\nThen compared it with results obtained from old producer; by running on \r\n\r\n1)DY events\r\n<img width=\"988\" alt=\"Screen Shot 2021-08-27 at 18 04 45\" src=\"https://user-images.githubusercontent.com/5052706/131156357-461b5018-d041-49e2-aec0-0ff1129e4111.png\">\r\n\r\n2)QCD(Pt>600 GeV) events\r\n<img width=\"867\" alt=\"Screen Shot 2021-08-27 at 18 33 27\" src=\"https://user-images.githubusercontent.com/5052706/131160008-d88df141-5eeb-4ac9-8256-120563dfdb66.png\">\r\n\r\nNote that an exact match is not expected, as the calotower creation logic is slightly different than what we are doing here with recHits directly. \r\n\r\nThis PR is not a backport. \r\nBackport is not needed.\r\n", "branch": "master", "changed_files": 1, "closed_at": "1630481833", "comments": 19, "commits": 8, "created_at": "1630075064", "deletions": 0, "labels": ["hlt-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "bf1449b7e850d07961c300205a89b35cb416c802", "merged_at": "1630481833", "merged_by": "cmsbuild", "milestone": "CMSSW_12_1_X", "number": 35049, "release-notes": [], "review_comments": 7, "state": "closed", "title": "[EGM HLT] Phase out calotower & use HCAL recHits directly", "updated_at": "1630481833", "user": "swagata87"}