{"additions": 14, "auther_ref": "from-CMSSW_10_6_30-backportMultiAncestorFilter2", "auther_sha": "4f99d5860ff9371c189b608089f3cfa7362b9d78", "author": "mhuwiler", "body": "#### PR description:\r\n\r\nBackport of #33491 \r\n\r\nIn this PR we address a design problem of PythiaFilterMultiAncestor.cc, where charge conjugation is implicitly assumed by default for the particle under investigation\r\nhttps://github.com/cms-sw/cmssw/blob/master/GeneratorInterface/GenFilters/plugins/PythiaFilterMultiAncestor.cc#L147\r\nfor its ancestor\r\nhttps://github.com/cms-sw/cmssw/blob/master/GeneratorInterface/GenFilters/plugins/PythiaFilterMultiAncestor.cc#L122\r\n, but it is not for its daughters.\r\nhttps://github.com/cms-sw/cmssw/blob/master/GeneratorInterface/GenFilters/plugins/PythiaFilterMultiAncestor.cc#L190\r\n\r\nThe problem was noticed in some private tests and should not affect any samples produced so far using this filter (which in fact is just a limited number of samples for a specific analysis and they are not affected because in that case it was based on a Jpsi->mumu decay).\r\nHowever, a backport to 10_6 (and 11?) would be good to avoid having production releases where the filter behaves in an unintended way.\r\n\r\n#### PR validation:\r\n\r\nThe problem was noticed when using the filter to enforce D0->K-pi+ decay.\r\n\r\nD0ToKpiFromDstFilter = cms.EDFilter(\r\n    \"PythiaFilterMultiAncestor\",\r\n    DaughterIDs     = cms.untracked.vint32 ( -321,   211), # K-, pion+ \r\n    DaughterMaxEtas = cms.untracked.vdouble( 1.e9,  1.e9),\r\n    DaughterMaxPts  = cms.untracked.vdouble( 1.e9,  1.e9),\r\n    DaughterMinEtas = cms.untracked.vdouble(-1.e9, -1.e9),\r\n    DaughterMinPts  = cms.untracked.vdouble(-1.0 , -1.0 ),\r\n    MaxEta          = cms.untracked.double ( 99.0),\r\n    MinEta          = cms.untracked.double (-99.0),\r\n    MinPt           = cms.untracked.double (-1.0),\r\n    MotherIDs       = cms.untracked.vint32 (413), # D*+\r\n    ParticleID      = cms.untracked.int32  (421) # D0\r\n)\r\nOnly one charge combination was present, but not the cc. The fix proposed here implements the correct behaviour.", "branch": "CMSSW_10_6_X", "changed_files": 1, "closed_at": "1645855514", "comments": 7, "commits": 2, "created_at": "1645746106", "deletions": 1, "labels": ["generators-approved", "fully-signed", "tests-approved", "orp-approved"], "merge_commit_sha": "c86fcb3bfafb1089a873558d087b89d432bc0c23", "merged_at": "1645855513", "merged_by": "cmsbuild", "milestone": "CMSSW_10_6_X", "number": 37065, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Backport PythiaFiltertMultiAncestor fix to CMSSW_10_6 releases", "updated_at": "1645855514", "user": "mhuwiler"}