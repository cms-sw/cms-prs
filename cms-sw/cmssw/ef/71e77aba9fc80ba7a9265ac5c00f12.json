{"additions": 1, "auther_ref": "smuzaffar-patch-3", "auther_sha": "81ae5444a5abf76b3a392779d276dbec7a76eb35", "author": "cms-sw", "body": "#### PR description:\r\n\r\n11.1.0.pre3 build are failing with error [a]. Looks like, while building release, clang returns something like\r\n```\r\nclang --version | grep 'clang version'\r\nclang version 9.0.1 (/data/cmsbld/jenkins/workspace/auto-builds/CMSSW_11_1_0_pre3-slc7_amd64_gcc900/build/CMSSW_11_1_0_pre3-build/BUILD/slc7_amd64_gcc900/external/llvm/9.0.1/llvm-9.0.1-379a43bc841451feccf78db64f2ed5c9e62c7de8/clang 9979c02b51651889403625605dbd1409249d29fd)\r\n```\r\nnote the extra `(...)` part which breaks `condformats_serialization_generate.py`. No idea why it is not failing for IBs where clang properly returns\r\n```\r\n>pwd\r\n/build/muz/d/CMSSW_11_1_X_2020-02-12-2300\r\n>clang --version | grep 'clang version'\r\nclang version 9.0.1\r\n```\r\n\r\nthis change makes sure that we only process the first part of version starting. We need to get this in as soon as possible to get going with 11.1.0.pre3 build\r\n\r\n[a]\r\n```\r\nFile \".../CMSSW_11_1_0_pre3/src/CondFormats/Serialization/python/condformats_serialization_generate.py\", line 355, in get_clang_version\r\n(clang_version_major, clang_version_minor, clang_version_patchlevel) = subprocess.check_output(command, shell=True).splitlines()[0].decode('ascii').strip().split('.', 3) ValueError: too many values to unpack\r\n```", "branch": "master", "changed_files": 1, "closed_at": "1581584372", "comments": 11, "commits": 1, "created_at": "1581575904", "deletions": 1, "labels": ["code-checks-approved", "comparison-available", "db-pending", "orp-approved", "pending-signatures", "tests-approved", "urgent"], "merge_commit_sha": "5d6b99473e26e17fc9f364255369e3f9cc7db4f7", "merged_at": "1581584371", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 28947, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[URGENT] fix for getting clang version which is breaking 11.1.0.pre3 release", "updated_at": "1581586375", "user": "smuzaffar"}