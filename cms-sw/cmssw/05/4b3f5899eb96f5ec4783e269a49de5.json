{"additions": 50, "auther_ref": "Temp_reco_memfix", "auther_sha": "98ba6b3d8b2d7e88050ec089fbaef24d481fafc9", "author": "OzAmram", "body": "This is a fix for the issue reported a few days ago: https://github.com/cms-sw/cmssw/issues/27685.\r\n\r\nThis out of bounds memory write could happen if there was a very large cluster that essentially filled up the whole length of the cluster matrix and this clusters center was 'misaligned' with the templates expectation. The code previously checked for these oversized clusters and return an error if it found them but this was after a memory write happened. This fix, from Morris, does the check before any writing happens so that no invalid writes can happen. \r\n\r\nI would expect that there is no difference in output after this change. The same clusters will still get the same error and the invalid write was only to the local stack of the function, which should have been returning very soon anyway so it likely caused no real damage. \r\n\r\n@Dr15Jones @mmusich @tsusa @pmaksim1 @cmantill @tvami \r\n", "branch": "master", "changed_files": 1, "closed_at": "1565459024", "comments": 13, "commits": 2, "created_at": "1565115451", "deletions": 31, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "a64c82535e4ec7a95b6dd35df18f261a76065bb3", "merged_at": "1565459024", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 27705, "release-notes": [], "review_comments": 0, "state": "closed", "title": "TemplateReco: Fix out of bounds memory write for very large clusters", "updated_at": "1565459024", "user": "OzAmram"}