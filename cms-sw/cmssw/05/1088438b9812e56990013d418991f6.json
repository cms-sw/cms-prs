{"additions": 33, "auther_ref": "fix_splitVertices_141x", "auther_sha": "e746fdf0f9de50bd9f73dc373e4859d11f296fe5", "author": "fwyzard", "body": "#### PR description:\r\n\r\nAdd\r\n```c++\r\nalpaka::syncBlockThreads(acc);\r\n```\r\nat the end of the loop on the vertices to ensure that all threads are properly synchronised before resetting the shared memory.\r\n\r\nClean up the kernel to use the SoA accessors and the `cms::alpakatools` utilities.\r\n\r\n#### PR validation:\r\n\r\nRunning with `compute-sanitizer --tool=racecheck` does not war any more about a potential race condition in `splitVertices()`.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nTo be backport to 14.0.x for data taking.", "branch": "master", "changed_files": 1, "comments": 4, "commits": 1, "created_at": "1722966675", "deletions": 48, "labels": ["reconstruction-pending", "pending-signatures", "orp-pending", "tests-started", "bug-fix", "code-checks-pending", "tracking"], "milestone": "CMSSW_14_1_X", "number": 45656, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix a race condition in splitVertices", "updated_at": "1722966736", "user": "fwyzard"}