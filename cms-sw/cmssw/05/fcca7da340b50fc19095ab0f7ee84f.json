{"additions": 0, "auther_ref": "73X_xsec_new", "auther_sha": "c84bd13cc3c6bc1b526f3763863a3da7f7afc2fc", "author": "syuvivida", "body": "Previous version could only combine files with exactly the same number of LHE processes or when the samples are pure parton-shower MC. For pure parton shower MC, given that the uncertainty of cross section was set to -1, the weighted average was computed by assigning weight = number of events.\n\nHowever, we could have two files that come from the same physics, and contain different number of LHE processes (for example, one contains process 0 and 1 and the other contains process 0, 1, 2).\n\nIn order to take this into account properly, there is a minor change in GenLumiInfoProduct, \nand a major change in GenXSecAnalyzer. \n\nIn addition, there is an update regarding the combination of parton-shower MC samples. Previous version computes the combined cross section before GenFilter and multiply the combined cross sections with overall GenFilter efficiency. The updated version obtains the product of GenFilter efficiency and cross section first, then, do an weighted average to get the combined cross section.\n\nThere is also a dummy change in LHERunInfo.cc (which gives the same result as before). \nAutomatically ported from CMSSW_7_3_X #6563\n", "branch": "CMSSW_7_4_X", "changed_files": 0, "closed_at": "1418002037", "comments": 4, "commits": 0, "created_at": "1417004652", "deletions": 0, "labels": ["comparison-pending", "fully-signed", "generators-approved", "tests-approved"], "merge_commit_sha": "5ec6f7e44dd769e14b8a70adc5a49ae7693d9c35", "merged_at": "1418002037", "merged_by": "cmsbuild", "milestone": "Next CMSSW_7_4_X", "number": 6624, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Updated GenXSecAnalyzer and GenLumiInfoProduct for combining files correctly", "updated_at": "1418002037", "user": "cmsbuild"}