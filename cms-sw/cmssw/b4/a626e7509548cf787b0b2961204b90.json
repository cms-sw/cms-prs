{"additions": 33, "auther_ref": "Phase2-WF1", "auther_sha": "5dda3826d56fea2892319a8243d443da2e0b5967", "author": "kpedro88", "body": "This is the promised \"workflow fix\" PR for Phase2. This is just meant to get some things nominally working before 8_1_0_pre3. Further reorganizations will come later.\n\nMajor changes:\n1. local reco workflows now use full local reco instead of just tracker local reco\n2. 2023 workflows now use the Phase2 era\n3. rename 2023dev -> 2023tilted\n\nVarious bug fixes/customizations/patches:\n1. turn off `useLumiInfoRunHeader` in `ecalMultiFitUncalibRecHit` to fix ECAL `bunchSpacingProducer` exception\n2. turn off all \"recover\" options in `ecalRecHit` to avoid use of [EcalRecHitWorkerRecover](https://github.com/cms-sw/cmssw/blob/CMSSW_8_1_X/RecoLocalCalo/EcalRecProducers/plugins/EcalRecHitWorkerRecover.cc), which has non-optional use of EcalEndcapGeometryRecord that causes an exception in Phase2 geometries (a better fix for this should come later)\n3. additional ZDC customization to handle lack of DIGI2RAW/RAW2DIGI for HCAL\n4. temporary fix from @jshlee to prevent ME0 crash\n\nKnown warnings:\n1. Expected since HEback isn't set up in the hexagonal geometry yet:\n\n```\n%MSG-e HGCDigitizer:  MixingModule:mix 20-Apr-2016 02:57:06 CDT Run: 1 Event: 1\n @ accumulate : can't find HGCHitsHEback collection of g4SimHits\n```\n\n2. CSC people are looking into this one, the actual file address is `/cvmfs/cms-ib.cern.ch/2016-17/slc6_amd64_gcc530/cms/CSCTrackFinderEmulation/1.2/data/L1Trigger/CSCTrackFinder/data/core_2014_05_15/comp_dphi_8.dat` with a slash between data and L1Trigger:\n\n```\nCannot read file: /cvmfs/cms-ib.cern.ch/2016-17/slc6_amd64_gcc530/cms/CSCTrackFinderEmulation/1.2/dataL1Trigger/CSCTrackFinder/data/core_2014_05_15/comp_dphi_8.dat, addr: 0\n```\n\nI tested this using the normal and tilted FourMuPt1_200 upgrade workflows:\n\n```\nrunTheMatrix.py -w upgrade -l 11000.0 > & matrix_11000.log &\nrunTheMatrix.py -w upgrade -l 10600.0 > & matrix_10600.log &\n```\n\n10 events run to completion for steps 1 and 2 with no crashes or exceptions.\n\nattn: @boudoul, @lgray, @bsunanda, @ianna, @calabria\n\n@davidlange6 - should we add upgrade workflows into the PR/IB standard tests in this PR, or wait?\n", "branch": "CMSSW_8_1_X", "changed_files": 12, "closed_at": "1461254227", "comments": 21, "commits": 7, "created_at": "1461143098", "deletions": 20, "labels": ["comparison-available", "geometry-pending", "operations-pending", "orp-pending", "pdmv-pending", "pending-signatures", "reconstruction-pending", "simulation-pending", "tests-approved"], "milestone": "Next CMSSW_8_1_X", "number": 14165, "release-notes": [], "review_comments": 9, "state": "closed", "title": "Phase2 workflow fixes", "updated_at": "1461257961", "user": "kpedro88"}