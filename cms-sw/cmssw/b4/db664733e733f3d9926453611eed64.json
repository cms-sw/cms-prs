{"additions": 119, "auther_ref": "packedCandidateFixes76x", "auther_sha": "1729af1644a5cd51fad82db082cd54fbffea9ead", "author": "makortel", "body": "Backport of #12581. Copied description:\n- Add missing `+dphi_` to `dxy(Point)` and `dz(Point)`\n  - Otherwise they give different results than `dxy()` and `dzAssociatedPV()` for the point of associated PV\n  - Note that this does not affect packing, only unpacking\n- Fix smallest negative being packed as smallest positive\n  - Currently negative numbers whose `abs(pack(x)) < 1` (e.g. (`-exp(lmin)`) get packed as `0`, which is unpacked as the smallest positive numbers (`exp(lmin)`)\n  - Here the issue is fixed by packing such negative numbers as `-1`\n  - It follows that for negative numbers the smallest unpacked value (by abs) is `-exp(lmin + 1/base*(lmax-lmin))`, while for positive numbers the smallest value is `exp(lmin)`\n- Use doubles in intermediate steps in liblogintpack\n  - With floats current `pack8logCeil()` rounds towards zero for certain input values\n\nThe PR also adds some unit tests for liblogintpack.\n\nTested in 7_6_1 that short matrix runs, for results relied the tests done in 80X for #12581.\n\n@arizzi @gpetruc \n", "branch": "CMSSW_7_6_X", "changed_files": 4, "closed_at": "1449130093", "comments": 13, "commits": 3, "created_at": "1448610304", "deletions": 20, "labels": ["analysis-pending", "comparison-available", "orp-pending", "pending-signatures", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "14b094f43ad482b899bd7785a6c056bc656da8d0", "merged_at": "1449130093", "merged_by": "davidlange6", "milestone": "CMSSW_7_6_X", "number": 12583, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fixes to PackedCandidate (76X)", "updated_at": "1476956996", "user": "makortel"}