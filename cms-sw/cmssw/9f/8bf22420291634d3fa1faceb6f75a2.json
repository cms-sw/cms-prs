{"additions": 476, "auther_ref": "fixPhase2PixelGeometry_rebase", "auther_sha": "73649c382ef2fb1781d6f4838099812b3c9395fb", "author": "ebrondol", "body": "This PR has been developed in CMSSW_8_1_X_2016-11-01-2300 and tested on top of the PR #16407. This is the evolution of the story: with a private branch that produce the hit on track maps for phase2 geometry, I produced the ratio clusters/clusters on track in D4:\r\n![ontrackmultmap_v4021_baseline](https://cloud.githubusercontent.com/assets/5331004/20005936/65407394-a295-11e6-98c2-cb284fb1922e.png)\r\nIt is pretty clear that the forward phase2 pixel detector is missing some hits and the last rings of the last forward layers[8-11] are not included in the search. \r\nThe problem has been cured using not anymore the class `PixelForwardLayerBuilder` but instead adapting `Phase2OTEndcapLayerBuilder` to be also used for the forward phase2 pixel. In this respect the naming has been changed everywhere.\r\nAfter this fix, the new map for D4 looks like:\r\n![ontrackmultmap_v4021_fixphase2pixelgeometry_rebase](https://cloud.githubusercontent.com/assets/5331004/20006102/56e5273a-a296-11e6-8257-0ef19732a0bc.png)\r\nThe code has been changed in such a way that the other D* should not be affected.\r\n\r\nThis impact some track variables such as the #hits vs eta, just two examples for [single mu](http://ebrondol.web.cern.ch/ebrondol/Phase2Tracking/fixPhase2PixelGeometry/20161103_FourMuExtended/plots_ootb/hitsAndPt.pdf) and for [ttbar](http://ebrondol.web.cern.ch/ebrondol/Phase2Tracking/fixPhase2PixelGeometry/20161103_TTbar/plots_ootb/hitsAndPt.pdf). But both seem now much more reasonable respect to before. If you want to have a look at the full set of results you can find them [here](http://ebrondol.web.cern.ch/ebrondol/Phase2Tracking/fixPhase2PixelGeometry/20161103_FourMuExtended/) and [there](http://ebrondol.web.cern.ch/ebrondol/Phase2Tracking/fixPhase2PixelGeometry/20161103_TTbar/). No huge differences have been noticed in eff/fakes.\r\n\r\nThe documentation in `RecoTracker/TkDetLayers/doc/TkDetLayersTree.pdf` has also been update - including the tilted update that was never introduced.\r\n\r\nThanks to @VinInn @rovere @venturia \r\nInforming @delaere @boudoul  @atricomi @kpedro88 \nAutomatically ported from CMSSW_8_1_X #16470 (original by @ebrondol).", "branch": "CMSSW_9_0_X", "changed_files": 21, "closed_at": "1479756523", "comments": 19, "commits": 15, "created_at": "1479285845", "deletions": 216, "labels": ["comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "a06e4a134083a165b754778bd973de237d3ed6d7", "merged_at": "1479756523", "merged_by": "cmsbuild", "milestone": "CMSSW_9_0_X", "number": 16617, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix phase2 pixel in GeometrySearch", "updated_at": "1479756524", "user": "cmsbuild"}