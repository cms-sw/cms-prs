{"additions": 2, "auther_ref": "resolve-clang-aborts-pat", "auther_sha": "3bcdb40319fc2b7c3b1e6c9e89dec4dc7dfb08b0", "author": "davidlt", "body": "The package contains two files, which cause Clang to abort (assert):\n- `PhysicsTools/PatUtils/plugins/SmearedJetProducer.cc`\n- `PhysicsTools/PatUtils/plugins/SmearedPATJetProducer.cc`\n\nAfter long investigation I stopped here:\n\n```\ncorrJetP4 =\nstd::is_base_of<class PATJetCorrExtractor, Textractor>::value ?\n  jetCorrExtractor_(jet, jetCorrLabel_.label(), jetCorrEtaMax_, &rawJetP4) :\n  jetCorrExtractor_(jet, jetCorr.product(), jetCorrEtaMax_, &rawJetP4);\n```\n\n`PATJetCorrExtractor` was nowhere to be found in the translation unit.\nWe have a class declaration in template instantion.\n\nThe patch removes such declaration and includes a header (from the same\npackage), which declares and defines `PATJetCorrExtractor`.\n\nResolves both Clang aborts.\n\nSigned-off-by: David Abdurachmanov David.Abdurachmanov@cern.ch\n", "branch": "CMSSW_7_3_X", "changed_files": 1, "closed_at": "1415871098", "comments": 5, "commits": 1, "created_at": "1415836724", "deletions": 1, "labels": ["analysis-approved", "comparison-available", "fully-signed", "tests-approved"], "merge_commit_sha": "879cf0237f232d6c5551358cc09b97b6c34ec7f5", "merged_at": "1415871098", "merged_by": "cmsbuild", "milestone": "Next CMSSW_7_3_X", "number": 6365, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Do not declare class in template instantiation; add missing header", "updated_at": "1415871098", "user": "davidlt"}