{"additions": 58, "auther_ref": "esconsumesAutoMagneticFieldESProducer", "auther_sha": "81042caff16b311dc72bc6caf6ea444c5089b52a", "author": "makortel", "body": "#### PR description:\r\n\r\nThis PR modernizes AutoMagneticFieldESProducer as part of https://github.com/cms-sw/cmssw/issues/26748 by\r\n- Merging header to source\r\n- Removing ParameterSet member\r\n- Making members const, set them in constructor initializer list\r\n- Using trailing underscore for member variables\r\n- Reducing copying of strings\r\n- Using ESGetToken\r\n\r\nA challenge in this class is that it uses the value of `RunInfo::m_avg_current` to deduce which of the configured `MagneticField` payloads to actually use. This PR has the straightforward approach, i.e. defining ESGetTokens for all of the configured payloads.\r\n\r\nBut this approach (alone) is not necessarily what we want, as naively it would lead the framework to load both payloads in prefetching (or those that are available in the GlobalTag)\r\n\r\n#### PR validation:\r\n\r\nCode compiles", "branch": "master", "changed_files": 2, "closed_at": "1561895273", "comments": 9, "commits": 1, "created_at": "1561894621", "deletions": 68, "labels": ["code-checks-approved", "comparison-available", "orp-pending", "pending-signatures", "reconstruction-pending", "tests-approved"], "milestone": "CMSSW_11_0_X", "number": 27413, "release-notes": [], "review_comments": 1, "state": "closed", "title": "[RFC] Modernize AutoMagneticFieldESProducer", "updated_at": "1561919621", "user": "makortel"}