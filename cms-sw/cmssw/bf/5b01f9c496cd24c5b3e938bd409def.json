{"additions": 15, "auther_ref": "update-gemEmap-run3", "auther_sha": "0fd5cc6e6b441b8bed479171f93ad6f5ba275730", "author": "watson-ij", "body": "#### PR description:\r\n\r\n<!-- Please replace this text with a description of the feature proposed or problem addressed, specifying:\r\n  - what changes are expected in the output if any, \r\n  - what other PRs or externals it depends upon if any,\r\n  - link to any additional material useful to provide a documentation for this PR (slides, JIRA tickets, related pull requestes, hypernews, TWiki or Indico pages)  -->\r\n\r\nFix for GEM crashing in Run3 data due to the emap not being read from the database. This patch instructs run3 to also use dbEmaps, as was done in slice test (its a minimal change as currently only slice test and run 3 emaps are in the db).\r\n\r\n#### PR validation:\r\n\r\n<!-- Please replace this text with a description of which tests have been performed to verify the correctness of the PR, including the eventual addition of new code for testing like unit tests, test configurations, additions or updates to the runTheMatrix test workflows -->\r\n\r\nI tested on one of the files [1] and it no longer crashes. There are still warnings of the form\r\n \r\n %MSG-e BadDigiInput:  GEMRecHitProducer:gemRecHits 11-Mar-2020 11:39:34\r\n CET  Run: 335670 Event: 4434\r\n Failed to find GEMEtaPartition for ID  Re -1 Ri 1 St 1 La 2 Ch 25 Ro 8\r\n %MSG\r\n \r\nwhich is due to currently only the slice test geometry being in the DB, which is being worked on.\r\n\r\nI haven't checked on MC though.\r\n\r\n[1] cmsDriver.py GEM --step=RAW2DIGI,L1Reco,RECO --filein=/store/data/Commissioning2020/MinimumBias/RAW/v1/000/335/670/00000/5F3ECF4A-0637-844F-AE67-6BB424F0BF80.root --data --conditions 110X_dataRun3_Prompt_v3 --no_exec --era Run3\r\n\r\n@jshlee @hyunyong ", "branch": "master", "changed_files": 4, "closed_at": "1584992474", "comments": 43, "commits": 2, "created_at": "1583989625", "deletions": 1, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "operations-approved", "orp-approved", "reconstruction-approved", "requires-external", "tests-approved"], "merge_commit_sha": "97d4788c67ac08a5659480a2e614f0a9753cf9e9", "merged_at": "1584992474", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 29194, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Update Run3 GEM to use the eMap from the DB", "updated_at": "1584992474", "user": "watson-ij"}