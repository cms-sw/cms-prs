{"additions": 307, "auther_ref": "fixThreadSafetyOfMVAComputer", "auther_sha": "f5ce02f7db5d67420ebe10f160acebc3b2da086e", "author": "Dr15Jones", "body": "The CMSSW_7_4_THREADED_X IBs have been crashing due to MVA threading issues. The problem stemmed from the use of mutable in ProcForeach. These mutables were being read/written indirectly by GenericMVAJetTagComputer which is an EventSetup product. The simultaneous writes were causing the crashes.\nThe solution was to move the mutables to be external to the MVA class and instead be passed in as an argument to the functions. Encapsolating the loop state into variables that live on the stack allows each thread to have its own copy.\n", "branch": "CMSSW_7_4_X", "changed_files": 11, "closed_at": "1422112031", "comments": 40, "commits": 5, "created_at": "1421952234", "deletions": 33, "labels": ["analysis-pending", "comparison-pending", "pending-signatures", "tests-approved"], "merge_commit_sha": "130ea475568084447892762e732228664a65d99d", "merged_at": "1422112031", "merged_by": "ktf", "milestone": "Next CMSSW_7_4_X", "number": 7332, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix thread safety problem in PhysicsTools/MVAComputer", "updated_at": "1425482823", "user": "Dr15Jones"}