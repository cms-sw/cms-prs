{"additions": 1, "auther_ref": "alca-fix_PoolDBESSource_params", "auther_sha": "87020d8aaab6d8d3682dafb35d4d5d5fc6e42db7", "author": "cms-AlCaDB", "body": "#### PR description:\r\nThe CMSSW_15_0_4 replay (see [CMStalk](https://cms-talk.web.cern.ch/t/replay-for-cmssw-15-0-4/122732)) is currently failing with the following  error:\r\n```\r\nAn exception of category 'Configuration' occurred while\r\n   [0] Constructing the EventProcessor\r\n   [1] Constructing ESSource: class=PoolDBESSource label='GlobalTag'\r\n   [2] Validating configuration of ESSource of type PoolDBESSource with label: 'GlobalTag'\r\nException Message:\r\nIllegal parameter found in configuration.  The parameter is named:\r\n 'transactionId'\r\nYou could be trying to use a parameter name that is not\r\nallowed for this plugin or it could be misspelled.\r\n```\r\nThis is due to the fact that in the Tier0 code ([here](https://github.com/dmwm/T0/blob/master/src/python/T0/RunConfig/RunConfigAPI.py#L641)) an additional parameter (`transactionId`) is set and later passed to WMCore [here](https://github.com/dmwm/WMCore/blob/14f171a388bec9c254c817f3c8edbdf93b71f04e/src/python/PSetTweaks/WMTweak.py#L398), resulting in \r\n```\r\nprocess.GlobalTag = cms.ESSource(\"PoolDBESSource\",\r\n    DBParameters = cms.PSet(\r\n        authenticationPath = cms.untracked.string(''),\r\n    authenticationSystem = cms.untracked.int32(0),\r\n    connectionTimeout = cms.untracked.int32(0),\r\n        messageLevel = cms.untracked.int32(0),\r\n        security = cms.untracked.string(''),\r\n        transactionId = cms.untracked.string('Express_390094')\r\n    ),\r\n    DumpStat = cms.untracked.bool(False),\r\n    JsonDumpFileName = cms.untracked.string(''),\r\n...\r\n```\r\n\r\nThis error only surfaced now because with the merging of https://github.com/cms-sw/cmssw/pull/47676 we are now explicitly validating the `CondDBESSource` parameter sets.\r\n\r\nWhile this parameter doesn't seem to be strictly necessary for `cmsRun`, it's not clear why it is explicitly set in Tier0 and WMCore. And while WMCore/T0 experts are investigating this 13-year-old piece of code, we can \"patch\" CMSSW by making this parameter optional as suggested by @Dr15Jones and @mmusich (thanks!!).\r\n\r\n#### PR validation:\r\nJust checked that the code compiles for now.\r\n\r\n#### Backport:\r\nNot a backport, but a 15_0_X backport will be provided soon.", "branch": "master", "changed_files": 1, "comments": 11, "commits": 1, "created_at": "1744137764", "deletions": 0, "labels": ["alca-approved", "pending-signatures", "tests-approved", "orp-pending", "hold", "db-approved", "urgent", "code-checks-approved"], "milestone": "CMSSW_15_1_X", "number": 47822, "release-notes": [], "review_comments": 0, "state": "open", "title": "Add transactionId as optional parameter of CondDBESSource", "updated_at": "1744175510", "user": "francescobrivio"}