{"additions": 9, "auther_ref": "devel_removeFromFinalPath", "auther_sha": "43db69be3f24e123e721684da3e46a25d9c89451", "author": "missirol", "body": "#### PR description:\r\n\r\nThis PR follows #36932 and #36937, and concerns the removal of a module from a `FinalPath`.\r\n\r\nIt looks like said removal does not work correctly in `12_3_0_pre5`, as [1] returns [2] (the issue was reported by @sanuvarghese from TSG).\r\n\r\nThe implementation in this PR is basically a copy-paste of the solution provided by @Dr15Jones in #36937.\r\n\r\nThe PR is mainly a way to point out the issue. I'm happy to close it if it's incorrect/incomplete, of if experts prefer to take care of the implementation of this fix.\r\n\r\nFYI: @Martin-Grunewald @Sam-Harper @silviodonato\r\n\r\n[1] Example borrowed from #36932\r\n```py\r\nimport FWCore.ParameterSet.Config as cms\r\n\r\nprocess = cms.Process(\"HLT\")\r\n\r\nprocess.dqmOutput = cms.OutputModule(\"DQMRootOutputModule\",\r\n    fileName = cms.untracked.string(\"DQMIO.root\")\r\n)\r\n\r\nprocess.DQMOutput = cms.FinalPath( process.dqmOutput )\r\n\r\nprocess.DQMOutput.remove(process.dqmOutput)\r\n```\r\n\r\n[2]\r\n```sh\r\nTraceback (most recent call last):\r\n  File \"tmp.py\", line 11, in <module>\r\n    process.DQMOutput.remove(process.dqmOutput)\r\n  File \"/cvmfs/cms.cern.ch/slc7_amd64_gcc10/cms/cmssw/CMSSW_12_3_0_pre5/python/FWCore/ParameterSet/SequenceTypes.py\", line 500, in remove\r\n    self.associate(*v.result(self)[1])\r\nTypeError: associate() missing 1 required positional argument: 'task'\r\n```\r\n\r\n#### PR validation:\r\n\r\nThe example in [1] works, and unit tests of `FWCore/ParameterSet` pass.\r\n\r\n#### If this PR is a backport, please specify the original PR and why you need to backport that PR:\r\n\r\nN/A", "branch": "master", "changed_files": 1, "closed_at": "1645663163", "comments": 19, "commits": 1, "created_at": "1645516623", "deletions": 2, "labels": ["core-approved", "fully-signed", "tests-approved", "bug-fix", "orp-approved", "code-checks-approved"], "merge_commit_sha": "cf9ed10dc76419cdfd20dcba60323ca8ef3d3db8", "merged_at": "1645663163", "merged_by": "cmsbuild", "milestone": "CMSSW_12_3_X", "number": 37022, "release-notes": [], "review_comments": 2, "state": "closed", "title": "fixing removal of modules from `FinalPath`", "updated_at": "1645663164", "user": "missirol"}