{"additions": 5, "auther_ref": "fixHGCalElectronSeedsHoE930", "auther_sha": "c059352585c9d98848b45193f8f663014bc93377", "author": "nsmith-", "body": "Due to aliasing of enums EcalEndcap=HcalEndcap=2.  I didn't add `det_group == DetId::Ecal` since I was worried the alias might have been permitted for pre-PhaseII detectors in case `hitsAndFractions()[0]` happens to be an HCal hit.  Not sure if that actually happens or not...\r\n\r\nFound when looking at hadron fraction of electrons in 930 Zee RelVals, where the [cluster cut](https://github.com/cms-sw/cmssw/blob/master/RecoEgamma/EgammaElectronProducers/python/ecalDrivenElectronSeedsParameters_cff.py#L34) appears to not work\r\n![ecaldrivenelectronshadfrac](https://user-images.githubusercontent.com/6587412/30601714-f1c48878-9d62-11e7-95db-5fe5d65a3912.png)\r\n\r\nHere are the unique subdet IDs observed in the PF superclusters:\r\n```python\r\nIn [23]: ids=set()\r\n\r\nIn [26]: for e in events:\r\n    ...:     cl = handles.recoSuperClusters_particleFlowSuperClusterHGCalFromMultiCl__RECO\r\n    ...:     ids=ids.union( set([(c.seed().hitsAndFractions()[0].first.det(), c.seed().hitsAndFractions()[0].first.subdetId()) for c in cl]))\r\n    ...:\r\n\r\nIn [27]: ids\r\nOut[27]: {(4L, 2), (6L, 3), (6L, 4)}\r\n```\r\ni.e. `DetId::Hcal, HcalEndcap`, `DetId::Forward, HGCEE`, and `DetId::Forward, HGCHEF`.\r\nI am not sure why HcalEndcap is used as a subdetId rather than HGCHEB, perhaps someone knows?", "branch": "CMSSW_9_3_X", "changed_files": 1, "closed_at": "1506427229", "comments": 19, "commits": 2, "created_at": "1505829822", "deletions": 5, "labels": ["backport-ok", "comparison-available", "fully-signed", "orp-pending", "reconstruction-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "bead0666d75e0e5293f8099620568654411880bb", "merged_at": "1506427229", "merged_by": "cmsbuild", "milestone": "CMSSW_9_3_X", "number": 20588, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Prevent disabing of HGCal electron cluster preselection", "updated_at": "1506427229", "user": "nsmith-"}