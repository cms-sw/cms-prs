{"additions": 427, "auther_ref": "Phase2Digitizer_SignalShape_1110X_05042020", "auther_sha": "93caec6670bdce7400f9408f05fb8da1431a9b2e", "author": "suchandradutta", "body": "#### PR description:\r\nInclusion of  Time dependence of Signal shape\r\n - Time dependent Signal Shape correction added for SSDigitizerAlgorithm \r\n\r\n - Pixel Timewalk correction added for PixelDigitizer Algorithm\r\n\r\n - DigitizerUtility::Amplitude class updated to use newly introduced SimHitInfo class where Time of   Flight information of SimHit is stored so that it can be accessed at the \r\nPhase2DigitizerAlgorithm::digitize step\r\n\r\n  - Configuration parameters are set to switch off the Signal Shape Simulation. So output should be identical with the current code\r\n\r\n  -  Integer and float literals are defined as constant. For example, we are now using\r\n     constexpr double c_cm_ns = CLHEP::c_light * CLHEP::ns / CLHEP::cm;\r\n     constexpr double c_inv = 1.0 / c_cm_ns;\r\n      .....\r\n      float corr_time = hit.tof() - pixdet->surface().toGlobal(hit.localPosition()).mag() * c_inv;\r\n      instead of\r\n      float corr_time = hit.tof() - pixdet->surface().toGlobal(hit.localPosition()).mag() / 30.;\r\n     in SimTracker/SiPhase2Digitizer/plugins/Phase2TrackerDigitizerAlgorithm.cc and in other    places. Minor changes observed in DQM histograms due to such improved accuracy in unit conversions.\r\n\r\n  - Does not depend on other PRs or externals\r\n\r\n#### PR validation:\r\n\r\nCode tested with Particle gun Muon + 200 PU (RelVal) events and the results can be found here\r\nhttps://indico.cern.ch/event/879031/contributions/3823579/attachments/2018881/3376562/SignalShape_validation_14042020.pdf \r\n\r\ncode-checks    done\r\ncode-format     done\r\n\r\n@emiglior @skinnari @subirsarkar\r\n", "branch": "master", "changed_files": 15, "closed_at": "1588228771", "comments": 40, "commits": 2, "created_at": "1586956188", "deletions": 78, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "simulation-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "09a0f6ea97576c68ae9b864261df5e9fa3f531f7", "merged_at": "1588228771", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 29480, "release-notes": [], "review_comments": 30, "state": "closed", "title": "Inclusion of Signal Shape Simulation for the Phase2 Tracker", "updated_at": "1588228771", "user": "suchandradutta"}