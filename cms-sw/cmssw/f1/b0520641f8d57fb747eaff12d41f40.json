{"additions": 454, "auther_ref": "devel_l1tZDCEtSumsEmul_141X", "auther_sha": "205fc82cc3340c515bd3bb750d61c20ad06fc895", "author": "missirol", "body": "backport of #48963\r\n\r\n#### PR description:\r\n\r\nNot a verbatim backport.\r\n - There is one extra commit, to change the frozen GlobalTag used in the new unit test, so the snapshot time of the latter GT is after the time at which the data used in the unit test was collected (this would not be the case if using the current `auto:run3_hlt_relval` GT in 14_1_X).\r\n\r\nFrom the description of #48963.\r\n\r\n>https://github.com/cms-sw/cmssw/issues/43214#issuecomment-3262871544 shows that the emulation of the L1T ZDC EtSums is currently inaccurate, due to\r\n> - (a) the relevant iEt values of ZDC trigger primitives (TPs) not being restricted (or capped) to a 10-bit integer, and\r\n> - (b) the ZDC-iEtSums TPs ($|i\\eta| = 42$, $i\\phi = 99$) occasionally missing from the unpacked HCAL digis.\r\n>\r\n>The root cause of (b) is not understood yet. This PR fixes (a), and works around (b) by re-computing the relevant iEtSums values from the other (non-iEtSum) ZDC TPs, i.e. those with $|i\\eta| = 42$ and $i\\phi \\neq 99$.\r\n>\r\n>The PR includes a few additional changes, as detailed below (see the list of commits).\r\n> - Cleanup of the `L1Trigger/L1TZDC` package, removing several files which are unused and, imho, not really useful anymore.\r\n> - Fixes for the emulation of the ZDC L1T EtSums as described above, plus renaming the `L1TZDC{Producer,Analyzer}` plugins to `L1TZDCEtSums{Producer,Analyzer}` for clarity.\r\n> - Addition of `L1TEtSumsPrinter`, a simple `EDAnalyzer` to print out the content of `l1t:EtSum` objects.\r\n> - Addition of a unit test for `L1TZDCEtSumsProducer`, including a check on the values of the emulated L1T ZDC EtSums for a few events of 2024 PbPb data.\r\n\r\n#### PR validation:\r\n\r\nThe new unit test passes.\r\n\r\n#### If this PR is a backport, please specify the original PR and why you need to backport that PR. If this PR will be backported, please specify to which release cycle the backport is meant for:\r\n\r\n#48963\r\n\r\nBugfix for the emulation of the L1T ZDC EtSums, see #43214.\r\n", "branch": "CMSSW_14_1_X", "changed_files": 17, "comments": 6, "commits": 5, "created_at": "1758974673", "deletions": 711, "labels": ["dqm-pending", "l1-approved", "pending-signatures", "tests-approved", "orp-pending", "bug-fix", "backport-ok"], "milestone": "CMSSW_14_1_X", "number": 49011, "release-notes": [], "review_comments": 0, "state": "open", "title": "fix emulation of L1T ZDC EtSums [`14_1_X`]", "updated_at": "1759190757", "user": "missirol"}