{"additions": 171, "auther_ref": "particle-net-onnxruntime", "auther_sha": "0a28aff5588bc5f576b057e52398091a65da5993", "author": "hqucms", "body": "#### PR description:\r\n\r\nThis PR moves the ParticleNet inference from MXNet to ONNXRuntime to address https://github.com/cms-sw/cmssw/issues/30432. The ParticleNet models are converted from the current (`V00`) MXNet models. Outputs are consistent with the MXNet implementation at numerical precision level. The inference speed is ~20% faster.\r\n\r\nI also implemented the function to load the preprocessing parameters from a JSON file, which can then be shipped together with the DNN models in cms-data. This addresses https://github.com/cms-sw/cmssw/issues/29129. The old way (reading from a python cfg file) is kept for backward compatibility.\r\n\r\nThis PR also contains some preparatory changes (in `PhysicsTools/ONNXRuntime` and `RecoBTag/ONNXRuntime/plugins/BoostedJetONNXJetTagsProducer.cc`) for the new version of ParticleNet planned for UL Re-MiniAOD. The UL re-training will switch to Puppi V14 and also exploits the dynamic axis feature of ONNX, which avoids the need of zero-padding the jet constituent particles to 100. This on average reduces the inference time by ~2x.\r\n\r\nRequires https://github.com/cms-data/RecoBTag-Combined/pull/33.\r\n", "branch": "master", "changed_files": 24, "closed_at": "1595224230", "comments": 29, "commits": 3, "created_at": "1594221522", "deletions": 826, "labels": ["analysis-approved", "code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "requires-external", "tests-approved"], "merge_commit_sha": "6adc7ae778a57b15d2f9164f888490b2f701b427", "merged_at": "1595224230", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 30599, "release-notes": [], "review_comments": 4, "state": "closed", "title": "Use ONNXRuntime for ParticleNet inference", "updated_at": "1595224231", "user": "hqucms"}