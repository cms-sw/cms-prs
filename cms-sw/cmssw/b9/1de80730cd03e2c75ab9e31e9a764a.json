{"additions": 11, "auther_ref": "fixPremixHGCalV9", "auther_sha": "f5447d6b8a6e66bbe6c8cf043609d6e75ec5e802", "author": "makortel", "body": "This PR fixes the premixing for HGCal v9 geometry by increasing the size of a bitfield containing the subdet-specific data from 27 bits to 32 bits in `PHGCSimAccumulator` (this leads to the size of an internal struct to increase from 32 bits to 64 bits) as outlined in #23624.\r\n\r\nI measured the file size with D17 100 ttbar+PU200 events (BX -3...3), and the increase of the three HGCal products is rather small, between 1 and 2.5 %, total HGCal being 1.3 % (you can compare with my slide 16 of\r\nhttps://indico.cern.ch/event/711343/contributions/2964389/attachments/1631761/2601778/slides_premix_20180412.pdf\r\n). The total event size increases only a few per mille. I think these are small enough to declare #23624 solved, because it is better to focus work elsewhere for much larger size reductions.\r\n\r\nTested in 10_3_0_pre3, no changes expected (except for a hypothetical premixing workflow with D28 geometry to work). Fixes #23624.\r\n\r\n@kpedro88 @mdhildreth ", "branch": "master", "changed_files": 2, "comments": 8, "commits": 1, "created_at": "1537450911", "deletions": 23, "labels": ["code-checks-approved", "comparison-available", "orp-pending", "pending-signatures", "simulation-pending", "tests-approved", "upgrade-pending"], "milestone": "CMSSW_10_3_X", "number": 24610, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix premixing for HGCal v9 geometry", "updated_at": "1537466053", "user": "makortel"}