{"additions": 128, "auther_ref": "Phase1-DbHardcode3", "auther_sha": "94965c0a383722657a785d59d1bcaf33150cbf34", "author": "kpedro88", "body": "Changes in this PR (all in the HCAL hardcode conditions):\n1) Add python parameter to enable/disable `useHOUpgrade`\n2) Configurable SiPM per-channel parameters: photoelectronsToAnalog, darkCurrent\n3) Configurable SiPM per-type parameters: pixels, crosstalk, nonlinearity params\n4) Assign SiPM type based on number of layers in depth (taken from topology): cells with `nLayers > 4` have larger SiPMs of diameter 3.3mm, the rest have SiPMs of diameter 2.8mm\n\nI tested the operation of these changes using the following (slightly cumbersome) command, assuming the workflow numbering in pre12 (so 106xx is 2017HCALdev):\n\n```\nrunTheMatrix.py -w upgrade -l 10622.0 --command='--customise SLHCUpgradeSimulations/Configuration/HCalCustoms.load_HcalHardcode --customise_commands \"process.es_hardcode.useHFUpgrade = cms.bool(True)\\nprocess.es_hardcode.useHEUpgrade = cms.bool(True)\\nprocess.es_hardcode.toGet.remove(\\\"ElectronicsMap\\\")\"'\n```\n\nIt is also necessary to uncomment these two lines:\nhttps://github.com/cms-sw/cmssw/blob/CMSSW_8_1_0_pre12/CalibCalorimetry/HcalPlugins/src/HcalDbProducer.cc#L64-L65\nbecause the new DB objects are not yet activated in the official software. Correspondingly, no changes are expected in any central workflows.\n\nattn: @abdoulline, @bsunanda\n", "branch": "CMSSW_8_1_X", "changed_files": 7, "closed_at": "1475233748", "comments": 8, "commits": 5, "created_at": "1475003117", "deletions": 33, "labels": ["alca-approved", "comparison-available", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "12aa3ff2a00f3ddde253f3e3e561c3140bc8e3f9", "merged_at": "1475233748", "merged_by": "cmsbuild", "milestone": "Next CMSSW_8_1_X", "number": 16002, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Configurable SiPM hardcode parameters", "updated_at": "1475233749", "user": "kpedro88"}