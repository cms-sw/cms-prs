{"additions": 200, "auther_ref": "ETLHitsPixBasis", "auther_sha": "f60ce34906a6ba1695dee32b1b7a85a76d4c5177", "author": "rdelliga", "body": "PR description:\r\nThe accumulation process in MTD validation, based on modules (DetId), is updated to be pixel-level during SimHits processing, aligning it with the digitization of ETL[1]; in particular, this may impact processes under high pile-up conditions.\r\nTo be consistent with PR #43762, which changes the ETL digitization, it is important to rectify this discrepancy.\r\nA correction attempt has already been made with the failed pull request #43928.\r\nThe Digi structure (ETLSample) has been also updated to accomodate for one additional parameter, the time over threshold, therefore some plots to monitor Tot are added in EtlDigiHitsValidation.\r\nMoreover, debugging verbosity in ETL digitization and adcSaturation_MIP in mtdDigitizer_cfg.py are updated.\r\nIn ETLUnalibratedRecHitAlgo, amplitude for ETL is set to be the time_over_threshold, because reco energy will not be reconstructed; for the same reason, in EtlLocalecoValidation, some plots about reco energy are removed.\r\nFinally, the use of MC truth for tracks and Primary Vertices is updated, to be consistent with PR #43913.\r\n\r\nPR validation:\r\nThe code was tested on the workflow\r\n24834.0_TTbar_14TeV+2026D98 \r\n\r\n[1] https://github.com/cms-sw/cmssw/blob/master/SimFastTiming/FastTimingCommon/src/ETLDeviceSim.cc", "branch": "master", "changed_files": 12, "comments": 23, "commits": 8, "created_at": "1714286863", "deletions": 270, "labels": ["dqm-approved", "reconstruction-approved", "simulation-approved", "pending-signatures", "tests-approved", "orp-pending", "upgrade-pending", "code-checks-approved", "mtd"], "milestone": "CMSSW_14_1_X", "number": 44859, "release-notes": [], "review_comments": 7, "state": "open", "title": "ETL hits accumulation on a pixel-basis in MTD Validation", "updated_at": "1715321701", "user": "rdelliga"}