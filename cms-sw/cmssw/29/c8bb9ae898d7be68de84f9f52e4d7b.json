{"additions": 12, "auther_ref": "float16PFCandidates", "auther_sha": "70f4902d0ae193f8106045e05569dd4b17631022", "author": "jsalfeld", "body": " point format\r\n\r\n#### PR description:\r\n\r\nAs mentioned in a TSG on Jan. 15th:\r\nhttps://indico.cern.ch/event/878772/contributions/3703563/attachments/1969842/3276766/ScoutingGroup.pdf\r\n\r\nThe PFScouting event size is reduced by 40% when PFCandidate 4-vectors are stored in Hal precision floating point format. I used the libminifloat class in CMSSW and convert back to float32 (the type returned by float32to16 is uint16_t) and let the compression reduce the information being stored.\r\n\r\n#### PR validation:\r\n\r\nI was running with and without the change and compared the output, and it looks the same. The per event size of the corresponding collection is indeed reduced after checking via edmEventSize.\r\n\r\nFile outputScoutingPF.root Events 10\r\nBranch Name | Average Uncompressed Size (Bytes/Event) | Average Compressed Size (Bytes/Event)\r\n**float16:** ScoutingParticles_hltScoutingPFPacker__HLT2018. 24530.5 7804.4\r\n**float32:** ScoutingParticles_hltScoutingPFPacker__HLT2018. 24530.5 12444.5\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\n<!-- Please replace this text with any link to  -->\r\n\r\nBefore submitting your pull requests, make sure you followed this checklist:\r\n- verify that the PR is really intended for the chosen branch\r\n- verify that changes follow [CMS Naming, Coding, And Style Rules](http://cms-sw.github.io/cms_coding_rules.html)\r\n- verify that the PR passes the basic test procedure suggested in the [CMSSW PR instructions](https://cms-sw.github.io/PRWorkflow.html)", "branch": "master", "changed_files": 1, "closed_at": "1588687870", "comments": 34, "commits": 3, "created_at": "1587289682", "deletions": 1, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "hlt-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "743e9ac69d633e8668b2194a0162c24e32accc70", "merged_at": "1588687870", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 29513, "release-notes": [], "review_comments": 5, "state": "closed", "title": "decrease event size by storing PFCandidates with half precision float", "updated_at": "1588687870", "user": "jsalfeld"}