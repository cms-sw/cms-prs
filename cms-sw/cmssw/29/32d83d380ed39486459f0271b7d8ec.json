{"additions": 1224, "auther_ref": "EGM_DQM_PFMonitoring", "auther_sha": "7a286a03375846b27dc64e99f160d7c59ca38398", "author": "tihsu99", "body": "#### PR description:\r\n\r\nA patch for adding new features for scouting electron in Scouting Offline DQM. \r\n\r\nThe goal is to add L1 and HLT(DST) information into DQM plots. The targeted data set for the monitoring is ScoutingPFMonitor, which includes both scouting and offline objects. The updates are mainly built based on previous PR: [Scouting Offline DQM for 2025 data-taking (EGM+MUO+autoDQM)](https://github.com/cms-sw/cmssw/pull/47235#top) \r\n\r\n#### Description of the current changes:\r\n\r\nThe updates include:\r\n- Adding reconstructed di-electron mass spectrum under different HLT(DST) and L1 conditions, Main code changes are in `plugins/ScoutingEGammaCollectionMonitoring.cc`.\r\n- Improved tag and probe method by applying orthogonal trigger and considering the probing lepton pt order with refactoring relative codes structure in order to deal with arbitrary length and naming of given HLT/L1s. Main code changes are in `plugins/ScoutingElectronTagProbeAnalyzer.cc` (using scouting electron as tag electron) and `plugins/PatElectronTagProbeAnalyzer.cc` (using pat electron as tag electron).\r\n- Replaced corresponding plots used for calculating trigger efficiency in combine harvesting stage. Main code changes are in `plugins/ElectronEfficiencyPlotter.cc`\r\n\r\nRelevant presentations:\r\n[HLT Scouting Meeting, 03 Apr 2025](https://indico.cern.ch/event/1532771/contributions/6449752/subcontributions/541096/attachments/3044960/5380038/ScoutingEGamma_Report_DPNote_2025Apr03.pdf)\r\n[HLT Scouting Meeting, 20 Mar 2025](https://indico.cern.ch/event/1527339/contributions/6426008/subcontributions/539210/attachments/3035999/5361448/ScoutingEGamma_Report_DPNote_2025Mar20.pdf)\r\n\r\n\r\n#### PR validation:\r\n\r\nThe PR has been prepared starting from CMSSW_15_1_0_pre1:\r\n```\r\ncmsrel CMSSW_15_1_0_pre1\r\ncd CMSSW_15_1_0_pre1/src\r\ncmsenv\r\ngit cms-init\r\ngit cms-addpkg HLTriggerOffline\r\nscram b && scram b code-checks && scram b code-format && scram b\r\n```\r\n\r\nWe used the same testing workflows as the previous PR: [Scouting Offline DQM for 2025 data-taking (EGM+MUO+autoDQM)](https://github.com/cms-sw/cmssw/pull/47235#top) \r\n\r\n```\r\n[1]: input: RAW file from ScoutingPFMonitor dataset (Run2024F, [Fill9852](https://cmsoms.cern.ch/cms/fills/report?cms_fill=9852), run382686)\r\n\r\n[2]: cmsDriver.py step2  --process reHLT -s L1REPACK:Full,HLT:@relval2025 --conditions auto:run3_hlt_relval --data  --eventcontent FEVTDEBUGHLT --datatier FEVTDEBUGHLT --era Run3_2024 -n 500 --filein  file:/eos/cms/store/group/dpg_trigger/comm_trigger/TriggerStudiesGroup/Scouting/Run3/ScoutingPFMonitor/300684ed-1a51-474f-8c4f-b3bf1e1f5044_skimmed.root\r\n\r\n[3]: cmsDriver.py step3  --conditions auto:run3_data_prompt_relval -s RAW2DIGI,L1Reco,RECO,PAT,NANO,DQM:@hltScouting --datatier RECO,MINIAOD,NANOAOD,DQMIO --eventcontent RECO,MINIAOD,NANOEDMAOD,DQM --data  --process reRECO --scenario pp --era Run3_2024 --customise Configuration/DataProcessing/RecoTLR.customisePostEra_Run3_2024 -n 500 --filein file:step2_L1REPACK_HLT.root\r\n\r\n[4]: cmsDriver.py step4 -s HARVESTING:@hltScouting --conditions auto:run3_data --data  --filetype DQM --scenario pp --era Run3_2024 -n 500 --filein file:step3_RAW2DIGI_L1Reco_RECO_PAT_NANO_DQM_inDQM.root\r\n```\r\nAlso picked another workflow to validate\r\n```\r\n runTheMatrix.py -l 145.314\r\n```\r\n\r\n[cc: @silviodonato @elfontan ]\r\n", "branch": "master", "changed_files": 9, "comments": 6, "commits": 5, "created_at": "1744813660", "deletions": 692, "labels": ["dqm-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved"], "milestone": "CMSSW_15_1_X", "number": 47889, "release-notes": [], "review_comments": 0, "state": "open", "title": "Include HLT(DST) + L1 seed information in Scouting Offline DQM for EGM", "updated_at": "1745390132", "user": "tihsu99"}