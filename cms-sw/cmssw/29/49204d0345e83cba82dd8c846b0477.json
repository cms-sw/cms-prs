{"additions": 1291, "auther_ref": "LowPtElectronsFull_105X_squash", "auther_sha": "99f4b068914f3950c0b90f988e5aac044739ba07", "author": "bainbrid", "body": "(This PR is expected to supersede #25696.)\r\n\r\nThis PR builds on top of the #25455 PR, entitled \"Low pT electrons (up to GsfTracks)\". \r\n\r\nThe (original) diff with respect to #25455 is [here](https://github.com/bainbrid/cmssw/commit/dd772f2363709679e4a3f9fba0687e554140bb3f).\r\n\r\nIn summary, the PR:\r\n- completes the low pT electron chain by adding new modules and extending in a minor way the functionality of the existing Seeding module;\r\n- does not introduce any new DataFormat and simply reuses existing ones;\r\n- adds new collections to the Event;\r\n- does not alter any of the default EGamma code and workflows,\r\n- integrates within the miniAOD workflows,\r\n- relies on a new BDT model for ID purposes, found in [this](https://github.com/cms-data/RecoEgamma-ElectronIdentification/pull/12) PR.\r\n\r\nThe modified existing modules are:\r\n- ```LowPtGsfElectronSeedProducer```: this producer is minimally extended to produce a ValueMap<PreIdRef> indexed by an ElectronSeedRef. The PreIds hold the discriminator outputs of the BDT models used by this producer but the PreIds cannot be accessed directly from the GsfElectrons and related interfaces, while the ElectronSeeds are accessible. Hence this ValueMap allows the ```LowPtGsfElectronSeedValueMaps``` module to link the BDT output from the Seeding module to electrons, details below.\r\n\r\nThe new modules are:\r\n- ```LowPtGsfElectronSCProducer```: A new \"tracker-driven\" SuperCluster producer, seeded by extrapolating the low pT GsfTracks and brem trajectories to the ECAL. \r\n- ```LowPtGsfElectronCoreProducer```: this straightforward module produces GsfElectronCore objects and borrows heavily from the standard EGamma code.\r\n- ```LowPtGsfElectronProducer```: this straightforward module produces GsfElectron objects and borrows heavily from the standard EGamma code. \r\n- ```lowPtGsfElectronSeedValueMapsProducer```: This module consumes GsfElectrons and the ValueMap from the ```LowPtGsfElectronSeedProducer``` module. It produces two ValueMap<double> indexed by a GsfElectronRef that contain the BDT discriminator values. \r\n- ```LowPtGsfElectronIDProducer```: this module consumes GsfElectrons and makes use of a BDT model to ID the electrons, i.e. discriminate genuine electrons from fakes. The XML  description of the model can be found in [this](https://github.com/cms-data/RecoEgamma-ElectronIdentification/pull/12) PR to the cms-data repository. \r\n- ```miniAOD``` integration: modifications to the ```PhysicsTools/PatAlgos``` package allow to produced a slimmed low pT electron collection.  \r\n\r\n[Here](https://github.com/bainbrid/cmssw/blob/LowPtElectronsFull_105X/RecoEgamma/EgammaElectronProducers/python/lowPtGsfElectronSequence_cff.py#L76-L85) is the new sequence.\r\n\r\n[Here](https://github.com/bainbrid/cmssw/blob/LowPtElectronsFull_105X/RecoEgamma/Configuration/python/RecoEgamma_EventContent_cff.py#L44-L50) are the output collections stored for the RECO and AOD data tiers.\r\n\r\n[Here](https://github.com/bainbrid/cmssw/blob/a8bd5e5011f1316e934a1c0aa1d1e750e353db82/PhysicsTools/PatAlgos/python/slimming/MicroEventContent_cff.py#L9) and [here](https://github.com/bainbrid/cmssw/blob/a8bd5e5011f1316e934a1c0aa1d1e750e353db82/PhysicsTools/PatAlgos/python/slimming/MicroEventContent_cff.py#L31-L32) are the collections stored in the miniAOD data tier. \r\n", "branch": "master", "changed_files": 36, "comments": 87, "commits": 26, "created_at": "1548276641", "deletions": 53, "labels": ["analysis-pending", "code-checks-approved", "comparison-available", "orp-pending", "pending-signatures", "reconstruction-pending", "requires-external", "tests-rejected"], "milestone": "CMSSW_10_5_X", "number": 25753, "release-notes": [], "review_comments": 46, "state": "open", "title": "Complete low pT electron chain (2)", "updated_at": "1548985692", "user": "bainbrid"}