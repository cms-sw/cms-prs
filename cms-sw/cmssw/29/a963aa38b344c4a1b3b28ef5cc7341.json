{"additions": 146, "auther_ref": "fixDictionariesTrackTriggerAssociation", "auther_sha": "058a9c964edabf750fef917438961bf4353aad6a", "author": "makortel", "body": "#### PR description:\r\n\r\nhttps://github.com/cms-sw/cmssw/pull/45423#issuecomment-2226416814 pointed to potential issues in dictionaries defined in `SimTracker/TrackTriggerAssociation` and `SimGeneral/TrackingAnalysis`. This PR\r\n* Moves dictionary of `map<string, unsigned long long>` to `DataFormats/StdDictionaries`\r\n* Removes dictionary of `map<int, int>` from `SimTracker/TrackTriggerAssociation` because it is already defined in `DataFormats/StdDictionaries`\r\n* Removes dictionaries of `map<int, HepMC...>` from `SimTracker/TrackTriggerAssociation` because they are already defined in `SimDataFormats/GeneratorProducts`\r\n* Removes TrackingParticle-only dictionaries from `SimTracker/TrackTriggerAssociation` because they are already defined in `SimDataFormats/TrackingAnalysis`\r\n* Moves `TT{Cluster,Stub,Track}AssociationMap` classes and their dictionaries from `SimTracker/TrackTriggerAssociation` to `SimDataFormats/Associations`.\r\n  * I saw in IB RelVal framework job reports these classes are persisted, and therefore they must be defined in a data format package. `SimDataFormats/Associations` seemed like a reasonable placement.\r\n* Marks `tt::StubAssociation` as transient\r\n  * I did not see it being persisted at the moment, and the dependence on `tt::Setup` (defined in `L1Trigger/TrackTrigger`) implies it (in its present form) can not be moved to a data format package, and therefore it must not be persisted\r\n*  Moves dictionaries of `std::pair`s of `Ptr<TTTrack>` and `Ptr<TrackingParticle>` from `SimGeneral/TrackingAnalysis` to `SimDataFormats/Associations`\r\n  * These seem to be related to the `std::map`s already defined there (by an earlier commit in this PR)\r\n* Moves dictionaries of `std::pair<TrackingParticleRef, TrackPSimHitRef>` etc from `SimGeneral/TrackingAnalysis` to `SimDataFormats/Associations`\r\n  * I saw these are persisted, and therefore the dictionaries must be defined in a data format package. `SimDataFormats/Associations` seemed like a reasonable placement.\r\n\r\nI am a little bit concerned though that the `SimDataFormats/Associations` package has become a kitchen sink, which means that some jobs may end up loading more shared libraries than necessary. \r\n\r\nResolves https://github.com/cms-sw/framework-team/issues/968\r\n\r\n#### PR validation:\r\n\r\nThe modified packages compiled in 14_1_0_pre5 (I had to rebase afterwards but the conflict looked simple enough).", "branch": "master", "changed_files": 57, "comments": 6, "commits": 7, "created_at": "1722013000", "deletions": 173, "labels": ["simulation-pending", "dqm-pending", "l1-pending", "hlt-pending", "core-pending", "pending-signatures", "tests-approved", "orp-pending", "upgrade-pending", "code-checks-approved", "tracking", "trk"], "milestone": "CMSSW_14_1_X", "number": 45567, "release-notes": [], "review_comments": 0, "state": "open", "title": "Move dictionaries (and some classes) defined in `SimTracker/TrackTriggerAssociation` and `SimGeneral/TrackingAnalysis` to more proper packages", "updated_at": "1722031264", "user": "makortel"}