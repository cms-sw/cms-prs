{"additions": 19, "auther_ref": "fix_pixel_CPE_poisition_141x", "auther_sha": "785ff5da831d7f070e7bf69d219112fda0e78c91", "author": "fwyzard", "body": "#### PR description:\r\n\r\nRewrite the pixel CPE position calculation to improve the reproducibility of the results.\r\n\r\nFix the includes used in `DataFormats/TrackingRecHitSoA` to avoid the dependency on `RecoLocalTracker/SiPixelRecHits`.\r\n\r\nThanks to @missirol for spotitng the source of the discrepancy.\r\n\r\n#### PR validation:\r\n\r\nTested on top of CMSSW 14.0.11 running the HLT over 100k events:\r\n  - the CPU-only results are reproducible, with and without these changes;\r\n  - the GPU vs CPU results are in general slightly more reproducible; \r\n  - the biggest improvement is fixing the reproducibility of `HLT_SingleEle8_v7`, going from 2% of the accepted events to being fully reproducible.\r\n\r\n##### GPU vs CPU results, without these changes\r\n  - +4/-5 events in `HLT_SingleEle8_v7` (2% of the accepted events)\r\n  -  +/-4 events in  1 path\r\n  -  +/-3 events in  2 paths\r\n  -  +/-2 events in  6 paths\r\n  -  +/-1 event  in 59 paths\r\n\r\n##### GPU vs CPU results, with these changes\r\n  -  +/-3 events in  2 paths\r\n  -  +/-2 events in 12 paths\r\n  -  +/-1 event  in 46 paths\r\n\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nTo be backported to 14.0.x for data taking.", "branch": "master", "changed_files": 4, "comments": 21, "commits": 2, "created_at": "1721127177", "deletions": 18, "labels": ["reconstruction-approved", "fully-signed", "orp-pending", "tests-started", "bug-fix", "code-checks-approved", "heterogeneous-approved", "tracking", "trk"], "milestone": "CMSSW_14_1_X", "number": 45471, "release-notes": [], "review_comments": 9, "state": "open", "title": "Fix pixel CPE poisition", "updated_at": "1721160571", "user": "fwyzard"}