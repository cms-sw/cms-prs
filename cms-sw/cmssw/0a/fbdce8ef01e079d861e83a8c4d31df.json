{"additions": 216, "auther_ref": "devel_hltTriggerResultsFilterThrow", "auther_sha": "e355f21d36c73b01e3e1a286c7da202048600602", "author": "missirol", "body": "#### PR description:\r\n\r\nThis PR updates the `TriggerResultsFilter` plugin to spot patterns without any valid matches when `HLTPathStatus` collections are used (i.e. when `usePathStatus=True`).\r\n\r\nUp to now `throw=True` had no effect if `usePathStatus=True`, even if `triggerConditions` contained patterns with no valid matches amongst the Paths in the job.\r\n\r\nAll `TriggerResultsFilter` instances in the central HLT menus use `throw=True`, and since many use `usePathStatus=True`, those could in principle silently return `False` due to invalid patterns (in practise, those patterns are often controlled by the `ConfDB` GUI, so should be correct).\r\n\r\nAfter this PR, invalid patterns for `HLTPathStatus` collections will lead to an exception if `throw=True`.\r\n\r\nWhile testing these changes, small updates were applied to the unit-tests for `TriggerResultsFilter`. In particular, `TriggerResultsFilter` modules with valid patterns now use `throw=True`, while those with invalid patterns are those with `throw=False`.\r\n\r\nThanks to @fwyzard for much help with the implementation; I tag him to review these changes.\r\n\r\n#### PR validation:\r\n\r\nPrivate tests with the relevant unit-tests.\r\n\r\n#### If this PR is a backport, please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nA backport to `12_4_X` is not necessary, but might be useful.", "branch": "master", "changed_files": 6, "comments": 6, "commits": 1, "created_at": "1660309730", "deletions": 243, "labels": ["hlt-pending", "pending-signatures", "orp-pending", "tests-started", "bug-fix", "code-checks-approved"], "milestone": "CMSSW_12_5_X", "number": 39044, "release-notes": [], "review_comments": 9, "state": "open", "title": "allow `TriggerResultsFilter` to throw for invalid `HLTPathStatus` patterns", "updated_at": "1661288390", "user": "missirol"}