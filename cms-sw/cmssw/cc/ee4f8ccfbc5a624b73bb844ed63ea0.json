{"additions": 133, "auther_ref": "AlCaRecoTriggerBits_123X", "auther_sha": "1cdde1365cee57953b94d785379804b9707e01e4", "author": "hjkwon260", "body": "#### PR description:\r\n\r\nThis PR consists of 2 updates on AlCaRecoTriggerBitsRcdUpdate.cc. 1. Adding new methods and 2. enhancing the existing record writer.\r\n\r\n1. Methods to add/remove trigger bits to existing key\r\nThis is the most common use case of AlCaRecoTriggerBits update, where it has been achieved by existing methods: removeKeysFromMap followed by addTriggerLists. Since the former one remove set of key:paths, one has to input full list of the other paths in addition to being added/removed ones. This is for updating the record more efficiently. \r\n\r\n2. Skipping to append same hash functionality\r\nAs we will use the updater in new O2O workflow, this is needed to keep target tag history clean.  O2O will be called every run and the current writer will simply add new hash for every 'since', nevertheless the hash doesn't change. The idea is analogy to data writer in [L1O2O](https://github.com/cms-sw/cmssw/blob/6d2f66057131baacc2fcbdd203588c41c885b42c/CondTools/L1TriggerExt/src/DataWriterExt.cc#L99-L103) and `writeBitsToDB` was modified with @ggovi's help. It won't harm the existing functionality. \r\n\r\nAlso a python script to be called by O2O is added, where it implements the use case for SiStrip:https://indico.cern.ch/event/1041042/contributions/4373068/attachments/2249069/3815192/TriggerBitO2OforSiStrip.pdf#page=6\r\n@mmusich hope it's fine to refer the slide and please have a look if the implementation is reasonable.\r\n\r\nA test was done in November with private patch: https://cms-conddb.cern.ch/cmsDbBrowser/logs/O2O_logs/Prep/2021-11-26/2021-11-26/None/None\r\nWe wish to deploy it with the official release.\r\n\r\n#### PR validation:\r\n\r\nIt passed runtests and code quality checks.\r\n\r\n", "branch": "master", "changed_files": 1, "comments": 29, "commits": 2, "created_at": "1646238336", "deletions": 12, "labels": ["hlt-approved", "fully-signed", "tests-approved", "orp-pending", "db-approved", "code-checks-approved"], "milestone": "CMSSW_12_5_X", "number": 37119, "release-notes": [], "review_comments": 50, "state": "open", "title": "Update AlCaRecoTriggerBits record updater ", "updated_at": "1654837213", "user": "hjkwon260"}