{"additions": 509, "auther_ref": "alternate_implementation_v2", "auther_sha": "1aa8938b30dde00c1338d5fd8b3b5bd7064bdb31", "author": "CMSTrackerDPG", "body": "#### PR description:\r\n\r\n# Morphing Algorithm for Fake Digi Addition\r\n\r\nThis PR introduces an **optional morphing algorithm** that can add fake digis before clustering. The morphing feature performs a **dilation** step followed by an **erosion**, which can help simulate detector effects or study the robustness of the clustering algorithm. By default this morphing algorithm is applied only to specific detector regions which can be configured as shown below.\r\n\r\nThis superceded the PR here https://github.com/cms-sw/cmssw/pull/48343 as the previous implementation has issues with throughput due to memory usage.\r\n\r\n## Configuration Options\r\n\r\nThe morphing behavior can be controlled in the EDProducer configuration with the following options:\r\n\r\n- **Enable Morphing:**\r\n  ```python\r\n  DoDigiMorphing = cms.bool(True)  # Default: False\r\n  ```\r\n- **Maximum Fakes per Module:**\r\n  ```python\r\n  MaxFakesInModule = cms.uint32(10000)  # Default: maxPixInModule * 2 / 5\r\n  ```\r\n\r\n## Regional Morphing\r\n\r\nRegions can be specified in the configuration as follows:\r\n\r\n- **Barrel Regions:**  \r\n  Use `LAYER,LADDER,MODULE` coordinates, with support for individual values or ranges (e.g., `1-12` for ladders 1 through 12).\r\n  ```python\r\n  barrelRegions = cms.vstring(\r\n      \"1,1-12,1-2\",\r\n      \"1,1-12,7-8\",\r\n      \"2,1-28,1\",\r\n      \"2,1-28,8\"\r\n  )  # Default: as shown above\r\n  ```\r\n\r\n- **Endcap Regions:**  \r\n  Use `DISK,BLADE,SIDE,PANEL` coordinates, with support for ranges.\r\n  ```python\r\n  endcapRegions = cms.vstring(\r\n      # Default: empty (no endcap regions selected)\r\n  )\r\n\r\n#### PR validation:\r\n\r\nValidation results can be found here: https://indico.cern.ch/event/1567986/contributions/6647897/attachments/3116797/5527819/HLT_digi_morphing_validation.pdf\r\n", "branch": "master", "changed_files": 6, "comments": 4, "commits": 7, "created_at": "1755138183", "deletions": 37, "labels": ["reconstruction-pending", "core-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-rejected", "trk"], "milestone": "CMSSW_15_1_X", "number": 48734, "release-notes": [], "review_comments": 8, "state": "open", "title": "DigiMorphing for Pixels", "updated_at": "1755146785", "user": "Chirayu18"}