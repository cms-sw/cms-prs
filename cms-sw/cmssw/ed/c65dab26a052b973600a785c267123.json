{"additions": 249, "auther_ref": "ElectronNHitSeedProducer_1_squashed", "auther_sha": "d28cda9c3bb65ac0aa1d7d82de067fea672ec9aa", "author": "guitargeek", "body": "#### PR description:\r\n\r\nIn https://github.com/cms-sw/cmssw/pull/29304 it was discussed that the `ElectronSeedProducer` should be replaced at some point with the `ElectronNHitSeedProducer` which is already used at HLT. That's indeed a good idea, but it would be good if we update the `ElectronNHitSeedProducer` first to fulfil some good practices for producer plugins, which this PR implements:\r\n\r\n1. Usage of `EDPutToken`\r\n2. Usage of `ESGetToken` instead of caching the event setup objects manually (the framework does this efficiently for us)\r\n3. Move from `stream` to `global` module to enforce good design practice (like `const` functions and immutable algorithm classes)\r\n\r\nIn particular, the move to a `global` module was achieved  by splitting the `TrajSeedMatcher` class up in a `const` configuration structure which is initialized in the constructor of the plugin, and an actual algorithm class which is instantiated for each event using a reference to the configuration. This pattern is already used in some other plugins (like the `GsfElectronAlgo`) and I think it makes sense.\r\n\r\n#### PR validation:\r\n\r\nCMSSW compiles and local matrix tests pass.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nNo backport intended.\r\n", "branch": "master", "changed_files": 4, "closed_at": "1588659384", "comments": 44, "commits": 3, "created_at": "1587151366", "deletions": 319, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "hlt-approved", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "968b6b1597e84a3ae8d246bf7f313b9f905eab27", "merged_at": "1588659383", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 29512, "release-notes": [], "review_comments": 6, "state": "closed", "title": "ElectronNHitSeedProducer modernization", "updated_at": "1588659384", "user": "guitargeek"}