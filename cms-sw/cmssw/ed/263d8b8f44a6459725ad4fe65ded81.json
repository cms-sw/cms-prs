{"additions": 49, "auther_ref": "SimpleJetCorrector-root64", "auther_sha": "850788f617b234d052eb38f84ae299540584653d", "author": "davidlt", "body": "ROOT6 (master, pre-6.04.00) has a new implemention for TFormula. For\nthread-safety we are making copies of TFormula, because we need to\nmodify it by changing the parameters. Copies are no more needed for\nROOT 6.04.00 and instead\n\n```\nDouble_t EvalPar(const Double_t *, const Double_t *) const\n```\n\ncan be used to evalute TFormula without modification.\n\nWithout this change CMSSW spends most of it's cpu time in TFormula ctor\nand memory consumption (due to string allocations) goes up by 2-2.5X.\n\nROOT6 commit, which made `EvalPar` thread-safe:\nbcfb68afac1db25d824d35557493d0f3c941b332\n\nTested with CMSSW_7_5_DEVEL_X_2015-05-26-2300 (incl. ROOT6 \nmaster branch), resource usage compared with 4.63 workflow step3 (RECO). \nAll within expected behavior.\n\nWithout this pull request CMSSW + ROOT 6.04.00 most likely would force\nbuild machine to go offline (due to memory usage).\n\nSigned-off-by: David Abdurachmanov David.Abdurachmanov@cern.ch\n", "branch": "CMSSW_7_5_X", "changed_files": 2, "closed_at": "1432904956", "comments": 18, "commits": 1, "created_at": "1432711019", "deletions": 9, "labels": ["analysis-pending", "comparison-available", "db-pending", "hold", "orp-pending", "pending-signatures", "tests-approved"], "merge_commit_sha": "d27ef293abf3e0afe81e78431874a311115e04bb", "merged_at": "1432904956", "merged_by": "davidlange6", "milestone": "CMSSW_7_5_X", "number": 9289, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Reimplement SimpleJetCorrector::correctionBin for ROOT 6.04.00", "updated_at": "1432907258", "user": "davidlt"}