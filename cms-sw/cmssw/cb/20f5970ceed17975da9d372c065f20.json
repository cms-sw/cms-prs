{"additions": 18, "auther_ref": "dd4hep-test", "auther_sha": "753cf5cf4aeddf5eb0c71f6666d28af8f347a70c", "author": "fabiocos", "body": "#### PR description:\r\n\r\nThis PR is a follow-up of the discussion in #29975 about the possible workflow to test DD4hep in a standard environment. As now a 2021 full geometry is available, a list of possible workflows fully based on DD4hep can be easily added as suggested by @kpedro88. The workflows themselves are failing, and for this reason they are not made available to the IB or short matrix. But they can be used for routine checks.\r\n\r\nAs offset \".911\" has been chosen, it does not overlaps with any other use to my knowledge.\r\n\r\n#### PR validation:\r\n\r\n```\r\n17:41 cmsdev25 1039> runTheMatrix.py --what upgrade -l 11634.911 --dryRun \r\n\r\nignoring non-requested file relval_standard\r\nignoring non-requested file relval_highstats\r\nignoring non-requested file relval_pileup\r\nignoring non-requested file relval_generator\r\nignoring non-requested file relval_extendedgen\r\nignoring non-requested file relval_production\r\nignoring non-requested file relval_ged\r\nprocessing relval_upgrade\r\nignoring non-requested file relval_2017\r\nignoring non-requested file relval_2026\r\nignoring non-requested file relval_identity\r\nignoring non-requested file relval_machine\r\nignoring non-requested file relval_unsch\r\nignoring non-requested file relval_premix\r\nRunning in 4 thread(s)\r\n\r\nPreparing to run 11634.911 TTbar_14TeV+TTbar_14TeV_TuneCP5_2021_GenSimFull_DD4hep+DigiFull_DD4hep_2021+RecoFull_DD4hep_2021+HARVESTFull_DD4hep_2021+ALCAFull_DD4hep_2021\r\n\r\n# in: /build/fabiocos/112X/dd4hep-test/CMSSW_11_2_X_2020-05-26-2300/work dryRun for 'cd 11634.911_TTbar_14TeV+TTbar_14TeV_TuneCP5_2021_GenSimFull_DD4hep+DigiFull_DD4hep_2021+RecoFull_DD4hep_2021+HARVESTFull_DD4hep_2021+ALCAFull_DD4hep_2021\r\n cmsDriver.py TTbar_14TeV_TuneCP5_cfi  --conditions auto:phase1_2021_realistic -n 10 --era Run3_dd4hep --eventcontent FEVTDEBUG --relval 9000,100 -s GEN,SIM --datatier GEN-SIM --beamspot Run3RoundOptics25ns13TeVLowSigmaZ --geometry DD4hepExtended2021 --fileout file:step1.root  > step1_TTbar_14TeV+TTbar_14TeV_TuneCP5_2021_GenSimFull_DD4hep+DigiFull_DD4hep_2021+RecoFull_DD4hep_2021+HARVESTFull_DD4hep_2021+ALCAFull_DD4hep_2021.log  2>&1\r\n \r\n\r\n# in: /build/fabiocos/112X/dd4hep-test/CMSSW_11_2_X_2020-05-26-2300/work dryRun for 'cd 11634.911_TTbar_14TeV+TTbar_14TeV_TuneCP5_2021_GenSimFull_DD4hep+DigiFull_DD4hep_2021+RecoFull_DD4hep_2021+HARVESTFull_DD4hep_2021+ALCAFull_DD4hep_2021\r\n cmsDriver.py step2  --conditions auto:phase1_2021_realistic -s DIGI:pdigi_valid,L1,DIGI2RAW,HLT:@relval2021 --datatier GEN-SIM-DIGI-RAW -n 10 --geometry DD4hepExtended2021 --era Run3_dd4hep --eventcontent FEVTDEBUGHLT --filein  file:step1.root  --fileout file:step2.root  > step2_TTbar_14TeV+TTbar_14TeV_TuneCP5_2021_GenSimFull_DD4hep+DigiFull_DD4hep_2021+RecoFull_DD4hep_2021+HARVESTFull_DD4hep_2021+ALCAFull_DD4hep_2021.log  2>&1\r\n \r\n\r\n# in: /build/fabiocos/112X/dd4hep-test/CMSSW_11_2_X_2020-05-26-2300/work dryRun for 'cd 11634.911_TTbar_14TeV+TTbar_14TeV_TuneCP5_2021_GenSimFull_DD4hep+DigiFull_DD4hep_2021+RecoFull_DD4hep_2021+HARVESTFull_DD4hep_2021+ALCAFull_DD4hep_2021\r\n cmsDriver.py step3  --conditions auto:phase1_2021_realistic -n 10 --era Run3_dd4hep --eventcontent RECOSIM,MINIAODSIM,DQM --runUnscheduled  -s RAW2DIGI,L1Reco,RECO,RECOSIM,EI,PAT,VALIDATION:@standardValidation+@miniAODValidation,DQM:@standardDQM+@ExtraHLT+@miniAODDQM --datatier GEN-SIM-RECO,MINIAODSIM,DQMIO --geometry DD4hepExtended2021 --filein  file:step2.root  --fileout file:step3.root  > step3_TTbar_14TeV+TTbar_14TeV_TuneCP5_2021_GenSimFull_DD4hep+DigiFull_DD4hep_2021+RecoFull_DD4hep_2021+HARVESTFull_DD4hep_2021+ALCAFull_DD4hep_2021.log  2>&1\r\n \r\n\r\n# in: /build/fabiocos/112X/dd4hep-test/CMSSW_11_2_X_2020-05-26-2300/work dryRun for 'cd 11634.911_TTbar_14TeV+TTbar_14TeV_TuneCP5_2021_GenSimFull_DD4hep+DigiFull_DD4hep_2021+RecoFull_DD4hep_2021+HARVESTFull_DD4hep_2021+ALCAFull_DD4hep_2021\r\n cmsDriver.py step4  --conditions auto:phase1_2021_realistic -s HARVESTING:@standardValidation+@standardDQM+@ExtraHLT+@miniAODValidation+@miniAODDQM --scenario pp --filetype DQM --geometry DD4hepExtended2021 --era Run3_dd4hep --mc  -n 100  --filein file:step3_inDQM.root --fileout file:step4.root  > step4_TTbar_14TeV+TTbar_14TeV_TuneCP5_2021_GenSimFull_DD4hep+DigiFull_DD4hep_2021+RecoFull_DD4hep_2021+HARVESTFull_DD4hep_2021+ALCAFull_DD4hep_2021.log  2>&1\r\n\r\n# in: /build/fabiocos/112X/dd4hep-test/CMSSW_11_2_X_2020-05-26-2300/work dryRun for 'cd 11634.911_TTbar_14TeV+TTbar_14TeV_TuneCP5_2021_GenSimFull_DD4hep+DigiFull_DD4hep_2021+RecoFull_DD4hep_2021+HARVESTFull_DD4hep_2021+ALCAFull_DD4hep_2021\r\n cmsDriver.py step5  --conditions auto:phase1_2021_realistic -n 10 --era Run3_dd4hep --eventcontent ALCARECO --filein file:step3.root -s ALCA:SiPixelCalSingleMuon+TkAlMuonIsolated+TkAlMinBias+MuAlOverlaps+EcalESAlign+TkAlZMuMu+HcalCalHBHEMuonFilter+TkAlUpsilonMuMu+TkAlJpsiMuMu+SiStripCalMinBias --datatier ALCARECO --geometry DD4hepExtended2021 --fileout file:step5.root  > step5_TTbar_14TeV+TTbar_14TeV_TuneCP5_2021_GenSimFull_DD4hep+DigiFull_DD4hep_2021+RecoFull_DD4hep_2021+HARVESTFull_DD4hep_2021+ALCAFull_DD4hep_2021.log  2>&1\r\n \r\n11634.911_TTbar_14TeV+TTbar_14TeV_TuneCP5_2021_GenSimFull_DD4hep+DigiFull_DD4hep_2021+RecoFull_DD4hep_2021+HARVESTFull_DD4hep_2021+ALCAFull_DD4hep_2021 Step0-PASSED Step1-PASSED Step2-PASSED Step3-PASSED Step4-PASSED  - time date Wed May 27 17:40:48 2020-date Wed May 27 17:40:48 2020; exit: 0 0 0 0 0\r\n1 1 1 1 1 tests passed, 0 0 0 0 0 failed\r\n```\r\n\r\nThe list of workflows is just enlarged by the desired addition.", "branch": "master", "changed_files": 2, "closed_at": "1590987968", "comments": 24, "commits": 2, "created_at": "1590587016", "deletions": 52, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "geometry-approved", "orp-approved", "pdmv-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "5e9f035db6a7ef1fed919ccaf3fd3f2bf9ecc594", "merged_at": "1590987968", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 30003, "release-notes": [], "review_comments": 4, "state": "closed", "title": "PyReleaseValidation: move DD4hep test workflow into upgrade special wf section", "updated_at": "1590987969", "user": "fabiocos"}