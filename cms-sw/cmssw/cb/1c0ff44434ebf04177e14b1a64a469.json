{"additions": 128, "auther_ref": "matrix-injector-move-wmsplit-separate-method", "auther_sha": "e351547c99d1dfb7b9b96674933797005aeca289", "author": "justinasr", "body": "#### PR description:\r\n\r\nMove hardcoded \"wmsplit\" dictionary to a separate method so other scripts and tools would be able to use these values. There are no changes to how MatrixInjector.py works and it's interface, except one additional method. This is needed for the currently developed RelVal machine by PdmV.\r\n\r\nDuring development I noticed that `upgradeWorkflowComponents.py` imports `Kby` from `relval_steps.py`:\r\n```\r\nfrom  Configuration.PyReleaseValidation.relval_steps import Kby\r\n```\r\nand \r\n`relval_steps.py` import from `upgradeWorkflowComponents.py`:\r\n```\r\nfrom .upgradeWorkflowComponents import step3_trackingOnly\r\n...\r\nfrom .upgradeWorkflowComponents import digiPremixLocalPileup\r\n...\r\nfrom  Configuration.PyReleaseValidation.upgradeWorkflowComponents import *\r\n```\r\n\r\nWhich in my test case lead to a circular import. `Kby` imported from `relval_steps.py` is defined in `MatrixUtil.py`, so I changed `Kby` in `upgradeWorkflowComponents.py` to be imported from `MatrixUtil.py` in rather than `relval_steps.py`.\r\n\r\n#### PR validation:\r\n\r\nRan runTheMatrix.py with commented-out submission to computing and added prints to see if values are picked up from the moved \"wmsplit\" dictionary. Code did not crash and print statements printed expected values from \"wmsplit\".\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nNot a backport.\r\n", "branch": "master", "changed_files": 2, "closed_at": "1597245052", "comments": 12, "commits": 1, "created_at": "1597221216", "deletions": 123, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "pdmv-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "72bdd0afcc8a1bac794c4b956a1f2b655139dfd9", "merged_at": "1597245052", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 31122, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Move \"wmsplit\" dict build to a static method, remove circular import", "updated_at": "1597245052", "user": "justinasr"}