{"additions": 22, "auther_ref": "EMTF_backportBXProtection_12_4_Sept22", "auther_sha": "a7a39422d6cd009790322ef53ebe0dbfeb231347", "author": "eyigitba", "body": "#### PR description:\r\n\r\nThis PR is a partial backport of https://github.com/cms-sw/cmssw/pull/38961. The rest of the changes will go in with https://github.com/cms-sw/cmssw/pull/39389\r\n\r\nThe PR was made as discussed in https://github.com/cms-sw/cmssw/pull/39388\r\n\r\nThis PR fixes the crash reported in https://github.com/cms-sw/cmssw/issues/38940. EMTF DAQ readout window is 7 BX wide [-3, 3], but in cases of corrupted data from TPs or faulty configurations it can have a value of 4.\r\n\r\nApaprently, such cases happened during LS2 when GEMs were not working properly. Unpacking this data and trying to use the DQM plots added in https://github.com/cms-sw/cmssw/pull/38818 causes a crash. \r\n\r\nThis PR adds a veto for any TP or EMTF track that falls out of this [-3, 3] window since these are clearly not valid.\r\n\r\n<!-- Please replace this text with a description of the feature proposed or problem addressed, specifying:\r\n  - what changes are expected in the output if any, \r\n  - what other PRs or externals it depends upon if any,\r\n  - link to any additional material useful to provide a documentation for this PR (slides, JIRA tickets, related pull requestes, hypernews, TWiki or Indico pages)  -->\r\n\r\n#### PR validation:\r\n\r\nValidated with the failing workflows from https://github.com/cms-sw/cmssw/issues/38940. Everything works and we print out the warning messages about corrupted data.\r\n\r\n<!-- Please replace this text with a description of which tests have been performed to verify the correctness of the PR, including the eventual addition of new code for testing like unit tests, test configurations, additions or updates to the runTheMatrix test workflows -->\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\n\r\nThis PR is a partial backport of https://github.com/cms-sw/cmssw/pull/38961. The rest of the changes will go in with https://github.com/cms-sw/cmssw/pull/39389\r\n\r\nThe PR was made as discussed in https://github.com/cms-sw/cmssw/pull/39388\r\n", "branch": "CMSSW_12_4_X", "changed_files": 2, "comments": 10, "commits": 1, "created_at": "1663311576", "deletions": 0, "labels": ["l1-approved", "fully-signed", "tests-approved", "orp-pending", "backport-ok"], "milestone": "CMSSW_12_4_X", "number": 39413, "release-notes": [], "review_comments": 0, "state": "open", "title": "[12_4_X] Added protection against out-of-range BX values in EMTF unpacker blocks", "updated_at": "1663522054", "user": "eyigitba"}