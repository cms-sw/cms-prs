{"additions": 5, "auther_ref": "fix_hltOnlineDQMLumiRanges", "auther_sha": "726c75da58bd03361b0c1d6b79bcfcd521f73c59", "author": "missirol", "body": "#### PR description:\r\n\r\nThis PR adjusts the x-axis upper limit of the \"vs-lumi\" harvesting outputs produced by one HLT client of the online DQM (i.e. `hlt_dqm_clientPB-live`). The relevant quantity is the instantaneous luminosity, and the upper limit is changed from 2e34 Hz/cm^2 to 3e34 Hz/cm^2. More details can be found in [CMSHLT-2803](https://its.cern.ch/jira/browse/CMSHLT-2803).\r\n\r\n#### PR validation:\r\n\r\nManual checks, e.g.\r\n```bash\r\n#!/bin/bash -ex\r\n\r\nINPUTFILE=file:/eos/cms/store/group/dpg_trigger/comm_trigger/TriggerStudiesGroup/STORM/RAW/Run2022G_EphemeralHLTPhysics0_run362616/82ed6819-9c96-49e1-a5ed-b5edc1a90108.root\r\n\r\nRUNNUM=362616\r\n\r\nrm -rf run\"${RUNNUM}\"* upload\r\nconvertToRaw -f 500 -l 500 -r \"${RUNNUM}\":209 -o . -- \"${INPUTFILE}\"\r\n\r\ntmpfile=$(mktemp)\r\nhltConfigFromDB --runNumber 367406 > \"${tmpfile}\"\r\ncat <<@EOF >> \"${tmpfile}\"\r\nprocess.load(\"run${RUNNUM}_cff\")\r\nprocess.hltLumiMonitor.histoPSet.lumiPSet.xmax = 30000\r\nprocess.hltLumiMonitor.histoPSet.lumiPSet.nbins = 6000\r\nprocess.hltOnlineBeamSpotESProducer.timeThreshold = int(1e6)\r\ndel process.PrescaleService\r\nremoveObjs = [pathName for pathName in process.paths_() if not pathName.endswith('Path')] + [pathName for pathName in process.finalpaths_()]\r\nfor foo in removeObjs:\r\n    process.__delattr__(foo)\r\n@EOF\r\nedmConfigDump \"${tmpfile}\" > hlt.py\r\n\r\ncmsRun hlt.py &> hlt.log\r\n\r\ncmsRun \"${CMSSW_BASE}\"/src/DQM/Integration/python/clients/hlt_dqm_clientPB-live_cfg.py \\\r\n  runInputDir=. runNumber=\"${RUNNUM}\" runkey=pp_run scanOnce=True \\\r\n  datafnPosition=4\r\n```\r\n\r\n#### If this PR is a backport, please specify the original PR and why you need to backport that PR. If this PR will be backported, please specify to which release cycle the backport is meant for:\r\n\r\n`CMSSW_13_0_X`\r\n`CMSSW_13_1_X`\r\n", "branch": "master", "changed_files": 1, "comments": 4, "commits": 1, "created_at": "1684068177", "deletions": 8, "labels": ["dqm-pending", "pending-signatures", "tests-approved", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_13_2_X", "number": 41665, "release-notes": [], "review_comments": 0, "state": "open", "title": "extend x-axis range of \"vs-lumi\" harvesting outputs in HLT online-DQM", "updated_at": "1684081361", "user": "missirol"}