{"additions": 54, "auther_ref": "from-CMSSW_11_2_X_2020-08-25-2300", "auther_sha": "b17c4053fc4b71690e5e09fb15f866ff3af8b4ea", "author": "sbein", "body": "#### PR description:\r\nNote: The proposed changes to the code have no effect on SM physics by construction, nor on existing prompt BSM models. The changes impact events where an exotic particle (pdgId>1000000) has a displaced decay with dxy>~3cm. \r\n\r\nProblem: \r\nBAU, some decay products of  long-lived (LL) particles are not simulated by FastSim.\r\n\r\nExplanation\r\nFastSim decays displaced particles (dxy(origin, PV)>xy(beam pipe)) \"one by one\" by creating an empty Pythia event, loading in the one particle, and using pythia8::next() to decay. However, some exotic particles cannot be decayed \"on their own\", for example, LL top squarks - in reality, these would form R-hadrons, but we don't always generate those. In such cases, FastSim just gives up and no decay products are produced.\r\n\r\nProposed solution:\r\nLets make it default to take pre-set decay products of exotics. This will be the same as what's done for FullSim by default. \r\nAnother option would be to compel anyone requesting such models to work with realistic particles, say, R-hadrons in place of LL squarks. But, this would reduce FastSim's flexibility. \r\n\r\n#### PR validation:\r\n\r\nValidation has been performed by comparing equivalent FastSim and FullSim recipes. These validation studies were presented \r\nhttps://indico.cern.ch/event/949596/contributions/3993708/attachments/2093307/3517762/FastSimAugust2020Update.pdf\r\n\r\n#### \r\nThese changes should also be backported to previous releases 9_4_X, 10_2_X, and 10_6_X.\r\n\r\nbackport 9_4_X #31575\r\nfix backport 9_4_X #31596\r\nbackport 10_2_X #31597\r\nbackport 10_6_X #31598\r\n", "branch": "master", "changed_files": 3, "closed_at": "1600415949", "comments": 85, "commits": 26, "created_at": "1598621647", "deletions": 3, "labels": ["code-checks-approved", "comparison-available", "fastsim-approved", "fully-signed", "orp-pending", "tests-approved"], "merge_commit_sha": "c2b607e1a35ef5fe2ae08718cebebb4d4011606c", "merged_at": "1600415949", "merged_by": "silviodonato", "milestone": "CMSSW_11_2_X", "number": 31285, "release-notes": [], "review_comments": 18, "state": "closed", "title": "Solution for decay products of Long-lived exotic particles in FastSim ", "updated_at": "1601269446", "user": "sbein"}