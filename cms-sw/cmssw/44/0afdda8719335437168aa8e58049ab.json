{"additions": 21, "auther_ref": "10_6_X_fix-lostTracks-lostInnerHits", "auther_sha": "70cc48c7a439f3ebd8f398f2ecacee767b887119", "author": "elusian", "body": "#### PR description:\r\n\r\nThe lostTracks producer has a bug that leaves the `lostInnerHits` of the `PackedCandidate` unset (and thus at its default value of `validHitInFirstPixelBarrelLayer`). Other than in `lostInnerHits` the bug propagates in the number of valid pixel hits and the number of pixel and tracker layers with measurements in the `HitPattern` of the `bestTrack` of the candidate.\r\n\r\nThis PR fixes the bug by adding the call to `setLostInnerHits` as the code from the `packedPFCandidates` producer does. This fix has been checked running the workflow 136.8311 and the issue was solved (see attached figures in the PR on master).\r\n\r\n#### PR validation:\r\n\r\nThis PR has been validated with `runTheMatrix.py -l limited -i all --ibeos` and all checks are ok.\r\nThe final output is\r\n```\r\n35 34 33 25 12 2 1 1 1 tests passed, 0 0 0 0 0 0 0 0 0 failed\r\n```\r\nIn particular the DQM output of 136.8311 shows the differences which are expected: inside `Tracking/PackedCandidate/lostTracks`, in `diffLostInnerHits`, `diffHitPatternNumberOfLostPixelHits`, `diffHitPatternHasValidHitInFirstPixelBarrel`, `diffHitPatternNumberOfValidPixelHits`, `diffHitPatternPixelLayersWithMeasurement`, `diffHitPatternTrackerLayersWithMeasurement`, see the attached plots in the PR on master.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nThis PR is a backport of #32814, needed for BParking reprocessing.\r\n", "branch": "CMSSW_10_6_X", "changed_files": 2, "closed_at": "1617000451", "comments": 14, "commits": 2, "created_at": "1616596000", "deletions": 2, "labels": ["backport-ok", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "de730374025edb9824504a631ed312fc4668188a", "merged_at": "1617000451", "merged_by": "cmsbuild", "milestone": "CMSSW_10_6_X", "number": 33258, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix lostTracks producer not setting lostInnerHits", "updated_at": "1617000452", "user": "elusian"}