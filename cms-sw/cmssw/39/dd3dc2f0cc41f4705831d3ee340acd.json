{"additions": 6, "auther_ref": "fix_cfi_forConfDB", "auther_sha": "7da557d79b20ff0649ba4299d0646620ba8d14ea", "author": "mmusich", "body": "#### PR description:\r\n\r\n@Martin-Grunewald reported an issue in the confDB parsing of `CMSSW_15_0_0_pre2` concerning:\r\n\r\n```\r\n -> hltBcJpsiTkAllConeTracksIter [ConcreteChargedCandidateProducer] CHANGED\r\n       string particleType = \"K+\" [REMOVED]\r\n  -> hltCscSegments [CSCSegmentProducer] CHANGED\r\n       VPSet algo_psets [REMOVED]\r\n```\r\n\r\nthis is due to https://github.com/cms-sw/cmssw/pull/47017 and https://github.com/cms-sw/cmssw/pull/47045 having the modules  `ConcreteChargedCandidateProducer` and `CSCSegmentProducer`  auto-generate cfi files with incomplete top level parameter configurations.\r\nThis PR fixes the issue\r\n\r\n#### PR validation:\r\n\r\nUpon compilation I get the following python files available:\r\n\r\n```python\r\n$ more ../cfipython/el9_amd64_gcc12/CommonTools/RecoAlgos/ConcreteChargedCandidateProducer.py\r\nimport FWCore.ParameterSet.Config as cms\r\n\r\ndef ConcreteChargedCandidateProducer(*args, **kwargs):\r\n  mod = cms.EDProducer('ConcreteChargedCandidateProducer',\r\n    src = cms.InputTag(''),\r\n    particleType = cms.string('pi+'),\r\n    mightGet = cms.optional.untracked.vstring\r\n  )\r\n  for a in args:\r\n    mod.update_(a)\r\n  mod.update_(kwargs)\r\n  return mod\r\n```\r\n\r\nand\r\n\r\n```python\r\n$ more ../cfipython/el9_amd64_gcc12/RecoLocalMuon/CSCSegment/CSCSegmentProducer.py                                                                                                   import FWCore.ParameterSet.Config as cms\r\n\r\ndef CSCSegmentProducer(*args, **kwargs):\r\n  mod = cms.EDProducer('CSCSegmentProducer',\r\n    inputObjects = cms.InputTag('csc2DRecHits'),\r\n    algo_type = cms.int32(5),\r\n    algo_psets = cms.VPSet(\r\n    ),\r\n    mightGet = cms.optional.untracked.vstring\r\n  )\r\n  for a in args:\r\n    mod.update_(a)\r\n  mod.update_(kwargs)\r\n  return mod\r\n```\r\n\r\nwhich is fine for parsing purposes.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nN/A", "branch": "master", "changed_files": 2, "comments": 9, "commits": 2, "created_at": "1737473498", "deletions": 21, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-pending", "bug-fix", "urgent", "code-checks-approved"], "milestone": "CMSSW_15_0_X", "number": 47156, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix `cfi` creation for conf db parsing", "updated_at": "1737480685", "user": "mmusich"}