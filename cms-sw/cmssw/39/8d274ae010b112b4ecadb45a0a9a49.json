{"additions": 13, "auther_ref": "renameLongAlCaStreamName_12_3_X", "auther_sha": "69839c2e2d9a4bd37455026fd853cfc55dce4a18", "author": "mmusich", "body": "backport of https://github.com/cms-sw/cmssw/pull/38186\r\n\r\n#### PR description:\r\n\r\nIt was pointed out in https://cms-talk.web.cern.ch/t/alcaprompt-datasets-not-loaded-in-dbs/11146/1 that, quoting:\r\n\r\n> Since the last update of the alcareco matrix, two new producers were added to ExpressPhysics:\r\n>    * `PromptCalibProdSiPixelLorentzAngle`\r\n>    * `PromptCalibProdSiStripHitEfficiency`\r\n>    while the resulting (harvested) ROOT files are regularly displayed in the DQM, the corresponding ALCAPROMPT datasets in DAS are missing.\r\n>\r\n> The names of the datasets expected are:\r\n>\r\n>    /StreamExpress/Run2022A-PromptCalibProdSiStripHitEfficiency-Express-v1/ALCAPROMPT\r\n>    /StreamExpress/Run2022A-PromptCalibProdSiPixelLorentzAngle-Express-v1/ALCAPROMPT\r\n>\r\n> According to Tier0 experts the problem is related to the name of the dataset, which is too long to be accepted, and the WMAgent software at present is not signalling this but keeps trying the upload. While probably a better handling of this issue should be thought for future, we need to fix the cause of the problem by shortening the names.\r\n\r\nThis PR performs such shortening:\r\n   * `ALCARECOPromptCalibProdSiPixelLorentzAngle` is renamed `ALCARECOPromptCalibProdSiPixelLA`\r\n   * `ALCARECOStreamPromptCalibProdSiStripHitEfficiency` is renamed `ALCARECOStreamPromptCalibProdSiStripHitEff`\r\n\r\n#### PR validation:\r\n\r\nRun the following commands:\r\n```console\r\ncmsDriver.py testReAlCa -s ALCA:PromptCalibProdSiPixelLA --conditions 123X_dataRun3_Express_v6 --scenario pp --data --era Run2_2018 --datatier ALCARECO --eventcontent ALCARECO --processName=ReAlCa -n 10000 --dasquery='file dataset=/StreamExpress/Run2022A-SiPixelCalSingleMuon-Express-v1/ALCARECO run=352572' --customise_commands='process.ALCARECOCalSignleMuonFilterForSiPixelLorentzAngle.TriggerResultsTag = cms.InputTag ( \"TriggerResults\",\"\",\"HLT\" ) ; process.ALCARECOCalSignleMuonFilterForSiPixelLorentzAngle.HLTPaths = [\"*\"]' --nThreads=4\r\n\r\ncmsDriver.py stepHarvest -s ALCAHARVEST:SiPixelLA --conditions 123X_dataRun3_Express_v6  --scenario pp --data --era Run2_2018 --filein file:PromptCalibProdSiPixelLA.root -n -1\r\n```\r\n\r\nand\r\n\r\n```console\r\ncmsDriver.py testReAlCa -s ALCA:PromptCalibProdSiStripHitEff --conditions 123X_dataRun2_v2 --scenario pp --data --era Run2_2018 --datatier ALCARECO --eventcontent ALCARECO --processName=ReAlCa -n 100000 --dasquery='file dataset=/StreamExpress/Run2018D-SiStripCalMinBias-Express-v1/ALCARECO run=325172' --nThreads=4\r\n\r\nmsDriver.py stepHarvest -s ALCAHARVEST:SiStripHitEff --conditions 123X_dataRun2_v2 --scenario pp --data --era Run2_2018 --filein file:PromptCalibProdSiStripHitEff.root -n -1 \r\n```\r\n\r\nAlso exercised successfully the two `runTheMatrix` workflows running the PCL workflows:\r\n   * `runTheMatrix.py -l 1001,1001.2` \r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nVerbatim backport of https://github.com/cms-sw/cmssw/pull/38186", "branch": "CMSSW_12_3_X", "changed_files": 4, "comments": 4, "commits": 1, "created_at": "1654111156", "deletions": 13, "labels": ["alca-pending", "operations-pending", "pending-signatures", "tests-approved", "orp-pending", "pdmv-pending", "backport", "upgrade-pending"], "milestone": "CMSSW_12_3_X", "number": 38188, "release-notes": [], "review_comments": 0, "state": "open", "title": "[12.3.X] Shorten the names of two ALCARECOStreams in order to fit into DBS database schema limitations", "updated_at": "1654156219", "user": "mmusich"}