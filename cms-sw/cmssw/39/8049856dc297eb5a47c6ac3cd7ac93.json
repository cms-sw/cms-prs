{"additions": 282, "auther_ref": "PUweighting", "auther_sha": "a11544c3af9a5b102fc72bbae6acf88b83cc7493", "author": "jpavel", "body": "Adding weighting of neutral PF candidates to the PF sequence. This is more powerful treatment of neutral PU isolation than simple delta beta corrections (see https://indico.cern.ch/event/322762/ and slides by Yuta). The metric used is ln(pt/DeltaR). \nThe full formula is\n![image](https://cloud.githubusercontent.com/assets/4130483/3409840/36069260-fdde-11e3-91a0-23b6c3146887.png)\n\nOn top of original design by @bachtis added also interface to reco::Candidates and so the reweighting module should be able to run also on miniAOD. Note that this is only necessary condition to read miniAODs and the actual functionality has not been tested.\n\nThis PR only adds extra code that is not executed by default and can be activated using\n\n```\n--customise RecoParticleFlow/Configuration/customizeDeltaBetaWeights_cfi.customize\n```\n\n   -> this will create collection of weighted photons and weighted neutral hadrons and use them instead of regular collections from PfNoPU for calculation of electron, muon and photon isolation\n\npartial activation for some objects is also possible:\n\n```\n--customise RecoParticleFlow/Configuration/customizeDeltaBetaWeights_cfi.customizeElectronsOnly\n```\n\n  -> this will use weighted collection only for electrons. The muons and photons will remain the same\n\n```\n--customise RecoParticleFlow/Configuration/customizeDeltaBetaWeights_cfi.customizeMuonsOnly\n```\n\n   -> this will use weighted collection only for muons. The electrons and photons will remain the same\n\n```\n--customise RecoParticleFlow/Configuration/customizeDeltaBetaWeights_cfi.customizePhotonsOnly\n```\n\n -> this will use weighted collection only for photons. The muons and electrons will remain the same\n", "branch": "CMSSW_7_2_X", "changed_files": 7, "closed_at": "1403954547", "comments": 66, "commits": 13, "created_at": "1402005034", "deletions": 0, "labels": ["analysis-approved", "comparison-available", "fully-signed", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "df283960b3f6fcd44867464de32db3dcd86c56e3", "merged_at": "1403954547", "merged_by": "ktf", "milestone": "Next CMSSW_7_2_X", "number": 4131, "release-notes": [], "review_comments": 1, "state": "closed", "title": "PU weighting", "updated_at": "1410332238", "user": "jpavel"}