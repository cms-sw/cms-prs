{"additions": 688, "auther_ref": "pps-timing_pcl-11_3_X", "auther_sha": "282611ea01492ca2b6966726f8748cff519ae64b", "author": "forthommel", "body": "#### PR description:\r\n\r\nWith this PR, we introduce the timing calibration PCL module for PPS diamond detector.\r\nAs encountered elsewhere for other subdetectors PCLs, it consists of two DQM-derivated algorithmic components:\r\n- a (parallelisable) worker casting `CTPPSDiamondRecHit` objects onto integrated timing distributions (leading time, time over threshold, time over threshold vs. leading time)\r\n- a harvester collecting this run-based info to perform the calibration and store it onto a `PPSTimingCalibration` object to be stored as a DB payload. It currently allows to store a `sqlite` conditions object holding this information.\r\n\r\nAs a mean to perform an upstream selection of \"interesting events\" for this calibration, a new `EDFilter` hosted in HLT \"special\" collection is introduced. It allows to define a per-pot tracks multiplicity selection, as used in 2017-2018 diamond timing calibration procedure. This latter is used in a new `ALCARECOPPSCalTrackBasedSel` selection. Please note that the tracks multiplicity selection may evolve in a while as the trigger studies are still being performed for this latter.\r\nAlso, it currently used the (unfiltered) `(CTPPS|Totem)*LocalTrack` collections instead of the simpler `CTPPSLocalTrackLite` collection that already includes some quality selection.\r\n\r\nSubsequently, a new WF, `1040.2`, is introduced to test this calibration procedure on a 2017 sample (also used in pixels PCL), and the relvals collections are appended the new PPS streams.\r\n\r\n#### PR validation:\r\n\r\n<!-- Please replace this text with a description of which tests have been performed to verify the correctness of the PR, including the eventual addition of new code for testing like unit tests, test configurations, additions or updates to the runTheMatrix test workflows -->\r\nCompiles, runs.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR: N/A\r\n\r\n<!-- Please replace this text with any link to  -->\r\n\r\nBefore submitting your pull requests, make sure you followed this checklist:\r\n- [x] verify that the PR is really intended for the chosen branch\r\n- [x] verify that changes follow [CMS Naming, Coding, And Style Rules](http://cms-sw.github.io/cms_coding_rules.html)\r\n- [x] verify that the PR passes the basic test procedure suggested in the [CMSSW PR instructions](https://cms-sw.github.io/PRWorkflow.html)\r\n\r\n@fabferro, @jan-kaspar, @vavati", "branch": "master", "changed_files": 16, "closed_at": "1618843226", "comments": 83, "commits": 49, "created_at": "1616087861", "deletions": 4, "labels": ["alca-approved", "code-checks-approved", "fully-signed", "hlt-approved", "operations-approved", "orp-approved", "pdmv-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "f8450d3ebd77d65eb46d308245587e839a6161df", "merged_at": "1618843226", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 33215, "release-notes": [], "review_comments": 48, "state": "closed", "title": "[PPS] Prompt calibration loop component for timing detector", "updated_at": "1618843226", "user": "forthommel"}