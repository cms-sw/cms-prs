{"additions": 1224, "auther_ref": "backport_CMSSW_15_0_X", "auther_sha": "b31a506843fdb8946223579e0cbb3de3c592115d", "author": "tihsu99", "body": "#### PR description:\r\n\r\nA patch for adding new features for scouting electron in Scouting Offline DQM. The updates are mainly built based on previous PR: [Scouting Offline DQM for 2025 data-taking (EGM+MUO+autoDQM)](https://github.com/cms-sw/cmssw/pull/47235#top).\r\n\r\nAll the updates are already merged in to current release CMSSW_15_1_X in PR: [Include HLT(DST) + L1 seed information in Scouting Offline DQM for EGM](https://github.com/cms-sw/cmssw/pull/47889#event-17375066115). Backporting (this PR) to CMSSW_15_0_X is needed for 2025 data-taking.\r\n\r\n#### Description of the current changes:\r\n\r\nUpdates are same as PR: [Include HLT(DST) + L1 seed information in Scouting Offline DQM for EGM](https://github.com/cms-sw/cmssw/pull/47889#event-17375066115), which includes:\r\n\r\n- Adding reconstructed di-electron mass spectrum under different HLT(DST) and L1 conditions, Main code changes are in `plugins/ScoutingEGammaCollectionMonitoring.cc`.\r\n- Improved tag and probe method by applying orthogonal trigger and considering the probing lepton pt order with refactoring relative codes structure in order to deal with arbitrary length and naming of given HLT/L1s. Main code changes are in `plugins/ScoutingElectronTagProbeAnalyzer.cc` (using scouting electron as tag electron) and `plugins/PatElectronTagProbeAnalyzer.cc` (using pat electron as tag electron).\r\n- Replaced corresponding plots used for calculating trigger efficiency in combine harvesting stage. Main code changes are in `plugins/ElectronEfficiencyPlotter.cc`\r\n\r\nRelevant presentations:\r\n[HLT Scouting Meeting, 03 Apr 2025](https://indico.cern.ch/event/1532771/contributions/6449752/subcontributions/541096/attachments/3044960/5380038/ScoutingEGamma_Report_DPNote_2025Apr03.pdf)\r\n[HLT Scouting Meeting, 20 Mar 2025](https://indico.cern.ch/event/1527339/contributions/6426008/subcontributions/539210/attachments/3035999/5361448/ScoutingEGamma_Report_DPNote_2025Mar20.pdf)\r\n\r\n#### PR validation:\r\nThe PR has been prepared starting from CMSSW_15_0_4\r\n```\r\nscram project CMSSW_15_0_4\r\ncd CMSSW_15_0_4/src\r\ncmsenv\r\ngit cms-rebase-topic --old-base CMSSW_15_1_0_pre1 tihsu99:EGM_DQM_PFMonitoring\r\nscram b && scram b code-checks && scram b code-format && scram b\r\n```\r\nSame testing workflow has been testing for this backporting PR.\r\n```\r\n[1]: input: RAW file from ScoutingPFMonitor dataset (Run2024F, [Fill9852](https://cmsoms.cern.ch/cms/fills/report?cms_fill=9852), run382686)\r\n\r\n[2]: cmsDriver.py step2  --process reHLT -s L1REPACK:Full,HLT:@relval2025 --conditions auto:run3_hlt_relval --data  --eventcontent FEVTDEBUGHLT --datatier FEVTDEBUGHLT --era Run3_2024 -n 500 --filein  file:/eos/cms/store/group/dpg_trigger/comm_trigger/TriggerStudiesGroup/Scouting/Run3/ScoutingPFMonitor/300684ed-1a51-474f-8c4f-b3bf1e1f5044_skimmed.root\r\n\r\n[3]: cmsDriver.py step3  --conditions auto:run3_data_prompt_relval -s RAW2DIGI,L1Reco,RECO,PAT,NANO,DQM:@hltScouting --datatier RECO,MINIAOD,NANOAOD,DQMIO --eventcontent RECO,MINIAOD,NANOEDMAOD,DQM --data  --process reRECO --scenario pp --era Run3_2024 --customise Configuration/DataProcessing/RecoTLR.customisePostEra_Run3_2024 -n 500 --filein file:step2_L1REPACK_HLT.root\r\n\r\n[4]: cmsDriver.py step4 -s HARVESTING:@hltScouting --conditions auto:run3_data --data  --filetype DQM --scenario pp --era Run3_2024 -n 500 --filein file:step3_RAW2DIGI_L1Reco_RECO_PAT_NANO_DQM_inDQM.root\r\n```\r\nAnd \r\n```\r\n runTheMatrix.py -l 145.314\r\n```\r\n[cc: @silviodonato @elfontan ]", "branch": "CMSSW_15_0_X", "changed_files": 9, "comments": 10, "commits": 5, "created_at": "1745496735", "deletions": 692, "labels": ["dqm-approved", "fully-signed", "tests-approved", "orp-pending", "backport-ok"], "milestone": "CMSSW_15_0_X", "number": 47941, "release-notes": [], "review_comments": 1, "state": "open", "title": "[Backport] Include HLT(DST) + L1 seed information in Scouting Offline DQM for EGM", "updated_at": "1746684627", "user": "tihsu99"}