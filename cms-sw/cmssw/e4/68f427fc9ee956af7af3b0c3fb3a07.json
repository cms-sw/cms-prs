{"additions": 6, "auther_ref": "dispColl4Bpark_master", "auther_sha": "863227a2a6f2a76ee405508ee487e54e4c363793", "author": "mgratti", "body": "This PR includes modifications to allow usage of displaced muon collections in the B-parking data, in view of the upcoming b-parking UL re-reco, at small cost in miniAOD size.\r\n\r\n(1) the two collections of reco::Tracks, `displacedGlobalMuons` and `displacedTracks`, are added to the miniAOD in general (not for a specific era).\r\nThe size increase was checked in a MINIAODSIM sample with similar PU conditions as the b-parking data and was found to be\r\n\r\ndisplacedGlobalMuons: +256 Bytes/event +0.2%\r\ndisplacedTracks: +343 Bytes/event +0.3%\r\nNote that the `displacedStandAloneMuons` (dSA) are already included by default.\r\n\r\n(2) thanks to the extra information (TrackExtra and TrackingRecHits) made available for the PAT muons by #31350, it should be possible to extrapolate the PAT muon trajectory to the innermost hit of the dSA, allowing for a more precise dR matching, compared to simple dR matching. In order to use this information also for low pt muons, it is proposed to lower the minimum pt at which the information is saved in MINIAOD from 4.5 GeV to 3.0 GeV, but only for the b-parking era.\r\n\r\nThe size increase was evaluated by Josh to be about 1 KB/evt, corresponding to less than +1%\r\n#30544 (comment)\r\n\r\nAdditionally, the PR validation was done by running runTheMatrix.py -l limited -i all --ibeos, the output is attached\r\n[runall-report-step123-master.log](https://github.com/cms-sw/cmssw/files/6616854/runall-report-step123-master.log) \r\n\r\nFrom other PRs for the b-parking, I saw mentioned the workflow 1304.181 for the purpose of testing the b-parking era. \r\n\r\nA backport to 106X is needed and is open at #34008 ", "branch": "master", "changed_files": 2, "closed_at": "1623241632", "comments": 17, "commits": 3, "created_at": "1623151823", "deletions": 0, "labels": ["code-checks-approved", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "a1b31939734a519ddf6f18a68189c3b23e807a98", "merged_at": "1623241632", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 34024, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Usage of displaced collections in the B-parking data", "updated_at": "1623241633", "user": "mgratti"}