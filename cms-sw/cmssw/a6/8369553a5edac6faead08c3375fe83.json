{"additions": 73, "auther_ref": "from-CMSSW_12_0_X_2021-07-01-2300-fix-tmb-matching-params", "auther_sha": "dd71e9f6fc3da9cb7bb8f7bba68db98ef3d12a63", "author": "dildick", "body": "#### PR description:\r\n\r\nThree parameters I forgot to update in #34245. \r\n\r\n* In Run-2 we only match an ALCT to the first CLCT (`matchEarliestClctOnly`). With the introduction of the preferred BX windows, we now also do this in Run-3 and Phase-2.\r\n* `tmbDropUsedClcts` was mistakenly set to False for Run-2. That should be True. But it is False for Run-3 and Phase-2; CLCTs can be reused.\r\n* L1A window size for Run-3 OTMBs (` tmbL1aWindowSize`) is 5 BX wide, not 7.\r\n\r\n#### PR validation:\r\n\r\nCode was tested on 10k events of B904 cosmic data (to test Run-3 algorithm).\r\n\r\n[DataVsEmulatorComparison_20210701.pdf](https://github.com/cms-sw/cmssw/files/6751900/DataVsEmulatorComparison_20210701.pdf)\r\n\r\nIt was also tested on 26k events of 2018D ZeroBias data Run 322022 (to test Run-2 algorithm). Chambers ME+1/1/9, ME+1/1/10 and ME+1/1/11 were excluded in this comparison because we had loaded prototype Phase-2 firmware on those chambers.\r\n\r\n[CSC_dataVsEmul_CMS_Run_322022_20210701_prefix.pdf](https://github.com/cms-sw/cmssw/files/6751898/CSC_dataVsEmul_CMS_Run_322022_20210701_prefix.pdf)\r\n\r\n[CSC_dataVsEmul_CMS_Run_322022_20210701_postfix.pdf](https://github.com/cms-sw/cmssw/files/6751897/CSC_dataVsEmul_CMS_Run_322022_20210701_postfix.pdf)\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nN/A\r\n\r\nBefore submitting your pull requests, make sure you followed this checklist:\r\n- verify that the PR is really intended for the chosen branch\r\n- verify that changes follow [CMS Naming, Coding, And Style Rules](http://cms-sw.github.io/cms_coding_rules.html)\r\n- verify that the PR passes the basic test procedure suggested in the [CMSSW PR instructions](https://cms-sw.github.io/PRWorkflow.html)\r\n", "branch": "master", "changed_files": 8, "closed_at": "1625612719", "comments": 14, "commits": 6, "created_at": "1625189621", "deletions": 40, "labels": ["code-checks-approved", "fully-signed", "l1-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "e679c55f0d45025670ebdc3d1f721fcce3f15334", "merged_at": "1625612719", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 34308, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Update TMB matching parameters for CSC trigger primitives", "updated_at": "1625612719", "user": "dildick"}