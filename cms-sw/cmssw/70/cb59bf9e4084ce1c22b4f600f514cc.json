{"additions": 4, "auther_ref": "L1emulator_ASANfix", "auther_sha": "24cd926bccdc83bd0959c1183d5e8909be14bbd4", "author": "gk199", "body": "#### PR description:\r\n\r\nFixing the heap-buffer-overflow in l1t::stage2::CaloLayer1Packer::makeHCalTPGs() resulting from PR #36919, and identified in Issue #37012. One file is changed: `CaloLayer1Packer.cc`, moving the loop that sets `fg_bits` to inside the conditional to ensure that this is only done when `id` is found. `fg_bits` is declared as a uint_32, and the bit setting is done via |= (more robust than the initial implementation). \r\n\r\n#### PR validation:\r\n\r\nPassed `runTheMatrix.py` in `CMSSW_12_3_X_2022-03-14-1100`.\r\n\r\nIn `CMSSW_12_4_ASAN_X_2022-03-14-1100`, step2 heap-buffer-overflow is resolved, tested with `runTheMatrix.py -l 39834.0`.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nFix to PR #36919. Would like to be included in CMSSW_12_3_0.\r\n", "branch": "CMSSW_12_3_X", "changed_files": 1, "comments": 6, "commits": 1, "created_at": "1647355586", "deletions": 4, "labels": ["l1-approved", "fully-signed", "tests-approved", "orp-pending"], "milestone": "CMSSW_12_3_X", "number": 37253, "release-notes": [], "review_comments": 0, "state": "open", "title": "L1T ASAN heap-buffer-overflow fix resulting from PR #36919", "updated_at": "1647500764", "user": "gk199"}