{"additions": 21, "auther_ref": "Clamp_the_number_of_pixel_tracks_to_the_capacity_of_the_SoA", "auther_sha": "d04920f8fd307c3ba157012204a74b66cffd8ca3", "author": "fwyzard", "body": "#### PR description:\r\n\r\nThe data structure used to store the pixel tracks currently has a fixed size of 32768, which was found to be adequate based on MC studies.\r\nWhile running over collisions data a small fraction of events has been found to have a larger number of tracks, leading to assertion failures or memory access errors.\r\n\r\nThis PR clamps the number of pixel tracks to the capacity of the SoA, and adds a warning like\r\n```\r\n%MSG-w PixelTracks:  PixelTrackSoAFromCUDA:hltPixelTracksFromGPU  30-Jul-2022 09:16:12 CEST Run: 356071 Event: 46424286\r\nUnsorted reconstructed pixel tracks truncated to 32767 candidates\r\n%MSG\r\n```\r\n\r\n#### PR validation:\r\n\r\nRunning over an event with > 33k pixel tracks no longer causes assertion failures.\r\n\r\n#### If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nTo be backported to CMSSW 12.4.x for data taking.", "branch": "master", "changed_files": 3, "closed_at": "1659335463", "comments": 22, "commits": 4, "created_at": "1659015458", "deletions": 3, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "bug-fix", "orp-approved", "urgent", "code-checks-approved"], "merge_commit_sha": "ce3448c27778415d3deb5d0744f27c6bd745ca6e", "merged_at": "1659335463", "merged_by": "cmsbuild", "milestone": "CMSSW_12_5_X", "number": 38883, "release-notes": [], "review_comments": 4, "state": "closed", "title": "Clamp the number of pixel tracks to the capacity of the SoA", "updated_at": "1659335464", "user": "fwyzard"}