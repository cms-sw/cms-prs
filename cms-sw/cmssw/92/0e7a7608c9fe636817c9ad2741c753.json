{"additions": 31, "auther_ref": "dev_throttle_MinBias_AlCas_forHI", "auther_sha": "c9335a4a1c6ce057f5cbe4a37518c51e3df7d16e", "author": "mmusich", "body": "backport of https://github.com/cms-sw/cmssw/pull/42965\r\n\r\n#### PR description:\r\n\r\nIn this [cmsTalk post](https://cms-talk.web.cern.ch/t/cut-down-alca-producers-for-pds-with-index-0/30327) it was proposed to cut down the number of PDs in which the `TkAlMinBias` and `SiStripCalMinBias` producers are run to avoid producing too large datasets during the 2023 HIon run. \r\nAn alternative (or complementary) approach consists in prescaling the number of events accepted for each of the trigger paths firing (and accepted by the AlCaReco).\r\nThis can be done using the `TriggerResultsFilterFromDB` module and appropriate usage of the `eventSetupPathsKey`-associated HLT patterns, e.g.: \r\n   * `HLT_HIPhysics_v*/10;HLT_HIPuAK4*/10;HLT_HICsAK4*/10;HLT_HIZeroBias_v*/10;HLT_HIMinimumBiasHF*/10` \r\n\r\nThis is implemented in commit 70d8a19d6940d22cd8f7b6142c0c2fa59d06a087\r\nThe other commit of this PR (47bfc8424b81d15b7cdf2543988c60e3539b94f3) is purely technical an implements a leftover parameter in `TriggerResultsFilterFromDB::fillDescriptions`, necessary to be able to validate the configuration.\r\n\r\n#### PR validation:\r\n\r\nRun:\r\n\r\n```bash\r\ncmsDriver.py stepTest --conditions 132X_dataRun3_Prompt_v4 \\\r\n    --custom_conditions=\"AlCaRecoTriggerBits_testPrescales_HIMinBias_v0,AlCaRecoTriggerBitsRcd,frontier://FrontierPrep/CMS_CONDITIONS\" \\\r\n    --data \\\r\n    --datatier ALCARECO \\\r\n    --era Run3 \\\r\n    --eventcontent ALCARECO \\\r\n    --filein /store/hidata/HIRun2023A/HIPhysicsRawPrime0/RAW/v1/000/374/646/00000/40fbbb7f-a214-40fe-a02b-04212c90e0d0.root \\\r\n    --fileout file:step2.root \\\r\n    --nStreams 4 \\\r\n    --nThreads 8 \\\r\n    --number 100 \\\r\n    --process reRECO \\\r\n    --repacked \\\r\n    --python_filename step_2_cfg.py \\\r\n    --scenario pp \\\r\n    --step RAW2DIGI,L1Reco,RECO,ALCA:SiStripCalMinBias+TkAlMinBias \\\r\n    --era Run3_pp_on_PbPb_approxSiStripClusters_2023 \\\r\n    --no_exec\r\n```\r\n\r\nand obtained the desired reduction in the event output.\r\n\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nVerbatim backport of https://github.com/cms-sw/cmssw/pull/42965 to CMSSW_13_2_X of eventually to be usef for 2023 HIon data-taking.\r\n", "branch": "CMSSW_13_2_X", "changed_files": 3, "comments": 1, "commits": 2, "created_at": "1696678321", "deletions": 6, "labels": ["hlt-pending", "alca-pending", "pending-signatures", "tests-pending", "orp-pending", "backport", "trk"], "milestone": "CMSSW_13_2_X", "number": 42966, "release-notes": [], "review_comments": 0, "state": "open", "title": "[13.2.X] Use `TriggerResultsFilterFromDB`-based selection for Heavy AlCaRecos in `pp_on_AA`", "updated_at": "1696678466", "user": "mmusich"}