{"additions": 567, "auther_ref": "Legacy53XMuonSelectors", "auther_sha": "116e602251ab6aba848bf85cfc589eed366db0c0", "author": "bellan", "body": "1- I introduced in DataFormats/MuonReco/interface/MuonCocktails.h a couple of function to check the validity of the inputs to the tuneP algo.\n\n2- I added muonBestTrack(const reco::Muon& muon, reco::TunePType tunePType); in MuonCocktails.h/cc. The implementation simulate what is actually done in MuonIdProducer. T\n\n3- I moved the tuneP enumerator in MuonFwd.h (this will make a lot CMSSW package to recompile... though it is a trivial change\n\n4- I removed improvedMuonBestTrack(const reco::Muon&, TunePType); from MuonSelector.h and in the same file I also removed the default for isHighPtMuon(const reco::Muon&, const reco::Vertex&, reco::TunePType);\n\n5- I modified pat::Muon.h/c to add:\n    a) a new muonBestTrack(); method \n    b) reco::TrackRef improvedMuonBestTrack();\n    c) MuonTrackType improvedMuonBestTrackType() and void setImprovedBestTrack(MuonTrackType muonType)\n        cbis) improvedMuonBestTrackType_ has been added as datamember\n    d) void embedImprovedMuonBestTrack(); and whatever is needed to make the embedding\n    e) isLooseMuon(), isSoftMuon(), isHighPtMuon() to call the implementation in MuonSelctor.h\n    f) the class version of Muon.h for pat is now 14 instead of 12\n\n6- In PATMuonProducer.h and PhysicsTools/PatAlgos/python/producersLayer1/muonProducer_cfi.py I intruduced the possibility to embed the improved Muon best track. Default is set to true\n\n7- In PATMuonProducer.cc I changed it to use the muonBestTrack properly. It was already protected, because I put a protection in the past. Now, however, it has an implementation that support STA-only muons too. The default here is the _default_ muonBestTrack (as it was till now). Note that in this part of the code the best track is used to calculate IP values.\n\n8- In RecoMuon/MuonIdentification/plugins/MuonIdProducer.cc I put back the fix that exited the 53X releases.\nhttps://hypernews.cern.ch/HyperNews/CMS/get/pkgAnnounce/135377.html\n", "branch": "CMSSW_5_3_X", "changed_files": 25, "closed_at": "1378097095", "comments": 6, "commits": 10, "created_at": "1377848846", "deletions": 221, "labels": ["analysis-pending", "pending-signatures", "reconstruction-pending"], "milestone": "CMSSW_5_3_12", "number": 672, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Muon Selectors for legacy 53X", "updated_at": "1378097095", "user": "bellan"}