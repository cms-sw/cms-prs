{"additions": 88, "auther_ref": "add_decayRZ_to_MCMultiParticleFilter", "auther_sha": "02ea7782364b29ce67071f5158a4838c62f25f71", "author": "kfjack", "body": "#### PR description:\r\n\r\nFor the B->mumu analysis, we would like to generate a special MC which has a full decay chain of B(s,d) -> hh(=k,pi) -> mumu, with the hadrons decaying to the muon within the detector volume. We have identified such a MC can be produced if an additional capability (filtering according to the decay region, the same functionality which has been already implemented in the MCSmartSingleParticleFilter) can be added to the MCMultiParticleFilter. Hence this PR is proposed, with no change to the original filter, but just adding new capabilities.  \r\n\r\nA small typo (bug, but no real effect) for loading motherID_  in the original filter has been fixed as well.\r\n\r\n#### PR validation:\r\n\r\nManaged to filter the B(s,d) -> hh -> mumu events by adding such a filter (requiring two muon decaying from K/pi, and within the detector volume) to the process:\r\nmugenfilter = cms.EDFilter(\r\n    \"MCMultiParticleFilter\",\r\n    ParticleID = cms.vint32(-13, 13, -13, 13),\r\n    MotherID = cms.untracked.vint32(321, -321, 211, -211),\r\n    MaxDecayRadius = cms.untracked.vdouble(2000.0, 2000.0, 2000.0, 2000.0),\r\n    MaxDecayZ = cms.untracked.vdouble(4000.0, 4000.0, 4000.0, 4000.0),\r\n    MinDecayZ = cms.untracked.vdouble(-4000.0, -4000.0, -4000.0, -4000.0),\r\n    EtaMax = cms.vdouble(2.5, 2.5, 2.5, 2.5),\r\n    PtMin = cms.vdouble(3.5, 3.5, 3.5, 3.5),\r\n    Status = cms.vint32(1,1,1,1),\r\n    NumRequired = cms.int32(2),\r\n    AcceptMore = cms.bool(True)\r\n)\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nNot a backport PR.\r\n\r\n", "branch": "master", "changed_files": 2, "closed_at": "1614595121", "comments": 16, "commits": 3, "created_at": "1614264159", "deletions": 38, "labels": ["code-checks-approved", "fully-signed", "generators-approved", "orp-approved", "tests-rejected"], "merge_commit_sha": "40866fe5a5a48d8ab174cc170e0a23ec994da924", "merged_at": "1614595121", "merged_by": "cmsbuild", "milestone": "CMSSW_11_3_X", "number": 32999, "release-notes": [], "review_comments": 4, "state": "closed", "title": "Add additional capability (filter by decay R/Z) to MCMultiParticleFilter", "updated_at": "1614595121", "user": "kfjack"}