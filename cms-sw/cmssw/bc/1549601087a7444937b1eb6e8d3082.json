{"additions": 350, "auther_ref": "master-gttfilereader-r2rebase", "auther_sha": "4c0b06b058e366208f300da9ac5e82bf6e2598d5", "author": "NJManganelli", "body": "\r\n#### PR description:\r\n\r\nThe aim of this PR is to extend the capability of GTT workflows by validating and fixing a minor discrepancy in the loading of vertices from APx/EMPv2 formatted buffer files (APx/Serenity GTT boards), and add a partial implementation for doing the same for tracks written to buffer files (at the stage of \"GTT Input\"). Along the way, the code is refactored to move common elements from GTTFile{Reader,Writer}.cc plugins to a GTTInterface.h header, as a code/maintainability improvement. Some compile-time constants are made python-configurable (as advised by Tom Williams).\r\n\r\nThe changes and capabilities added here are not invoked in a typical Phase 2 L1T workflow, and are currently only called for the L1Trigger/DemonstratorTools/test/gtt/createFirmwareInputFiles_cfg.py tool (which is used for creating - and now consuming - buffer files in APx/EMPv2 format for integration tests, and as **stepping stones towards eventual Phase 2 GTT packer/unpacker**)\r\n\r\nPresented in https://indico.cern.ch/event/1352629/contributions/5695626/attachments/2763970/4814068/NickManganelli_GTT_01_12_2023.pdf\r\nPR validation:\r\n\r\nThis PR passes\r\nscram b code-format\r\nscram b code-checks\r\nscram b\r\nrunTheMatrix.py -l limited -i all --ibeos\r\nGTT Firmware workflows: cmsRun createFirmwareInputFiles_cfg.py maxEvents=1008 format=W inputFiles=L1Trigger/DemonstratorTools/python/TT_TuneCP5_14TeV-powheg-pythia8_Phase2Spring23DIGIRECOMiniAOD-PU200_131X_mcRun4_realistic_v5-v1_GEN-SIM-DIGI-RAW-MINIAOD_APxBuffers_cff.py tracks=X vertices=Y readerformat=Z (X and Y in 'donotload' , 'load' , 'overwrite' ; W and Z in 'APx' or 'EMPv2'\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nThis is the port from the cms-l1t-offline integration branch to the master branch\r\nhttps://github.com/cms-l1t-offline/cmssw/pull/1188", "branch": "master", "changed_files": 10, "closed_at": "1709565176", "comments": 15, "commits": 24, "created_at": "1707944243", "deletions": 139, "labels": ["l1-approved", "fully-signed", "tests-approved", "orp-approved", "upgrade-approved", "code-checks-approved"], "merge_commit_sha": "9fd050f3fcb972fcb0e7800ecd6db85f1c6e3dd8", "merged_at": "1709565176", "merged_by": "cmsbuild", "milestone": "CMSSW_14_1_X", "number": 43968, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Phase 2 Integration GTTFileReader expansion and refactor ", "updated_at": "1709565177", "user": "NJManganelli"}