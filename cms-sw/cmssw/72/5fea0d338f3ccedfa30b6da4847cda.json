{"additions": 1, "auther_ref": "uploadConditions_http_15_0_X", "auther_sha": "4120c2dca3817e6dc92a06f873d23d3431c83b91", "author": "jprendi", "body": "this is a backport of https://github.com/cms-sw/cmssw/pull/49116\r\n\r\n#### PR description:\r\n\r\nThis PR changes https to http in CMS network within the `uploadConditions.py` script, to enable uploads of conditions from `ngtcalfu-c2b04-43-01`, as it failed before, within the package:\r\n```\r\ngit cms-addpkg CondCore/Utilities\r\n```\r\n\r\n#### PR validation:\r\n\r\nWhen trying to upload conditions before, one would get the following message:\r\n```\r\n[jprendi@ngtcalfu-c2b03-43-01 db]$ uploadConditions.py promptCalibConditions_2023485\r\n[2025-10-08 18:05:10,373] INFO: Checking promptCalibConditions_2023485...\r\n[2025-10-08 18:05:10,397] INFO: netrc entry \"ConditionUploader\" not found: if you wish not to have to retype your password, you can add an entry in your .netrc file. However, beware of the risks of having your password stored as plaintext. Instead.\r\n\r\nUsername [jprendi]: jprendi\r\nPassword:\r\n[2025-10-08 18:05:24,538] INFO: cms-conddb-dev.cern.ch: Signing in user jprendi ...\r\n[2025-10-08 18:05:24,776] ERROR: Caught exception when trying to connect to cms-conddb-dev.cern.ch: (35, 'error:1408F10B:SSL routines:ssl3_get_record:wrong version number')\r\n[2025-10-08 18:05:24,777] ERROR: Error trying to connect to the server. Aborting.\r\n{'status': -1, 'error': 'Error trying to connect to the server. Aborting.'}\r\nupload ended with code: -1\r\n\r\n```\r\n\r\nThe proposed fix came from @fwyzard , which in the end enabled conditions uploading:\r\n```\r\n[jprendi@ngtcalfu-c2b04-43-01 src]$ uploadConditions.py promptCalibConditions_2023485\r\n[2025-10-09 15:49:09,174] INFO: Checking promptCalibConditions_2023485...\r\n[2025-10-09 15:49:09,187] INFO: netrc entry \"ConditionUploader\" not found: if you wish not to have to retype your password, you can add an entry in your .netrc file. However, beware of the risks of having your password stored as plaintext. Instead.\r\n\r\nUsername [jprendi]: jprendi\r\nPassword: \r\n[2025-10-09 15:49:17,666] INFO: cms-conddb-dev.cern.ch: Signing in user jprendi ...\r\n[2025-10-09 15:49:18,077] INFO: cms-conddb-dev.cern.ch: promptCalibConditions_2023485: Uploading file (684653cdc5949bf7af6f1ccc1b581b617e65f29a, size 1063341) to the online backend...\r\n[2025-10-09 15:49:19,749] INFO: tag EcalPedestals_NGT_2023485_test successfully uploaded\r\n[2025-10-09 15:49:19,749] INFO: tags sucessfully uploaded: ['EcalPedestals_NGT_2023485_test'] \r\n[2025-10-09 15:49:19,749] INFO: file log at: https://cms-conddb.cern.ch/cmsDbBrowser/logs/show_cond_uploader_log/Prep/684653cdc5949bf7af6f1ccc1b581b617e65f29a\r\n[2025-10-09 15:49:19,749] INFO: cms-conddb-dev.cern.ch: Signing out...\r\n{'status': 0, 'files': {'promptCalibConditions_2023485': True}}\r\nupload ended with code: 0\r\n\r\n```\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nVerbatim backport of https://github.com/cms-sw/cmssw/pull/49116\r\n\r\ncc: @mmusich \r\n\r\n\r\n", "branch": "CMSSW_15_0_X", "changed_files": 1, "comments": 5, "commits": 1, "created_at": "1760014496", "deletions": 1, "labels": ["db-pending", "pending-signatures", "orp-pending", "tests-started", "bug-fix", "backport", "ngt"], "milestone": "CMSSW_15_0_X", "number": 49118, "release-notes": [], "review_comments": 0, "state": "open", "title": "Changing https to http for CMS network in the uploadConditions script [15_0_X]", "updated_at": "1760017529", "user": "jprendi"}