{"additions": 95, "auther_ref": "FastKU", "auther_sha": "7c7fccbfae740726ed122e3d4b6dcc33385cc211", "author": "VinInn", "body": "This PR introduces the possibility to choose at compile time between the Joseph Form (current default) and the short, faster form in KU updater\r\n(\r\nsee for instance https://en.wikipedia.org/wiki/Kalman_filter#Simplification_of_the_a_posteriori_error_covariance_formula\r\n)\r\nA comparison of the two forms is also coded in\r\n\r\nI have tested and compared both approaches on ttbar 50PU and data 2017 High luminosity including a test with APE increased by a factor 10.\r\n\r\nMVA results for pu50 in http://innocent.home.cern.ch/innocent/RelVal/pu50_noJF\r\n(spot the difference!)\r\n\r\nin general the Joseph form is indeed more stable:\r\nfor instance on ttbar pu50 \r\non 230M invocation of the updater\r\n~1000 times the fast version produces a matrix with negative elements on the diagonal while the Joseph form NEVER.\r\nThe maximal difference between for instance the sqrt of the diagonal values can be very large,\r\nstill their rms are pretty small (0.00147328/0.000522762/0.000464533/0.043233/0.0130172)\r\nsimilar results on data\r\n(0.00214165/0.00168747/0.00222978/0.0768335/0.0321059 rms on data)\r\nUnexpectedly with 10xAPE the difference between Joseph and fast form is smaller...\r\n(rms of difference of sqrt of diagonal on data 0.00118256/0.00038112/0.000281301/0.0215102/0.0083532)\r\n\r\nFor what concern timing gain in NOT using the Joseph Form \r\nthe KU itself speeds up of about 40% while the total tracking time reduces of  ~2%.\r\n\r\nAs the default stays the Joseph Form NO regression is expected.\r\n", "branch": "master", "changed_files": 1, "closed_at": "1522592304", "comments": 13, "commits": 4, "created_at": "1521960628", "deletions": 1, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "14473d3a23cc692ada3d09d963988e9c4a3477e9", "merged_at": "1522592304", "merged_by": "cmsbuild", "milestone": "CMSSW_10_2_X", "number": 22733, "release-notes": [], "review_comments": 1, "state": "closed", "title": "Introduce possibility to choose not to use Joseph Form in KU updater", "updated_at": "1522592304", "user": "VinInn"}