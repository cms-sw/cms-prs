{"additions": 7, "auther_ref": "FGbit_unpacked_fix", "auther_sha": "54759177cae6e4462aebddb0b2d97e133ece3267", "author": "gk199", "body": "#### PR description:\r\n\r\nChanges are made in HcalFinegrainBits.cc to have both HB and HE fine grain bits set based on unpacked TDC. The fine grain bit algorithm relies on trigger primitives, which are prior to where the HB TDC packing (6:2 bit LUT) is performed. The 6:2 packing occurs in PackerHelp.h (tdc1 and tdc2 implemented in https://cmssdt.cern.ch/lxr/source/EventFilter/HcalRawToDigi/plugins/PackerHelp.h). With the change, HB and HE rely on the same logic, using `tdc_boundary` to compare to the TDC values. \r\n\r\nVariable name `tdc_HE` was changed to `tdc_boundary` to be more clear. This encodes the prompt  delayed boundaries for both HB and HE. \r\n\r\nInitial fine grain bit PR #34600 and #35599. L1 emulator PR (relies on the FG bits) #36919. \r\n\r\n#### PR validation:\r\n\r\nTested in `CMSSW_12_4_X_2022-03-21-1100`. Passed `runTheMatrix.py`.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nWill be backported to 12_3_X if possible, as this is relevant to Run 3 L1 trigger work. \r\n", "branch": "master", "changed_files": 2, "closed_at": "1648240226", "comments": 12, "commits": 1, "created_at": "1647954125", "deletions": 15, "labels": ["l1-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "4b3840a7410ee2681bba66621df75db6cfc0003e", "merged_at": "1648240226", "merged_by": "cmsbuild", "milestone": "CMSSW_12_4_X", "number": 37302, "release-notes": [], "review_comments": 0, "state": "closed", "title": "HCAL: fixing fine grain bits to be set based on unpacked TDC ", "updated_at": "1648240226", "user": "gk199"}