{"additions": 47, "auther_ref": "my_test_branch", "auther_sha": "606caa0b3eb8dde5fdd4cb3f9bcac93d6f20613a", "author": "cburgard", "body": "#### PR description\r\n\r\nThis PR extends the L1TGlobal AXOL1TL support to allow proper monitoring and offline validation of the AXOL1TL anomaly-detection (AD) trigger.\r\n\r\nSpecifically, it introduces the following functionality:\r\n\r\n- Adds storage of **all AXOL1TL neural-network input features** inside `AXOL1TLScore`, together with a public accessor method.\r\n- Adds recording of the **per-event input vector used by the emulator** (`m_lastInputs_`) inside `AXOL1TLCondition`, enabling downstream ntuple production and debugging.\r\n- Updates `AXOL1TLCondition` to fill `m_lastInputs_` during `evaluateCondition()`.\r\n- Extends the L1TNtuples plugin `L1AXOTreeProducer` to:\r\n  - write a new branch `axo_inputs[57]` containing the full input vector,\r\n  - write the `axo_score` as before,\r\n  - ensure consistent branch filling even when the product is missing.\r\n- Ensures that the AXOL1TL input dimensionality is expressed through a single constant (`kNInputs`) and is used consistently across all classes.\r\n\r\nNo changes are expected to physics outputs of any existing L1T algorithms.  \r\nThis PR only affects debug/monitoring structures and ntuple content.\r\n\r\nThis PR does not depend on other open PRs or external packages.\r\n\r\n---\r\n\r\n#### PR validation\r\n\r\nValidation steps performed:\r\n\r\n1. **CMSSW compiles successfully** with `scram b -j 8` in a fresh `CMSSW_16_0_X` area.\r\n2. A RAWDIGI L1T emulation configuration was run using:\r\n   ```\r\n   cmsDriver.py l1Ntuple -s RAW2DIGI --python_filename=data.py -n -1 --data        --conditions=140X_dataRun3_v20 --era=Run3        --customise=L1Trigger/Configuration/customiseReEmul.L1TReEmulFromRAW        --customise=L1Trigger/L1TNtuples/customiseL1Ntuple.L1NtupleRAWEMU        --filein=/path/to/RAW --fileout=L1Ntuple.root\r\n   ```\r\n3. The resulting ntuple was inspected manually; the new branches  \r\n   - `axo_score`  \r\n   - `axo_inputs[57]`  \r\n   are present and contain the expected placeholder values when the score product is missing.\r\n4. The tree structure and branch types were verified by scanning the ntuple in ROOT.\r\n5. A standalone analysis script using `ROOT.RDataFrame` was used to read and plot all new branches, confirming correct storage and array dimensionality.\r\n\r\nNo changes to runTheMatrix outputs are expected, as this code is only exercised when the L1TNtuples workflow is explicitly enabled.\r\n\r\n---\r\n\r\n#### Backport\r\n\r\nThis PR is **not** a backport.\r\n\r\nIf backports are requested, it would be appropriate for the Run-3 production cycles (13_2_X, 14_0_X), as the changes affect monitoring and offline validation of the AXOL1TL trigger.\r\n\r\n---\r\n\r\n#### Checklist reminder (for submission)\r\n\r\n- [ ] PR targets the correct branch  \r\n- [ ] Code follows CMS Naming, Coding & Style Rules  \r\n- [ ] PR passes the basic tests described in the CMSSW PR instructions  \r\n", "branch": "master", "changed_files": 8, "comments": 5, "commits": 2, "created_at": "1764930902", "deletions": 11, "labels": ["l1-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-approved", "changes-dataformats"], "milestone": "CMSSW_16_0_X", "number": 49555, "release-notes": [], "review_comments": 3, "state": "open", "title": "[DRAFT] AXOL1TL Input/Output Recording", "updated_at": "1766059231", "user": "cburgard"}