{"additions": 128, "auther_ref": "digitized-collection-main-pr", "auther_sha": "0b3ba9d2290aff5a6ed66784dfbda8754185410a", "author": "skkwan", "body": "#### PR description:\r\n\r\nThis PR implements the following fixes and requests for the Phase-2 Calo standalone EGamma objects in the barrel emulator and corresponds to cms-l1t-offline PR https://github.com/cms-l1t-offline/cmssw/pull/1223. \r\n\r\n1. Using built-in unsigned integer types for the data member(s) of the digitized collections, instead of `ap_uint` types which was causing issues (see https://github.com/cms-sw/cmssw/pull/43872)\r\n2. Changed label names of output objects to avoid duplicates: see [this commit diff](https://github.com/skkwan/cmssw/commit/a68ce53cd8912fa9b49fd442b481e232932107a3).\r\n3. Updated the definitions of the `DigitizedClusterCorrelator` data format to match the latest specifications, including the working points for isolation and shower shape, with standalone and `looseTk` of each (four flags in total). For convenience, added methods to get these flags.\r\n4. Also added methods in `DigitizedClusterCorrelator` to get the real eta and phi, `realEta()` and `realPhi()`.\r\n5. Fixed a bug in the `DigitizedClusterCorrelator` initialization where the crystal `eta` convention was incorrect.\r\n\r\n#### PR validation:\r\n\r\nThe following checks were performed:\r\n\r\n1. Checked that digitizing error is gone, when `process.schedule = cms.Schedule(process.pL1EG, process.end)` and `keep *` are used in conjunction\r\n2. Checked in an event that the `DigitizedClusterCorrelator` and `DigitizedClusterGT` give the same leading clusters (pT, eta, phi, working points in the case of the correlator clusters) as the `l1tp2::CaloTowerCollection` clusters.\r\n\r\n\r\n\r\n", "branch": "master", "changed_files": 6, "comments": 3, "commits": 1, "created_at": "1710330235", "deletions": 84, "labels": ["l1-pending", "pending-signatures", "tests-pending", "orp-pending", "upgrade-pending", "code-checks-approved"], "milestone": "CMSSW_14_1_X", "number": 44390, "release-notes": [], "review_comments": 0, "state": "open", "title": "fix/update standalone calo barrel egamma objects", "updated_at": "1710330754", "user": "skkwan"}