{"additions": 2, "auther_ref": "fenceforampere", "auther_sha": "f5c01ea7dbaeff38dc2441e88ee9f5fe7d69bfba", "author": "VinInn", "body": "title says all.\r\nvery technical.\r\nno regression expected (but no crash on A100)\r\n\r\n```\r\n[innocent@workergpu53 patatrack-scripts]$ ./benchmark ../pixelraw/gpuBench.py\r\n2 CPUs:\r\n  0: Intel(R) Xeon(R) Platinum 8268 CPU @ 2.90GHz (24 cores, 24 threads)\r\n  1: Intel(R) Xeon(R) Platinum 8268 CPU @ 2.90GHz (24 cores, 24 threads)\r\n\r\n1 visible NVIDIA GPUs:\r\n  0: A100-PCIE-40GB (UUID: GPU-c60c7fb1-8112-8f34-7cbf-e3cef8cd2c12)\r\n\r\nWarming up\r\n\r\nRunning 4 times over 4600 events with 4 jobs, each with 8 threads, 8 streams and 1 GPUs\r\n  1303.3    0.5 ev/s (4400 events, 97.6% overlap)\r\n  1308.7    0.8 ev/s (4400 events, 97.8% overlap)\r\n  1288.4    1.0 ev/s (4400 events, 98.0% overlap)\r\n  1304.9    1.0 ev/s (4400 events, 99.2% overlap)\r\n --------------------\r\n  1301.3    8.9 ev/s\r\n\r\n[innocent@workergpu53 patatrack-scripts]$ ./benchmark ../pixelraw/quadBench.py\r\n2 CPUs:\r\n  0: Intel(R) Xeon(R) Platinum 8268 CPU @ 2.90GHz (24 cores, 24 threads)\r\n  1: Intel(R) Xeon(R) Platinum 8268 CPU @ 2.90GHz (24 cores, 24 threads)\r\n\r\n1 visible NVIDIA GPUs:\r\n  0: A100-PCIE-40GB (UUID: GPU-c60c7fb1-8112-8f34-7cbf-e3cef8cd2c12)\r\n\r\nWarming up\r\n\r\nRunning 4 times over 4600 events with 4 jobs, each with 8 threads, 8 streams and 1 GPUs\r\n  2424.2    2.8 ev/s (4400 events, 98.2% overlap)\r\n  2428.2    3.2 ev/s (4400 events, 98.4% overlap)\r\n  2403.7    2.5 ev/s (4400 events, 95.3% overlap)\r\n  2422.7    4.6 ev/s (4400 events, 96.8% overlap)\r\n --------------------\r\n  2419.7   10.9 ev/s\r\n```", "branch": "master", "changed_files": 1, "closed_at": "1625745959", "comments": 9, "commits": 1, "created_at": "1625665181", "deletions": 0, "labels": ["code-checks-approved", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "b23c6d0f092a9b351978991e909f5313e0912a49", "merged_at": "1625745959", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 34386, "release-notes": [], "review_comments": 0, "state": "closed", "title": "enforce memory order to avoid crash on Ampere", "updated_at": "1625745959", "user": "VinInn"}