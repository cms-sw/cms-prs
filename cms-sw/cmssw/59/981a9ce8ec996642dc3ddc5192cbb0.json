{"additions": 56, "auther_ref": "CMSSW_12_1_0_pre4/sign1125/egmJetCore", "auther_sha": "76ceb8e5412efdf070b4fd0eb4366b5d9a1f74fe", "author": "slava77", "body": "Changes in this PR were motivated to mitigate the situation with tracks reconstructed multiple times, one of them jet core after introduction of mkFit to the non-jetCore iterations. Such tracks are more predominantly assigned to jetCore algorithm.\r\n\r\nEGM/electron reco has some dependence on this:\r\n- jetCore is not counted in PFEgammaAlgo as isGoodForEGMPrimary : to address this the same check is extended to track's `originalAlgo` to take into account also the other iteration that may have reconstructed the same track\r\n- jetCore seeds are not included in the definition of ecalDrivenElectronSeeds and in the subsequent step where ecalDrivenElectronSeeds are merged with the trackerDrivenElectronSeeds (including jetCore) the check by seed hits alone is failing to assign a matching track to the ecal-driven seeds. To address this, the loop to match the hits is extended to include all of the track hits.\r\n\r\nThis was presented in TRK POG on Nov 1: https://indico.cern.ch/event/1092090/#3-interplay-in-high-pt-electro\r\n\r\nIllustrations of the issue:\r\n in pre4 Z'->ee https://tinyurl.com/yfd22fxr  the track algorithm is more dominantly the jetCore (starts at 100 GeV)\r\n<img width=\"735\" alt=\"image\" src=\"https://user-images.githubusercontent.com/4676718/139381429-0e55ad0b-3aa2-41bb-9142-d81b02ac0ad9.png\">\r\n\r\nthe reconstructed electron provenance https://tinyurl.com/yg4rfp7c is showing a drop in the tracker-driven electrons { provenance: +1 ecal; -1 tracker; 0 either; +2 ecal-only; -2 tracker-only}\r\n<img width=\"734\" alt=\"image\" src=\"https://user-images.githubusercontent.com/4676718/139382384-54d88fd3-fde8-4dc0-b418-8de2c952361d.png\">\r\n\r\nAfter this PR, on the same sample, only 100 events\r\ndefault tracking with mkFit (red is new, black is pre4)\r\n<img width=\"762\" alt=\"wfZpEEec070801a56_ele2all_provenance\" src=\"https://user-images.githubusercontent.com/4676718/139382480-8e65b1ae-3707-42ee-bae0-46cde3173750.png\">\r\n\r\neven in the CKF tracking (reco with `Run3_noMkFit`) there is a noticeable increase in the tracker-driven categorization and decrease in the ecal-only\r\n<img width=\"757\" alt=\"wfZpEEec070801a56-ckf_ele2all_provenance\" src=\"https://user-images.githubusercontent.com/4676718/139382579-7ecf8382-8398-47df-b84a-ce013f556c34.png\">\r\n\r\n", "branch": "master", "changed_files": 3, "closed_at": "1636033477", "comments": 22, "commits": 4, "created_at": "1635479438", "deletions": 47, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "cc5a950c6e11d1b3a4dd39b8dff8a9161ecd1037", "merged_at": "1636033476", "merged_by": "cmsbuild", "milestone": "CMSSW_12_2_X", "number": 35892, "release-notes": [], "review_comments": 2, "state": "closed", "title": "expand tracker-driven coverage for electron seeds; jetCore mitigation", "updated_at": "1636033477", "user": "slava77"}