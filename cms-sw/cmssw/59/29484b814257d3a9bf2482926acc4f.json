{"additions": 12, "auther_ref": "alca-update_onlinebeammonitor_12_1_X", "auther_sha": "b6aac13ab61e08273bd857b139b47637fe62400d", "author": "francescobrivio", "body": "#### PR description:\r\nFixes #34717.\r\nAdded a VPSet to `process.GlobalTag` in  `onlinebeammonitor_dqm_sourceclient-live_cfg.py` DQM client:\r\n```\r\nprocess.GlobalTag.toGet = cms.VPSet(\r\n  cms.PSet(\r\n    record = cms.string(\"BeamSpotOnlineLegacyObjectsRcd\"),\r\n    refreshTime = cms.uint64(1)\r\n  ),\r\n  cms.PSet(\r\n    record = cms.string(\"BeamSpotOnlineHLTObjectsRcd\"),\r\n    refreshTime = cms.uint64(1)\r\n  )\r\n)\r\n```\r\nIn this way the information about BeamSpotOnline is fetched every lumisection and the monitoring\r\nactually reflects the behaviour of any other consumer of these tags (most notably the HLT).\r\nNote that only the record name is needed in the toGet, this makes the client configuration resilient for\r\nfuture changes of the tag names themselves.\r\n\r\n#### PR validation:\r\nCompiles.\r\nAlso tested online and deployed the same configuration change in the HLT cosmics menu running in P5 (see http://cmsonline.cern.ch/cms-elog/1121707).\r\n\r\n#### Backport\r\nBackports to 12_0_X (needed for CRAFT and BeamTest) and 11_3_X (for CRUZET) will be previded shortly.\r\n", "branch": "master", "changed_files": 1, "closed_at": "1627998436", "comments": 20, "commits": 2, "created_at": "1627897633", "deletions": 0, "labels": ["code-checks-approved", "dqm-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "f2cec2248cf4aedda49b9d860dcc56ecbc1c79b8", "merged_at": "1627998435", "merged_by": "cmsbuild", "milestone": "CMSSW_12_1_X", "number": 34719, "release-notes": [], "review_comments": 2, "state": "closed", "title": "Update DQM onlinebeammonitor", "updated_at": "1627998436", "user": "francescobrivio"}