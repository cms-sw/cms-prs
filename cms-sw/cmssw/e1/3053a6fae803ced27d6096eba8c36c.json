{"additions": 285, "auther_ref": "concurrentIOVsL1ConfigOnlineProdBase", "auther_sha": "1a60b8d4f7f70d12afe22c8c063fc7bd29d29bfe", "author": "wddgit", "body": "Prepare for concurrent IOVs in files related to L1ConfigOnlineProdBase\r\nand L1ConfigOnlineProdBaseExt. Mostly this is conversion of\r\nshared_ptr to unique_ptr in those base classes and the many ESProducers\r\nthat derive from them. In a few modules I needed to remove a data member\r\nto do this.\r\n\r\nNote this also required changing the return type of the deserialization\r\nfunction in CondCore/CondDB/interface/Serialization.h and the fetchPayload\r\nfunction in CondCore/CondDB/interface/Session.h. Both of these changes\r\nseem to be better design to me. Probably the only reason it was a shared_ptr\r\nwas because this code was originally written before unique_ptr existed. I do\r\nnot know if it is significant, but this should also improve performance at least\r\nslightly. (One could make more similar changes in CondCore, but I only did\r\nthe minimum necessary for my immediate goal).\r\n\r\nThere is also a bit of cleanup mixed in. \"scram code-checks\" fixed a few things.\r\nIn one of the previous PRs in this ESProducer campaign\r\nsomeone requested I remove all the unnecessary \"using edm::es\" namespace\r\ndirectives, so I removed all those in these packages as well. Plus a little bit of\r\nfixing indentation around the lines I changed.\r\n\r\nFYI @Dr15Jones ", "branch": "master", "changed_files": 88, "closed_at": "1541195263", "comments": 38, "commits": 4, "created_at": "1540825233", "deletions": 427, "labels": ["alca-pending", "code-checks-approved", "comparison-available", "db-pending", "l1-approved", "orp-pending", "pending-signatures", "tests-approved"], "milestone": "CMSSW_10_4_X", "number": 25037, "release-notes": [], "review_comments": 12, "state": "closed", "title": "Prepare for concurrent IOVs, L1ConfigOnlineProdBase", "updated_at": "1541195286", "user": "wddgit"}