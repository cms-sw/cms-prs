{"additions": 9, "auther_ref": "CMSSW_10_6_X_2019-04-30-2300/dfTagInfo-neg-fix", "auther_sha": "3d71f1c9883f77c1af47493c18a46e0c02c940f3", "author": "slava77", "body": "do provenance check only once per collection retrieval and only when the negative tagging is running.\r\n\r\nin a recent performance inspection the provenance check was found to dominate the CPU use in the ```DeepFlavourTagInfoProducer::produce``` calls\r\nhttps://slava77sk.web.cern.ch/slava77sk/reco/cgi-bin/igprof-navigator/CMSSW_10_6_0_pre2-sign1069.136.8311.step2.1000.pp/487\r\n\r\nThis check is used only in the analysis mode with pfNegativeDeepFlavourTagInfos. \r\nThis PR moves the check out of the loop to be done just once per event and only with the ```flip``` flag set for running negative tagging.\r\n\r\n", "branch": "master", "changed_files": 1, "closed_at": "1557120539", "comments": 12, "commits": 1, "created_at": "1556975708", "deletions": 6, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "7b81013715804ba9bd5b90ce99460c89116fecd8", "merged_at": "1557120539", "merged_by": "cmsbuild", "milestone": "CMSSW_10_6_X", "number": 26634, "release-notes": [], "review_comments": 2, "state": "closed", "title": "drop provenance checks when not needed in DeepFlavourTagInfoProducer", "updated_at": "1557120539", "user": "slava77"}