{"additions": 19, "auther_ref": "FileInPathFix80X", "auther_sha": "c4b7f19a6b8d187da362e2e0dc6bd5e44d593a74", "author": "wmtan", "body": "This needs to be tested as I cannot be 100% sure that this fixes the test, as I can't be certain that I've reproduced the conditions under which the test is run in the IB. Nonetheless, it _should_ fix it.\nThere are two separate problems fixed by this PR. Problem 2) caused the test failure.\n1) The two local files used for the locality test were in a different package than the test. This will cause the test to fail if the package with the files is not checked out in the local working area. So, two dummy files were added to the test package for use in the locality test.\n2) The test actually did account for the possibility that it was being run from the base release. However, the test assumed that in the base release, CMSSW_RELEASE_BASE had been set to the empty string. This is, in fact, the case. However, if the test is run under scram, scram apparently sets CMSSW_RELEASE_BASE to the location of the base release. Because of this, the test does not recognize that it is being run from the base release, and tests fail. So this PR now also checks to see if CMSSW_RELEASE_BASE is equal to CMSSW_BASE, and also treats this as being run from the base release.\n", "branch": "CMSSW_8_0_X", "changed_files": 4, "closed_at": "1447307171", "comments": 16, "commits": 1, "created_at": "1447250882", "deletions": 10, "labels": ["comparison-available", "core-approved", "fully-signed", "tests-approved"], "merge_commit_sha": "4f770c17185ecbcc820228cd2e43e466ac86624c", "merged_at": "1447307171", "merged_by": "cmsbuild", "milestone": "CMSSW_8_0_X", "number": 12376, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix FileInPath test in FWCore/PythonParameterSet", "updated_at": "1447691930", "user": "wmtan"}