{"additions": 109, "auther_ref": "fix/incorrect_shower_packing_warning", "auther_sha": "7ff8aa541b0750d7a6533e82e142fa057da807df", "author": "dinyar", "body": "#### PR description:\r\n\r\nThis PR groups a few fixes (please let me know if I should split it into one PR per fix):\r\n- A check to make sure that we weren't overwriting muon information with the shower bits was watching the wrong bitfield.\r\n- We were also off by one in selecting the correct payload word for the regional muon showers.\r\n- Run-2 debug information from EMTF was still being written to the fields now foreseen for hadronic showers and displaced info. We now only do this for Run-2 data and for Run-3 set those data to zero to avoid a crash in the ntuplizers.\r\n- Unpacking of global hadronic showers (i.e. the uGMT output) has been enabled both for uGMT and the uGT input unpacker/\r\n\r\nTwo mostly aesthetic fixes:\r\n- We now only pack and unpack regional showers when they are actually filled (i.e. valid).\r\n- The `MuonShower` data format was made a bit more descriptive:\r\n  -  The private members storing the bits that are already defined for Run-3 have been named descriptively.\r\n  - Accessors for those members have been added.\r\n\r\n#### PR validation:\r\n\r\nRan on sample with hadronic showers[1] and confirmed that they appear at the output of the uGMT both in the EDM file and L1TNtuple.\r\n\r\n\r\n[1] `cmsDriver.py  l1Ntuple  --python_filename mc.py  -s L1REPACK:FullMC,RAW2DIGI  --mc -n -1 --conditions auto:phase1_2021_realistic --era Run3 --customise=L1Trigger/L1TNtuples/customiseL1Ntuple.L1NtupleRAWEMU  \r\n--customise=L1Trigger/Configuration/customiseUtils.L1TGlobalMenuXML --filein /store/mc/Run3Summer21DRPremix/HTo2LongLivedTo4b_MH-1000_MFF-450_CTau-100000mm_TuneCP5_14TeV-pythia8/GEN-SIM-DIGI-RAW/120X_mcRun3_2021_realistic_v6\r\n-v2/2550000/e28c777d-10fd-4100-b230-c42b0160ad8a.root`", "branch": "master", "changed_files": 15, "closed_at": "1644223838", "comments": 13, "commits": 9, "created_at": "1643902045", "deletions": 45, "labels": ["l1-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "ecff403f7ca9c726c476cf45b595aa1823676668", "merged_at": "1644223838", "merged_by": "cmsbuild", "milestone": "CMSSW_12_3_X", "number": 36877, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix incorrect hadronic shower packing and enable global shower unpacking for both uGMT and uGT", "updated_at": "1644223838", "user": "dinyar"}