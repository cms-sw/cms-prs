{"additions": 18, "auther_ref": "alternativeBSOnlineInPhase2", "auther_sha": "de56fce9cc078d24270949dcf4ec62319844c756", "author": "mmusich", "body": "#### PR description:\r\n\r\nThis PR proposes a somewhat alternative approach to deliver the online Beam Spot to the HLT menu in Phase-2 as the one introduced at https://github.com/cms-sw/cmssw/pull/41047.\r\nThe goal is to re-align the Phase-2 HLT configuration to be the same as in Run3 (i.e. use `BeamSpotOnlineProducer` instead of `BeamSpotProducer`) this is achieved by means of:\r\n   * adding the `hltOnlineBeamSpotESProducer` (`ESProducer` for the arbitration) to the HLT menu itself;\r\n   * set `useTransientRecord = True` in the `onlineBeamSpot` configuration (in this way one do not need to use scalers input any longer);\r\n\r\nAs with the proposed configuration the `BeamSpotOnlineProducer` falls back into producing the in the event the content of the DB (`BeamSpotObjectsRcd`) this should not introduce any change in the HLT results.\r\nOne of the main objections to use `BeamSpotOnlineProducer` for the phase-2 setup was about the fact that it needs to consume `BeamSpotOnlineCollection` from the SCAL FED (which doesn't exist anymore in >= Run3). I therefore profit of this PR to change `BeamSpotOnlineProducer` in order to not consume it unless  `useTransientRecord` is set to `False`. This and declaring this parameter as optional in the `fillDescription` method of `BeamSpotOnlineProducer` allows to avoid declaring `hltScalersRawToDigi` as input collection.\r\n\r\n#### PR validation:\r\n\r\nSuccessfully run:\r\n   * `runTheMatrix.py -l 20834.76`\r\n   * `addOnTests.py`\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nN/A", "branch": "master", "changed_files": 4, "closed_at": "1680531234", "comments": 30, "commits": 2, "created_at": "1679909087", "deletions": 3, "labels": ["alca-approved", "hlt-approved", "reconstruction-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved", "tracking"], "merge_commit_sha": "bbd0c32af4893df5d225752acb6c52588e159944", "merged_at": "1680531234", "merged_by": "cmsbuild", "milestone": "CMSSW_13_1_X", "number": 41193, "release-notes": [], "review_comments": 7, "state": "closed", "title": "Re-introduce `BeamSpotOnlineProducer` for Phase-2 HLT menu", "updated_at": "1680531235", "user": "mmusich"}