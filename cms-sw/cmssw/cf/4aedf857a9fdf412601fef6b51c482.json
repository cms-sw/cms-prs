{"additions": 8, "auther_ref": "closeby_barrel_vertex_smearing", "auther_sha": "bc285d7dbb010aa9a5a91b059a1b25b511ff4ac3", "author": "bfonta", "body": "#### PR description\r\n\r\nCloseByParticleGun samples in the barrel should not have their vertex smeared, as this can move the position of the simulated vertex into the detector. Inspired from https://github.com/cms-sw/cmssw/pull/34681.\r\nI've removed the \"HGCAL\" substring to use the same dummy vertex smearer for all CloseBy samples (HGCAL + barrel).\r\n\r\n#### PR validation:\r\n\r\nTesting with the `34553.0 CloseByPGun_Barrel_Front+Run4D121` workflow:\r\n\r\n```\r\n$ runTheMatrix.py -w upgrade -el 34553.0 --show \r\n...\r\n34553.0 CloseByPGun_Barrel_Front_Run4D121_GenSimHLBeamSpotCloseBy+DigiTrigger_Run4D121+RecoGlobal_Run4D121+HARVESTGlobal_Run4D121+ALCAPhase2_Run4D121 [1]: cmsDriver.py CloseByPGun_Barrel_Front_cfi  -s GEN,SIM -n 10 --conditions auto:phase2_realistic_T33 --beamspot HGCALCloseBy --datatier GEN-SIM --eventcontent FEVTDEBUG --geometry ExtendedRun4D121 --era Phase2C22I13M9 --relval 9000,100 \r\n                                           [2]: cmsDriver.py step2  -s DIGI:pdigi_valid,L1TrackTrigger,L1,L1P2GT,DIGI2RAW,HLT:@relvalRun4 --conditions auto:phase2_realistic_T33 --datatier GEN-SIM-DIGI-RAW -n 10 --eventcontent FEVTDEBUGHLT --geometry ExtendedRun4D121 --era Phase2C22I13M9\r\n                                           [3]: cmsDriver.py step3  -s RAW2DIGI,RECO,RECOSIM,PAT,VALIDATION:@phase2Validation+@miniAODValidation,DQM:@phase2+@miniAODDQM --conditions auto:phase2_realistic_T33 --datatier GEN-SIM-RECO,MINIAODSIM,DQMIO -n 10 --eventcontent FEVTDEBUGHLT,MINIAODSIM,DQM --geometry ExtendedRun4D121 --era Phase2C22I13M9\r\n                                           [4]: cmsDriver.py step4  -s HARVESTING:@phase2Validation+@phase2+@miniAODValidation+@miniAODDQM --conditions auto:phase2_realistic_T33 --mc  --geometry ExtendedRun4D121 --scenario pp --filetype DQM --era Phase2C22I13M9 -n 100 \r\n                                           [5]: cmsDriver.py step5  -s ALCA:SiPixelCalSingleMuonLoose+SiPixelCalSingleMuonTight+TkAlMuonIsolated+TkAlMinBias+MuAlOverlaps+EcalESAlign+TkAlZMuMu+TkAlDiMuonAndVertex+HcalCalHBHEMuonProducerFilter+TkAlUpsilonMuMu+TkAlJpsiMuMu --conditions auto:phase2_realistic_T33 --datatier ALCARECO -n 10 --eventcontent ALCARECO --geometry ExtendedRun4D121 --era Phase2C22I13M9\r\n...\r\n```\r\n\r\nThe above shows that `GenSimHLBeamSpotCloseBy` has been correctly picked up.\r\n\r\nInspecting the configuration file `34553.0_CloseByPGun_Barrel_Front+Run4D121/CloseByPGun_Barrel_Front_cfi_GEN_SIM.py` produced with `runTheMatrix.py -w upgrade -el 34553.0 -j0` indeed shows the correct vertex smearer has been used:\r\n\r\n\r\n```python\r\n...\r\nprocess.load('IOMC.EventVertexGenerators.VtxSmearedCloseBy_cfi')\r\n...\r\n```\r\n\r\nThe above workflow run successfully.", "branch": "master", "changed_files": 5, "comments": 11, "commits": 1, "created_at": "1765298009", "deletions": 8, "labels": ["operations-approved", "simulation-approved", "fully-signed", "tests-approved", "orp-pending", "pdmv-approved", "bug-fix", "code-checks-approved", "ngt"], "milestone": "CMSSW_16_0_X", "number": 49584, "release-notes": [], "review_comments": 0, "state": "open", "title": "Remove vertex smearing for CloseBy samples in the barrel.", "updated_at": "1765518464", "user": "bfonta"}