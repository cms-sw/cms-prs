{"additions": 3, "auther_ref": "shrinkPFRecHit", "auther_sha": "009703418d9a1a85f344ec7e48727a078eb1b365", "author": "mark-grimes", "body": "Uses shrink_to_fit in PFRecHitProducer as suggested by @lgray.\nMemory size of the produced collections in SLHC25_patch6 (top 25 only):\n![before](https://cloud.githubusercontent.com/assets/6480160/7653507/2314a6be-fb0e-11e4-9f9a-3e3f81b66b55.png)\nSame again after applying this PR and #9096:\n![allmemimprovements](https://cloud.githubusercontent.com/assets/6480160/7653514/29be7080-fb0e-11e4-976a-d8e821292e46.png)\n\nLooking at the VmSize there appears to be an improvement.  This plot is hard to read because the x-axis is approximately time, and they didn't run at the same speed.  Each undulating peak is an event, it rises as control runs through the modules and then drops at the start of the next event.  The red (this PR, #9096 and #9084) is a little faster (wouldn't read anything into that) so the peaks are a little ahead of the blue (SLHC25_patch6).  The important thing is that if you match the corresponding peaks the red is ~100Mb lower.  The vast majority of that is this pull request rather than #9096 or #9084.\n![vmsize_allimprovements](https://cloud.githubusercontent.com/assets/6480160/7653568/9d7b19a6-fb0e-11e4-8751-6a614c00e017.png)\n", "branch": "CMSSW_6_2_X_SLHC", "changed_files": 1, "closed_at": "1432120706", "comments": 12, "commits": 1, "created_at": "1431689748", "deletions": 0, "labels": ["comparison-pending", "orp-pending", "pending-signatures", "reconstruction-pending", "tests-approved"], "merge_commit_sha": "0ae5bfe51951b95a6415f28bf8ed1fb5b9ccb2e4", "merged_at": "1432120706", "merged_by": "cmsbuild", "milestone": "Next CMSSW_6_2_X_SLHC", "number": 9106, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Use shrink_to_fit on the PFRecHit collections", "updated_at": "1432165134", "user": "mark-grimes"}