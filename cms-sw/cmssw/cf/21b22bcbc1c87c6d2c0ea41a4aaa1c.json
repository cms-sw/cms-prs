{"additions": 0, "auther_ref": "removeOfast", "auther_sha": "2eaadc13cc4dd3ad8f0bd98c12a944137cb080b6", "author": "silviodonato", "body": "#### PR description:\r\n\r\nAbout one year ago we discovered differences of few percents between AMD and Intel in few HLT paths when rerunning the HLT [1]. The situation got worse when we added the parking di-electron paths with dZ path, which gave a difference of ~8% [2].\r\nGiven that:\r\n- we didn't manage yet to validate the impact on the offline reconstruction [3]\r\n- we don't have yet a way to check if an event has been reconstructed by an AMD or Intel CPU [4]\r\n- the parking di-electron paths with dZ will be used heavily in the 2023 menu (~500 Hz)\r\n\r\nI propose to remove Ofast from all CMSSW package (except `DataFormat/Math/test`) since 13_0_0_pre4.\r\n\r\nThe impact on reco time is 1.1%-1.2% from @cms-sw/reconstruction-l2 measurement [5]. \r\nThe impact on the HLT timing is negligible.\r\n\r\nCaveat: there is an ongoing test by @gparida following @VinInn suggestion [6] about using `-Ofast  -fno-reciprocal-math -mno-recip`.\r\n\r\nWarning to release managers: this PR changes many BuildFiles.xml and therefore the compilation takes a lot of time. This might be a problem for people who will need to rebase their PR including this PR.\r\n\r\n[1] https://its.cern.ch/jira/browse/CMSHLT-2257\r\n[2] https://docs.google.com/spreadsheets/d/1XRu1sfIYJUQ0e7Z_yJWdGrxTDA31zr33uWPFY54-APc\r\n[3] https://its.cern.ch/jira/browse/PDMVRELVALS-159\r\n[4] https://github.com/cms-sw/cmssw/issues/39982 and https://github.com/cms-sw/cmssw/issues/30044\r\n[5] https://github.com/cms-sw/cmssw/issues/40089\r\n[6] https://its.cern.ch/jira/browse/CMSHLT-2257?focusedCommentId=4686018&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-4686018\r\n\r\ncc: @dpiparo @gparida @cms-sw/hlt-l2 @sanuvarghese\r\n\r\n#### PR validation:\r\n\r\nStill ongoing", "branch": "master", "changed_files": 17, "comments": 2, "commits": 1, "created_at": "1675182788", "deletions": 17, "labels": ["reconstruction-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-approved", "tracking"], "milestone": "CMSSW_13_0_X", "number": 40649, "release-notes": [], "review_comments": 0, "state": "open", "title": "Removal of ofast-flag (AMD/Intel differences)", "updated_at": "1675183385", "user": "silviodonato"}