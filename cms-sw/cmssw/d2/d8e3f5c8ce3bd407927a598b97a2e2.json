{"additions": 45, "auther_ref": "optimizeQuickTrackAssociatorByHitsImpl", "auther_sha": "ce21d65ec5a5c554d253bca30d529c762bbaa911", "author": "makortel", "body": "While preparing #9223, I noticed that the ClusterTPAssociationList is copied in QuickTrackAssociatorByHitsImplProducer (to sort it), and the inserted to Event as part of reco::TrackToTrackingParticleAssociator. IgProf shows that in RelVal TTbar+35BX@25ns sample this takes O(4-5 MB) of memory in a RAW2DIGI,RECO,VALIDATION,DQM workflow.\n\nIn this PR I try to avoid the copy by sorting ClusterTPAssociationList in ClusterTPAssociationProducer before the product is put in Event.\n\nOn the same go, I turned the shared_ptr<TrackerHitAssociator> to unique_ptr as the TrackerHitAssociator is not shared with other objects, and moved to C++14 make_unique.\n\nTested in CMSSW_7_5_X_2015-05-13-2300 and CMSSW_7_5_X_2015-05-21-2300, no changes expected in results.\n\n@rovere @VinInn \n", "branch": "CMSSW_7_5_X", "changed_files": 6, "closed_at": "1432677197", "comments": 18, "commits": 2, "created_at": "1432279974", "deletions": 36, "labels": ["comparison-available", "fully-signed", "simulation-approved", "tests-approved"], "merge_commit_sha": "bc6bf63407022b3d4d8d23533b54c45c0a31d02a", "merged_at": "1432677197", "merged_by": "cmsbuild", "milestone": "CMSSW_7_5_X", "number": 9225, "release-notes": [], "review_comments": 2, "state": "closed", "title": "Sort the output of ClusterTPAssociationProducer", "updated_at": "1476956331", "user": "makortel"}