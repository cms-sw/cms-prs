{"additions": 1, "auther_ref": "fix_custom_part_130X", "auther_sha": "deab3193abb400ab4b551a501b1a5b510dff1c24", "author": "sarafiorendi", "body": "backport of https://github.com/cms-sw/cmssw/pull/42957\r\n\r\n**PR description:**\r\nThis PR is to fix the behaviour of the CustomParticleFactory class in order to correctly include the corresponding anti-particle each time a new particle is added to the list.\r\nThe correct behaviour was somehow broken with [this commit](https://github.com/cms-sw/cmssw/commit/c3d2a3218041b3de169093b1c1df2d337fe1d74d#diff-3356a0227a88656afdbec257541eeac667962e40e2514de565256487d2ca9b32) which reverted the condition necessary to call the addCustomParticle() function (which should add the anti-particle to the particle table).\r\nSo in the current releases the function will be called only if the anti-particle is already there.\r\nAs an example, in my case I needed to add the stau and anti-stau particles, but only the stau was added, while the anti-stau was not, with a series of consequences in the following steps (e.g., charge was set to 0, anti-stau track non added to the SIM track collection, etc...)\r\n\r\n**PR validation:**\r\nsee original PR\r\n\r\n**If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:**  \r\nVerbatim backport of https://github.com/cms-sw/cmssw/pull/42957 to 13_0_X to be used for Summer23 MC production", "branch": "CMSSW_13_0_X", "changed_files": 1, "comments": 5, "commits": 1, "created_at": "1698152109", "deletions": 1, "labels": ["simulation-approved", "fully-signed", "tests-approved", "orp-pending", "backport-ok"], "milestone": "CMSSW_13_0_X", "number": 43103, "release-notes": [], "review_comments": 0, "state": "open", "title": "[13_0_X] Fix condition to add anti-particle to G4ParticleTable", "updated_at": "1698163881", "user": "sarafiorendi"}