{"additions": 5, "auther_ref": "update_o2o_devjobs", "auther_sha": "6ec2cf1e81d25b3435537664c0b39e3f60eeb3a7", "author": "p-masterson", "body": "#### PR description:\r\n\r\nCurrently, the O2O DAQ tests fail when `scram b runtests` is used on lxplus.  This PR fixes the issues with two changes:\r\n\r\n  - In `CondTools/SiStrip/python/o2o_db_manager.py`, the account used to access `cms_orcoff_prep`, `cms_test_conditions`, is outdated and should no longer be used.  Instead, it has been replaced with `cms_cond_general_w`.\r\n  - In `OnlineDB/SiStripO2O/plugins/SiStripPayloadHandler.cc`, the default schema name for the mapping table is CMS_COND_O2O.  However, this is only true for the production DB; when accessing the prep DB, the correct schema is CMS_COND_STRIP.  This PR sets the schema to CMS_COND_STRIP if the prep DB is being used.\r\n\r\nBecause both sections of code changed are relevant only to the DAQ O2Os, the rest of CMSSW should be unaffected.\r\n\r\n#### PR validation:\r\n\r\nThe changes have been tested successfully with the usual `scram b runtests` on lxplus.  Additionally, they were tested with an independent testing setup on lxplus:\r\n\r\n  - The O2O test directory on the P5 node, `/nfshome0/trackerpro/o2o/scripts/test`, was copied to lxplus.  All .\r\n  - The O2O `.netrc` and `.cms_cond/db.key` files were also copied to lxplus.\r\n  - All relevant filepaths and environmental vars were updated to account for the new locations of CMSSW and the authentication files.\r\n  - A tunnel to P5 was set up with screen: `screen ssh -N -L 10121:cmsrac51-v:10121 trackerpro@cmsusr`\r\n  - The script `temp_run.sh`, a copy of the usual `prepareGlobal.sh` script, was used to run the test jobs.\r\n\r\nFor additional validation, the changes must tested on P5 after the PR is accepted.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nBecause the node at P5 is about to move from CMSSW_12_2_1_patch2 to CMSSW_12_4_3, a backport to 12_4_X will most likely be necessary.", "branch": "master", "changed_files": 2, "comments": 8, "commits": 1, "created_at": "1670340633", "deletions": 1, "labels": ["fully-signed", "tests-approved", "orp-pending", "db-approved", "bug-fix", "code-checks-approved", "trk"], "milestone": "CMSSW_13_0_X", "number": 40249, "release-notes": [], "review_comments": 0, "state": "open", "title": "Replace old cms_test_conditions schema with cms_cond_general_w; use C", "updated_at": "1670428680", "user": "p-masterson"}