{"additions": 11027, "auther_ref": "patatrack_integration_7_N_ecal_local_reco", "auther_sha": "92f3342c2a44cfe32f2a02d1613fd5e5d71486ce", "author": "cms-patatrack", "body": "#### PR description:\r\n\r\nData formats and algorithms for the ECAL local reconstruction running on GPU.\r\nImplements the ECAL unpacking and the production of ECAL uncalibrated rechits, including the multifit algorithm\r\n\r\n#### PR validation:\r\n\r\nChanges in use in the Patatrack releases.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nIncludes changes from:\r\n  - cms-patatrack#62 Implement a Heterogeneous version of Raw2Cluster and RecHit\r\n  - cms-patatrack#77 Prototype for EventSetup data on GPUs\r\n  - cms-patatrack#100 Next prototype of the framework integration\r\n  - cms-patatrack#285 Various updates to pixel track/vertex DQM and MTV\r\n  - cms-patatrack#335 Reimplement the ECAL multifit with CUDA, for an HLT-like configuration\r\n  - cms-patatrack#359 Extend the ECAL validation on GPU\r\n  - cms-patatrack#361 Add a converter for ECAL uncalibrated RecHit from SoA to legacy format\r\n  - cms-patatrack#387 Fix clang warnings\r\n  - cms-patatrack#389 Replace use of API wrapper stream and event with plain CUDA, part 1\r\n  - cms-patatrack#429 Implement changes from the CUDA framework review\r\n  - cms-patatrack#443 Implement the ECAL unpacker on GPUs\r\n  - cms-patatrack#444 Clean up ECAL unapcker code\r\n  - cms-patatrack#445 Apply code formatting fixes from upstream integration\r\n  - cms-patatrack#450 Implement the ECAL-only gpu workflows\r\n  - cms-patatrack#454 Simplify producing dummy collections in EcalCPUDigisProducer\r\n  - cms-patatrack#462 Implement ECAL rechits on GPU\r\n  - cms-patatrack#463 EcalUncalibRecHitProducerGPU: remove unused \"shouldTransferToHost\" parameter\r\n  - cms-patatrack#464 Rename CUDAHostAllocator to cms::cuda::HostAllocator\r\n  - cms-patatrack#472 Add customisations for profiling the ECAL-only workflow\r\n  - cms-patatrack#473 Enable ECAL rechits reconstruction on GPUs\r\n  - cms-patatrack#475 Fixes for ECAL rechits on GPU\r\n  - cms-patatrack#477 Enable ECAL rechits reconstruction on GPUs at HLT\r\n  - cms-patatrack#483 Restructure code to work around CUDA build limitations\r\n  - cms-patatrack#486 Apply code formatting\r\n  - cms-patatrack#489 Remove duplicate dictionary definitions\r\n  - cms-patatrack#490 Comment unused variable eps_diff\r\n  - cms-patatrack#502 Update ECAL and HCAL reconstruction to run on multple GPUs [1/3]\r\n  - cms-patatrack#504 Update ECAL and HCAL reconstruction to run on multple GPUs [3/3]\r\n  - cms-patatrack#508 Update ECAL and HCAL reconstruction to run on multple GPUs [2/3]\r\n  - cms-patatrack#511 Migrate EcalUncalibRecHitProducerGPU to use ESGetToken's\r\n  - cms-patatrack#517 Configure the number of ECAL barrel and endcap channels separately\r\n  - cms-patatrack#523 Refactor common ECAL and HCAL code\r\n  - cms-patatrack#524 Apply code formatting\r\n  - cms-patatrack#556 Further clean up after merging CMSSW_11_2_0_pre7\r\n  - cms-patatrack#557 Move multifit/MAHI common code to DataFormats/CaloRecHit\r\n  - cms-patatrack#558 Address ECAL review comments regarding preprocessor directives\r\n  - cms-patatrack#563 Address ECAL review comments regarding python files\r\n  - cms-patatrack#566 Reduce code duplication in CPU and GPU modules\r\n  - cms-patatrack#567 Refactor ECAL and HCAL chi2 code\r\n  - cms-patatrack#569 Move common ESProducer templates to ConvertingESProducer(WithDependencies)T\r\n  - cms-patatrack#591 Clean up ECAL local reconstruction code\r\n  - cms-patatrack#592 Do not use the ECAL calibrated rechits from the GPU workflow\r\n  - cms-patatrack#597 Use CMS_UNROLL_LOOP instead of #pragma unroll in ECAL code\r\n  - cms-patatrack#598 Update the default configuration of ECAL modules\r\n", "branch": "master", "changed_files": 97, "closed_at": "1610995729", "comments": 283, "commits": 62, "created_at": "1602186398", "deletions": 27, "labels": ["allow-thomreis", "code-checks-approved", "fully-signed", "heterogeneous-approved", "operations-approved", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "c98ca602f3886cbf736978afdc5623241c70be4f", "merged_at": "1610995728", "merged_by": "cmsbuild", "milestone": "CMSSW_11_3_X", "number": 31719, "release-notes": [], "review_comments": 167, "state": "closed", "title": "Patatrack integration - ECAL local reconstruction (7/N)", "updated_at": "1610995729", "user": "fwyzard"}