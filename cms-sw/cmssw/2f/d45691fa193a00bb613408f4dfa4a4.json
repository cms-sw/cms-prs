{"additions": 1, "auther_ref": "TP_bugfix_backport", "auther_sha": "4af21beae7a9d77d6226e9cf4aa38de1b5363ae9", "author": "TaeunKwon", "body": "#### PR description:\r\n\r\nThis PR updates the HCAL Trigger Primitive(TP) reconstruction algorithm to fix the bug affecting TPs in PFA2 scheme. While checking the match between TPs from Data and emulation, we found that the current algorithm cannot handle the case in PFA2 when there is a saturation only in SOI while there is no saturation in SOI+1, which produces some TPs saturated in Data, but not saturated in the emulation. There are two plots showing this discrepancy: [ietaViphi](https://user-images.githubusercontent.com/17723379/164754027-584f1ca1-e7a1-46c1-9f98-4d273c9dab5a.png) and [et_corr13](https://user-images.githubusercontent.com/17723379/164754047-7213e4b1-b71c-4ce0-a0e7-23c5cd19b4f8.png). ietaViphi shows the TPs with a disagreement, and et_corr13 compares the data vs emulation for TPs with ieta=-8. We can see there are 2 TPs that are saturated in data but not in emulation. \r\n\r\n#### PR validation:\r\n\r\nA basic technical test was performed: runTheMatrix.py -l limited -i all --ibeos\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nThis PR is a backport of PR #37658 to 123X, as we need matches between s/w and f/w in production release now. \r\n", "branch": "CMSSW_12_3_X", "changed_files": 1, "closed_at": "1651757349", "comments": 7, "commits": 1, "created_at": "1651669369", "deletions": 1, "labels": ["l1-approved", "fully-signed", "tests-approved", "orp-approved", "backport-ok"], "merge_commit_sha": "f6c030b3ced3616ab4739de68421f2fab616c979", "merged_at": "1651757349", "merged_by": "cmsbuild", "milestone": "CMSSW_12_3_X", "number": 37804, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[Backport of] HCAL: HCAL TP bug fix for PFA2 scheme ", "updated_at": "1651757349", "user": "TaeunKwon"}