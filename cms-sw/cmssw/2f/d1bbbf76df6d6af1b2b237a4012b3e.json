{"additions": 180, "auther_ref": "fixUnclustered11Xpart2", "auther_sha": "5f8cb30a83c56b28957474a1300eb4c785a0e362", "author": "ahinzmann", "body": "#### PR description:\r\n\r\nResolve issue #25849\r\n\r\nselectedPatLeptons have no sourceCandidatePtrs linked to them.\r\nTherefore lepton subtraction from unclustered energy fails in METSignficance.cc.\r\nslimmedLeptons have properly linked sourceCandidatePtrs and allows lepton subtraction from unclustered energy.\r\nThis resulted in a disagreement between MET significance, unclustered energy and covariance matrix stored in MiniAOD and recomputed out of MiniAOD.\r\nThe value in MiniAOD was wrong and is now fixed by converting electrons/photons into candidates with sourceCandidatePtrs when running on RECO.\r\n\r\n#### PR validation:\r\n\r\nIt was checked that METSignficance.cc now sees all the lepton PF candidates, which were previously not seen on workflow 136.8311.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nBackport to 106X for UL re-miniAOD in #29392.", "branch": "master", "changed_files": 4, "closed_at": "1587019036", "comments": 81, "commits": 9, "created_at": "1585895189", "deletions": 54, "labels": ["analysis-approved", "code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "f3c0d70475eab673252308bb71855632fc8c949b", "merged_at": "1587019036", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 29385, "release-notes": [], "review_comments": 42, "state": "closed", "title": "Fix MET Significance, Covariance Matrix and unclustered energy lepton subtraction", "updated_at": "1587108055", "user": "ahinzmann"}