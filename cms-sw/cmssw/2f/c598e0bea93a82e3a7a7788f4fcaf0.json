{"additions": 4, "auther_ref": "EMTF_fixRPCGEMUnpacking_Feb23", "auther_sha": "93cf874b6eb18d07db795b8a1254911bb1dde39e", "author": "eyigitba", "body": "#### PR description:\r\n\r\nAs reported by RPC experts, EMTF unpacker is currently producing invalid RPC and GEM hits. This is a result of https://github.com/cms-sw/cmssw/pull/39388 where EMTF switched to packing 2 RPC/GEM TPs per dataword. I forgot to add a valid flag which wasn't needed before. However, in the current scenario if there is only one RPC/GEM TP in the dataword, the second TP is filled with garbage and results in invalid TPs in DQM plots.\r\n\r\nThese invalid TPs are later dropped by the EMTF emulator, so the only affected part is DQM plots. This PR adds the valid flag check to these unpackers. It is expected to see DQM mismatches in 2022 data after this PR.  \r\n\r\n#### PR validation:\r\n\r\nValidated by running on 2022 data to verify that the invalid TPs are now gone from DQM plots after the changes. Since the TPs should always be valid anyway, there is no other expected impact.\r\n\r\nBefore:\r\n![image](https://user-images.githubusercontent.com/53942290/219454838-01f6339a-792e-469b-bc60-ebce1856cfad.png)\r\n\r\nAfter:\r\n![image](https://user-images.githubusercontent.com/53942290/219454819-e09d9e8d-c833-4655-84bf-f88eda65b669.png)\r\n\r\n\r\n<!-- Please replace this text with a description of which tests have been performed to verify the correctness of the PR, including the eventual addition of new code for testing like unit tests, test configurations, additions or updates to the runTheMatrix test workflows -->\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nThis PR should be backported to 13_0_X for data taking.\r\n\r\n<!-- Please replace this text with any link to the master PR, or the intended backport release cycle numbers -->\r\n\r\n<!-- Please delete the text above after you verified all points of the checklist  -->\r\n", "branch": "master", "changed_files": 2, "comments": 4, "commits": 1, "created_at": "1676568320", "deletions": 4, "labels": ["l1-pending", "pending-signatures", "tests-approved", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_13_1_X", "number": 40797, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix RPC and GEM TP unpacking in EMTF unpacker", "updated_at": "1676582028", "user": "eyigitba"}