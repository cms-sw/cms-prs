{"additions": 669, "auther_ref": "ge21-me21-seg-reco__from-CMSSW_12_6_0_pre2", "auther_sha": "447d0398758c97cb9c6c5e209b8f9284a2df7dbd", "author": "slowmoyang", "body": "#### PR description:\r\n- This PR implements the GE21-ME21 segment reconstruction in the same way as the GE11-ME11 segment reconstruction. \r\n- Add `GEMCSCSegmentProducer::fillDescription`\r\n- Add `GEMCSCCoincidenceRateAnalyzer` for the GEM-CSC coincidence rate study\r\n- Add `runGEMCSCCoincidenceRateAnalyzer_cfg.py` and `plotGEMCSCCoincidenceRate.py` to validate `GEMCSCSegment` reconstruction codes. The instruction is shown in the PR validation part.\r\n\r\n#### PR validation:\r\n#### \r\nBecause `GEMCSCSegmentProducer` is not included in the standard reconstruction sequence, this PR cannot be validated by `runTheMatrix.py`.\r\n Therefore, wf 42021.0 was modified and used for the validation. [The result](https://indico.cern.ch/event/1199653/contributions/5044332/attachments/2507440/4308901/GEM-DPG_220913.pdf) was presented in the GEM DPG meeting.\r\n\r\n\r\n#### via online DQM unittest\r\nAlso, because this PR touches `DQM/GEM`, this PR was valiated with the online DQM unit test. Logs and output files are [here](https://github.com/slowmoyang/GEM-Workspace/tree/main/SW-Dev/220722_GE21-ME21-Segment-Reco/test/CMSSW_12_6_0_pre2/online-dqm-unittest).\r\n```zsh\r\ncmsRun ${CMSSW_BASE}/src/DQM/Integration/python/clients/gem_dqm_sourceclient-live_cfg.py unitTest=True\r\n```\r\n\r\n#### via `runGEMCSCCoincidenceRateAnalyzer_cfg.py` and `plotGEMCSCCoincidenceRate.py`\r\nThis PR can be validated with `runGEMCSCCoincidenceRateAnalyzer_cfg.py` and `plotGEMCSCCoincidenceRate.py`. `runGEMCSCCoincidenceRateAnalyzer_cfg.py` takes RECO-tier files as input and then runs `GEMCSCSegmentProducer` and `GEMCSCCoincidenceRateAnalyzer`. `GEMCSCCoincidenceRateAnalyzer` produces a root file containing `TTree`. Then, `plotGEMCSCCoincidenceRate.py`takes the resulting root file as input and produces efficiency plots.\r\n\r\nResults can be found [here](https://docs.google.com/presentation/d/1Yt5L1gfkJmAKLuKQ9E37ktNNccAhiQyi1VOatnzxwug/edit?usp=sharing)\r\n\r\n```shell\r\n$ cmsRun runGEMCSCCoincidenceRateAnalyzer_cfg.py -o ./output.root\r\n$ python3 plotGEMCSCCoincidenceRate.py -i ./output.root\r\n```\r\n\r\nThe help message of `runGEMCSCCoincidenceRateAnalyzer_cfg.py` is as below. The era, global tag and geometry can be configured using arguments.\r\n\r\n```shell\r\n$ python3 runGEMCSCCoincidenceRateAnalyzer_cfg.py -h\r\nsys.argv=['runGEMCSCCoincidenceRateAnalyzer_cfg.py', '-h']\r\n['runGEMCSCCoincidenceRateAnalyzer_cfg.py'] are interpreted as arguments for cmsRun.\r\nparsing argumnets from ['-h'].\r\nusage: runGEMCSCCoincidenceRateAnalyzer_cfg.py [-h] [-e ERA] [-t GLOBAL_TAG] [-g GEOMETRY] [-m MAX_EVENTS] [-i INPUT_FILES [INPUT_FILES ...]] [-o OUTPUT_FILE]\r\n\r\noptional arguments:\r\n  -h, --help            show this help message and exit\r\n  -e ERA, --era ERA     era (default: Phase2C17I13M9)\r\n  -t GLOBAL_TAG, --global-tag GLOBAL_TAG\r\n                        global tag (default: auto:phase2_realistic_T21)\r\n  -g GEOMETRY, --geometry GEOMETRY\r\n                        geometry (default: GeometryExtended2026D88Reco)\r\n  -m MAX_EVENTS, --max-events MAX_EVENTS\r\n                        max events (default: -1)\r\n  -i INPUT_FILES [INPUT_FILES ...], --input-files INPUT_FILES [INPUT_FILES ...]\r\n                        input files (default: ['file:/eos/cms/store/relval/CMSSW_12_6_0_pre2/RelValSingleMuPt1000/GEN-SIM-\r\n                        RECO/125X_mcRun4_realistic_v2_2026D88noPU-v1/2580000/412ca5d0-4533-477d-ae92-411f5a532937.root', 'file:/eos/cms/store/relval/CMSSW_12_6_0_pre2/RelValSingleMuPt1000/GEN-SIM-\r\n                        RECO/125X_mcRun4_realistic_v2_2026D88noPU-v1/2580000/817a15f8-1355-4606-a069-4e2d9e4f7939.root', 'file:/eos/cms/store/relval/CMSSW_12_6_0_pre2/RelValSingleMuPt1000/GEN-SIM-\r\n                        RECO/125X_mcRun4_realistic_v2_2026D88noPU-v1/2580000/d1801dfb-b4e3-489b-b04c-5125cc35bc2e.root', 'file:/eos/cms/store/relval/CMSSW_12_6_0_pre2/RelValSingleMuPt1000/GEN-SIM-\r\n                        RECO/125X_mcRun4_realistic_v2_2026D88noPU-v1/2580000/d21fa76d-6a29-4455-8476-cc04800a4b49.root', 'file:/eos/cms/store/relval/CMSSW_12_6_0_pre2/RelValSingleMuPt1000/GEN-SIM-\r\n                        RECO/125X_mcRun4_realistic_v2_2026D88noPU-v1/2580000/f25378b1-c009-41b0-9a1b-1a043c4cc599.root'])\r\n  -o OUTPUT_FILE, --output-file OUTPUT_FILE\r\n                        output file (default: output.root)\r\n```\r\n\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\nThis PR is not a backport but will be backported.\r\n", "branch": "master", "changed_files": 14, "comments": 46, "commits": 6, "created_at": "1663556793", "deletions": 47, "labels": ["reconstruction-pending", "dqm-pending", "operations-pending", "pending-signatures", "tests-pending", "orp-pending", "upgrade-pending", "code-checks-approved"], "milestone": "CMSSW_12_6_X", "number": 39441, "release-notes": [], "review_comments": 6, "state": "open", "title": "GE21-ME21 segment reconstruction", "updated_at": "1668076381", "user": "slowmoyang"}