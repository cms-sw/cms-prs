{"additions": 153, "auther_ref": "validateGsfElectron_before_MVA_10_6_14", "auther_sha": "5caf2d1ed058ac2fdf368f979fa07ee50bfb147d", "author": "guitargeek", "body": "#### PR description:\r\n\r\n**Backport of https://github.com/cms-sw/cmssw/pull/30052 to 10_6_X**.\r\n\r\nYesterday, @jainshilpi asked me about running VID for `reco::GsfElectrons` in 10_6_X, which is a requirement by her analysis if I understood correctly. This is not supported by the EgammaPostRecoTools [1]. It is actually a bit dangerous because if one forgets to update the GsfElectron format, the ID will silently give wrong results.\r\n\r\nHence, we naturally started discussing about https://github.com/cms-sw/cmssw/pull/30052, which added a protection against running on the wrong DataFormat and also a configuration to update the GsfElectron format. Both @jainshilpi and @swagata87 were advocating a backport of this PR to the widely used 10_6_X release. We would not have to worry about a possible wrong use of the Electron ID in 10_6_X anymore.\r\n\r\nThis backport was fortunately almost trivial, except for some very minor manual fixes in `MVAValueMapProducer.h` due to the absence of https://github.com/cms-sw/cmssw/pull/26814 in 10_6_X. \r\n\r\nThe original PR also contains a more detailed quantification of how forgetting to update the DataFormat affects the MVA values and efficiencies:\r\nhttps://github.com/cms-sw/cmssw/pull/30052#issuecomment-643824398\r\n\r\nThank you very much for considering this!\r\n\r\n[1] https://github.com/cms-egamma/EgammaPostRecoTools/blob/master/python/EgammaPostRecoTools.py#L231\r\n\r\n#### PR validation:\r\n\r\nCMSSW compiles and local matrix tests pass. Differences expected in the re-MiniAOD workflows that missed updating the DataFormats before, which should be 136.8311 and 136.7611 (see https://github.com/cms-sw/cmssw/pull/30052).", "branch": "CMSSW_10_6_X", "changed_files": 6, "closed_at": "1596542619", "comments": 23, "commits": 1, "created_at": "1595585507", "deletions": 17, "labels": ["analysis-approved", "backport-ok", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "eec165c357df9216869aa90b753a22bfc6103831", "merged_at": "1596542619", "merged_by": "cmsbuild", "milestone": "CMSSW_10_6_X", "number": 30896, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[10_6_X] Validate GsfElectron before running MVA to avoid reading wrong DataFormat (#30052)", "updated_at": "1596785045", "user": "guitargeek"}