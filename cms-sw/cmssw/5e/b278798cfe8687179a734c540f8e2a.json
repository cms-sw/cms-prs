{"additions": 1090, "auther_ref": "from1420pre2_minicleanup_jmenanofinalize", "auther_sha": "22245c13417e854e7e458705dcfea78bc0a3e9ad", "author": "nurfikri89", "body": "#### PR description:\r\n\r\nThis PR makes several changes in MiniAOD, NanoAOD and JMENano:\r\n\r\n1) MiniAOD\r\n- In `applySubstructure_cff.py`, sync the AK8 jet pt cuts, when collecting PF constituents, for Run-2 MiniAOD with Run-3 RECO-level cuts.\r\n- Use `updateJetCollection` to setup `DeepJet` and `UParT` taggers for AK8 subjets.\r\n- Minor: Cleanup of postfix usage in `applySubstructure_cff.py`.\r\n\r\n2) NanoAOD\r\n- Add `subGenJetAK8Idx` to match reco-level (`SubJet`) to gen-level(`SubGenJetAK8`) AK8 subjets.\r\n- Add `rawMass` for `CorrT1METJet` collection.\r\n\r\n3) JMENano\r\n- Add energy fraction and puppi weight of leading PF constituent of each PF type in AK4 Puppi jets.\r\n- Remove pt requirement for UParT regression nodes.\r\n- Update JMENano+Repuppi  autoNano (`@JMErePuppi `) configuration to include rebuilding of `slimmedJetsAK8` collection.\r\n\r\nThe functions in `puppiJetMETReclusteringTools.py` and `puppiJetMETReclusteringFromMiniAOD_cff.py` scripts are designed to schedule the rebuilding of AK4 Puppi jets (`slimmedJetsPuppi`), AK8 Puppi jets (`slimmedJetsAK8`) and PuppiMET (`slimmedMETsPuppi`) with MiniAODs as input. The functions try to follow, as best as possible, how they are setup in the PAT step for MiniAOD production.\r\n\r\nThese recipes were previously used to propagate Puppi tune studies through private NanoAOD production. We find it helpful to have these functions in CMSSW if, (a) we need to produce NanoAOD (privately or special validation campaigns), and (b) also for analyzers if they need to tune and update puppi in their analyses.\r\n\r\n#### PR validation:\r\n\r\n- passes the usual runTheMatrix test: `runTheMatrix.py -l limited -i all --ibeos`\r\n- passes reMiniAOD+reNano Run-2 UL workflows: `runTheMatrix.py -i all --ibeos  -l 2500.021,2500.022,2500.023,2500.024,2500.031,2500.032,2500.033,2500.034`\r\n- passes `JMErePuppi ` workflows: `runTheMatrix.py -i all --ibeos  -l 2500.225,2500.235`\r\n", "branch": "master", "changed_files": 12, "comments": 7, "commits": 12, "created_at": "1728891087", "deletions": 147, "labels": ["reconstruction-pending", "pending-signatures", "tests-rejected", "orp-pending", "code-checks-approved", "xpog-pending"], "milestone": "CMSSW_14_2_X", "number": 46368, "release-notes": [], "review_comments": 1, "state": "open", "title": "Jet updates for Mini and (JME)Nano, add recipe for puppi JetMET reclustering", "updated_at": "1728919515", "user": "nurfikri89"}