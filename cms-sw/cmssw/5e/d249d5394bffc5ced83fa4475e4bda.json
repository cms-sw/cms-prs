{"additions": 21, "auther_ref": "trimFastjetProducerMemory74X", "auther_sha": "780e3107a4ec0a08f76d35783979bd05a7a8d5da", "author": "mark-grimes", "body": "This forward ports some memory improvements in FastjetJetProducer from 6_2_X_SLHC; there are some plots on #9203 with the memory saving.  The 75X port is #9206, I was also advised to port to 74X.\nThis bit below is just the description copied from the 75X PR:\n\nThis forward ports some memory improvements found in 6_2_X_SLHC. At 200 pileup it saved ~70Mb memory, there are plots on #9203. Presumably at lower pileup the savings aren't as good.\n\nNote that this is from empirically checking where the memory was being used - there could be other subclasses of `VirtualJetProducer` that would benefit from a similar fix. I didn't want to touch the `fjClusterSeq_` object in the base class because I didn't know how the other subclasses use it - for `FastjetJetProducer` I can see that it's recreated anew with every event.\n\nAt 200 pileup 1/7th of the memory saving was from swapping out the work vectors, and 6/7th was from freeing the `fjClusterSeq_` object.\n", "branch": "CMSSW_7_4_X", "changed_files": 3, "closed_at": "1433925836", "comments": 20, "commits": 3, "created_at": "1432216763", "deletions": 3, "labels": ["comparison-pending", "fully-signed", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "afdde9fe730b78299eece88ad74b15a6416efb02", "merged_at": "1433925836", "merged_by": "cmsbuild", "milestone": "Next CMSSW_7_4_X", "number": 9210, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Trim FastjetJetProducer memory (forward port #9203 to 74X)", "updated_at": "1433931200", "user": "mark-grimes"}