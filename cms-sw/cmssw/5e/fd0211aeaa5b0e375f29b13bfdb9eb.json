{"additions": 141, "auther_ref": "HCAL_Tuning_72", "auther_sha": "6c92215ba113fb6efe6fa54ea61952fdf2962775", "author": "bachtis", "body": "Hi,\nThis is the long waited pull request for HCAL in PF  in 72X. In pre6 we encountered an issue at very high energy jets where the reoslution degrades by a huge amount . This is due to the fact that we were sampling only the two maximum samples which at high pt gives a degradation of the resolution. Small modification of the underlying code was done [essentially one module] to not do thay but find the local minima of a pulse shape and splitiing the pulses in terms of those. This gives very good performance for high pt jets while it maintains the previously achieved PU rejection\n\nThe response is a bit lower as expected but this will be absorbed in the3 calibrations\n\nThe plots below show (red = HCAL method I) black =new algorithm , purple = pre6 out of the box[only response plot]\n\nSo you can see that we have recovered the resolution while we still remove large part of sum ET in the 25ns sample. The reduction on the TT no pu sample is very small as expected and the reason this reduction is not 0  is that the timing cuts kill some low quality clusters mainly at very low energy < 1 GeV.\n\nThis method is the nearest we can do to the Method II that is being worked at HCAL DPG and in case we \ncannot manage to run Method II fast this technique could be very useful at the HLT land.\n\nThe initial integration plan was to act quickly as soon as pre6 was out but problems in SIM made \nthis release useless . So in this little timescale to complete the inital plan [study the algorithms in pre6 ]\nI had to rereco those samples in pre5 to test the performance of the algorithm.Hence the delay to this PR .\n\n![qcdcomparison](https://cloud.githubusercontent.com/assets/5180887/4516501/0939edbc-4bfa-11e4-9c67-1cd8f1811b5b.png)\n![tt25ns_sumet](https://cloud.githubusercontent.com/assets/5180887/4516499/09363320-4bfa-11e4-9657-7ad6d54d27fb.png)\n![tt25ns_sumeth](https://cloud.githubusercontent.com/assets/5180887/4516500/0936d186-4bfa-11e4-9380-1e85f2c91252.png)\n![tt_sumet](https://cloud.githubusercontent.com/assets/5180887/4516502/093f3592-4bfa-11e4-9e4f-d9c4b64223b2.png)\n", "branch": "CMSSW_7_2_X", "changed_files": 7, "closed_at": "1412690303", "comments": 28, "commits": 4, "created_at": "1412442898", "deletions": 180, "labels": ["comparison-available", "fully-signed", "orp-pending", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "117aab55a45250c91ecf872c292f520365ddc124", "merged_at": "1412690303", "merged_by": "davidlange6", "milestone": "Next CMSSW_7_2_X", "number": 5690, "release-notes": [], "review_comments": 6, "state": "closed", "title": "HCAL tuning and bug fixing for Phys14 exercise", "updated_at": "1412690303", "user": "bachtis"}