{"additions": 209, "auther_ref": "updated_cpe_algo_tpl", "auther_sha": "f7cd851af23a4afa72dbb05fb1cf5037585a12a8", "author": "CMSTrackerDPG", "body": "#### PR description:\r\n\r\nWhile validating [PR#47966](https://github.com/cms-sw/cmssw/pull/47966), it was found that the proposed changes to generic CPE algorithm are not beneficial. This PR contains only the proposed changes to the template CPE algorithm that are simpler, and beneficial for long clusters in heavily irradiated pixel sensors (right-most columns in [slides 23 onwards](https://indico.cern.ch/event/1554785/contributions/6550922/attachments/3081344/5455226/20250605_TOO-PixelCalibAndLocalReco.pdf)). The proposed changes to the algorithm are gated behind a process modifier.\r\n\r\n\r\n#### PR validation:\r\nThe following two plots are showing the RecHit-SimHit distribution in extended-end-of-run-3 muon gun simulation. As expected, the effect is more pronounced in the high eta region.\r\n\r\n![recHitYResLayer1_tracking_central_Template](https://github.com/user-attachments/assets/bb0b6368-7d64-41c4-a382-522404a3d1ff)\r\n![recHitYResLayer1_tracking_forward_Template](https://github.com/user-attachments/assets/91eaa333-e4d1-4227-86cd-283276875186)\r\n\r\nAlthough the logic of the code does not change when the `goodEdgeAlgo` flag is set to false, minute differences w.r.t reference were observed in many workflows. We hypothesize it originates from the changed footprint of the `SiPixelTemplate` class. This [draft PR](https://github.com/cms-sw/cmssw/pull/48146/files) contains minimum edit that produces similar differences.\r\n\r\nPR passes the basic battery of tests\r\n```\r\n50 49 48 42 21 1 1 1 1 1 1 tests passed, 0 0 0 0 0 0 0 0 0 0 0 failed\r\n```\r\n\r\n#### Backport\r\nTo be backported to 15.0.X. \r\n", "branch": "master", "changed_files": 13, "closed_at": "1750771421", "comments": 23, "commits": 1, "created_at": "1750229998", "deletions": 21, "labels": ["operations-approved", "reconstruction-approved", "fully-signed", "tests-approved", "pdmv-approved", "db-approved", "orp-approved", "upgrade-approved", "code-checks-approved", "trk"], "merge_commit_sha": "84bea9ed6ee62be34263a22cd435819729e62e64", "merged_at": "1750771421", "merged_by": "cmsbuild", "milestone": "CMSSW_15_1_X", "number": 48356, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Adapt template pixel cpe algo to better handle shortened or broken clusters", "updated_at": "1750771422", "user": "mroguljic"}