{"additions": 8, "auther_ref": "Clamp_the_number_of_pixel_tracks_to_the_capacity_of_the_SoA", "auther_sha": "9c1a5dc8f608331d5d81ea88ed13c94b4b309c2d", "author": "fwyzard", "body": "#### PR description:\r\n\r\nThe data structure used to store the pixel tracks currently has a fixed size of 32768, which was found to be adequate based on MC studies.\r\nWhile running over collisions data a small fraction of events has been found to have a larger number of tracks, leading to assertion failures or memory access errors.\r\n\r\nThis PR clamps the number of pixel tracks to the capacity of the SoA, and adds a warning like\r\n```\r\n%MSG-w PixelTracks:  PixelTrackSoAFromCUDA:hltPixelTracksFromGPU  30-Jul-2022 09:16:12 CEST Run: 356071 Event: 46424286\r\nUnsorted reconstructed pixel tracks truncated to 32767 candidates\r\n%MSG\r\n```\r\n\r\n#### PR validation:\r\n\r\nRunning over an event with > 33k pixel tracks no longer causes assertion failures.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. \r\n\r\nBackport of #38883 for data taking.", "branch": "CMSSW_12_4_X", "changed_files": 2, "comments": 10, "commits": 2, "created_at": "1659015491", "deletions": 4, "labels": ["reconstruction-approved", "pending-signatures", "tests-approved", "orp-pending", "hold", "bug-fix", "backport"], "milestone": "CMSSW_12_4_X", "number": 38884, "release-notes": [], "review_comments": 0, "state": "open", "title": "Clamp the number of pixel tracks to the capacity of the SoA [12.4.x]", "updated_at": "1659158237", "user": "fwyzard"}