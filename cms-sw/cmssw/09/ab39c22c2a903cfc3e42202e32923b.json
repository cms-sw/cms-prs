{"additions": 17, "auther_ref": "ecal-gpu-unpacker-integrity-checks", "auther_sha": "3991ec577e2a2867e81bcde42f6c1442c37c1347", "author": "thomreis", "body": "#### PR description:\r\n\r\nThis PR adds integrity checks for strip ID and xtal ID to the GPU unpacker similar to the ones that exist in the CPU unpacker. This avoids crashes like the ones reported in https://github.com/cms-sw/cmssw/issues/39568 \r\n\r\nFor events with data corruption in a tower a difference in the number of unpacked digis can occur between the CPU unpacker and the GPU one because the former stops unpacking the tower if an inconsistency is detected in one channel, whereas the later unpacks the channels in parallel and an inconsistency in one channel does not affect the unpacking in other threads.\r\nIn many cases, however, an integrity problem in the raw data affects most of the channels in the tower. From the three instances reported in #39568 this year only one resulted in a difference of one digi being produced after the fix.\r\n\r\n#### PR validation:\r\n\r\n* Does not crash anymore on runs 367771, 368547, 368724 set up with the recipe provided in [#39568](https://github.com/cms-sw/cmssw/issues/39568#issuecomment-1557565628) .\r\n* Passes matrix tests 12434.512, 12434.513, and 12434.514\r\n* No differences seen between CPU and GPU digis on 7750 events from `/store/relval/CMSSW_13_0_0/RelValTTbarToDilepton_14TeV/GEN-SIM-DIGI-RAW/130X_mcRun3_2022_realistic_v2-v3/00000/`\r\n", "branch": "master", "changed_files": 1, "comments": 13, "commits": 1, "created_at": "1686838966", "deletions": 0, "labels": ["reconstruction-pending", "pending-signatures", "tests-approved", "orp-pending", "code-checks-approved", "ecal"], "milestone": "CMSSW_13_2_X", "number": 41977, "release-notes": [], "review_comments": 0, "state": "open", "title": "ECAL - Add integrity checks for strip and xtal ids to GPU unpacker", "updated_at": "1686914374", "user": "thomreis"}