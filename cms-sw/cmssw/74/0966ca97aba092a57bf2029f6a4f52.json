{"additions": 3, "auther_ref": "FixFEDErrorGPUvsCPUImbalance", "auther_sha": "708c739cffccac0666fcbeaff5fa84e6c0ca01fb", "author": "CMSTrackerDPG", "body": "#### PR description:\r\n\r\nAfter recent bug fixes in FED error decoding in the CPU (https://github.com/cms-sw/cmssw/pull/42010) and GPU (https://github.com/cms-sw/cmssw/pull/42618) code, the following imbalance was still present in the `SiPixelHeterogeneous/PixelErrorCompareGPUvsCPU/FEErrorVsFEDIdUnbalance` DQM plot\r\n\r\n![FEDErrorVsFEDIdImbalance_ref](https://github.com/cms-sw/cmssw/assets/4885289/c5959cd6-2a34-4fba-bbf1-bc01bec61d8e)\r\n\r\nThis imbalance is primarily present because the GPU-based pixel unpacker is not dropping spurious errors assigned to invalid DetIds. Specifically for the timeout error (errorType=29), which consists of two error words, the GPU code was not dropping the 2nd word as is done in the CPU code. This PR therefore additionally synchronizes the FED error handling between the GPU and the legacy CPU code. The same DQM plot with this PR included becomes empty (no imbalance present)\r\n\r\n![FEDErrorVsFEDIdImbalance_pr](https://github.com/cms-sw/cmssw/assets/4885289/5cdf0d45-a728-41c4-a26e-3f5e17c1f6df)\r\n\r\n#### PR validation:\r\n\r\nThe code was tested and the above DQM plots obtained by running the following workflow\r\n\r\n`runTheMatrix.py -l 141.008583`\r\n\r\nrecently introduced in https://github.com/cms-sw/cmssw/pull/42674.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nCould be backported to 13_2_X if needed.\r\n", "branch": "master", "changed_files": 1, "comments": 0, "commits": 2, "created_at": "1695723109", "deletions": 1, "labels": ["reconstruction-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-pending", "trk"], "milestone": "CMSSW_13_3_X", "number": 42872, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix for pixel FED error imbalance in DQM plots", "updated_at": "1695723132", "user": "ferencek"}