{"additions": 14, "auther_ref": "peak_finder_saturation_bugfix_12_3_X", "auther_sha": "a11a4a52156db90b2e0984bfa944a37e1ac494f8", "author": "CMS-ECAL-Trigger-Group", "body": "Backport of https://github.com/cms-sw/cmssw/pull/38272 to 12_3_X for P5 operations. \r\n\r\n### PR description:\r\n\r\nThis PR fixes a discrepancy between the ECAL frontend trigger primitive formation and the emulator code in CMSSW for saturated strips.\r\n\r\nIn the frontend hardware, after the filter and peak-finder blocks, the even and odd amplitude outputs are checked for saturation and truncated to 12 bits. After that, the even and odd amplitudes are compared with 12 bits precision (only in the EB Fenix TCP board) to determine the double weights flags.\r\n\r\nIn the emulator the saturation was not checked at that stage and therefore the even/odd comparison was performed with 18 bits precision.\r\n\r\nThis was causing data/emulator discrepancy in the saturated TPs observed during double weights test with splashes events in April.\r\n", "branch": "CMSSW_12_3_X", "changed_files": 2, "comments": 4, "commits": 1, "created_at": "1655102248", "deletions": 0, "labels": ["l1-pending", "pending-signatures", "orp-pending", "tests-started", "backport-ok"], "milestone": "CMSSW_12_3_X", "number": 38354, "release-notes": [], "review_comments": 0, "state": "open", "title": "[backport] Fix ECAL TPG emulator discrepancy for saturated strips", "updated_at": "1655191924", "user": "valsdav"}