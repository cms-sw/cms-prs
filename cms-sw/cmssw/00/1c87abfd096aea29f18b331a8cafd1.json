{"additions": 514, "auther_ref": "alca-simBS", "auther_sha": "2bc4a066bdf232e38ca496a0d6be5b75c354654b", "author": "francescobrivio", "body": "#### PR description:\r\nFollowing the discussion in #41894, and in view of future developments that will come from that PR (i.e. move the Gen step to consume this Record from the GT instead of the VtxSmearing), this PR updates a few utilities to handle payloads of the `SimBeamSpotObjects` type, in particular:\r\n - Added `SimBeamSpotObjects` to CondCore/Utilities scripts to dump, fetch and import the payloads\r\n - Improvements to `IOMC/EventVertexGenerators/src/BeamProfile2DB.cc`\r\n    - Minor cosmetics\r\n    - Set to `0.0` the default values of the `Alpha`, `Phi` and `TimeOffset` parameters (they are not used as far as I know)\r\n - Added a config (`IOMC/EventVertexGenerators/test/BeamProfile2DBWriter_cfg.py`) to write tags of type `SimBeamSpotObjectsRcd`\r\n\r\nA few open points for discussion:\r\n- Should we add a `BeamProfile2DBReader_cfg.py` as well?\r\n- I'm not 100% sure the default conversion between the input parameters and what is stored in the payload is correct (_i.e._ the `* cm`), but it was already coded like this in https://github.com/cms-sw/cmssw/blob/609dc7ca279d7c1eef5305dac1ff549b63039496/IOMC/EventVertexGenerators/src/BeamProfile2DB.cc#L60-L72\r\n- We could possibly add a Payload Inspector for this record\r\n- Suggestions of other improvements are welcome\r\n\r\nFYI @mmusich @dzuolo @gennai @lguzzi\r\n\r\n#### PR validation:\r\nRunning:\r\n```\r\ncmsRun BeamProfile2DBWriter_cfg.py inputTag=simBS_Early2023\r\n```\r\ngenerates the sqlite file `test_simBS_Early2023.db` which contains the correct `SimBeamSpotObjects` and can be inspected with:\r\n```\r\n$ conddb --db test_simBS_Early2023.db listTags\r\n> Name             TimeType  ObjectType          Synchronisation  EndOfValidity  Insertion_time              Description   \r\n> ---------------  --------  ------------------  ---------------  -------------  --------------------------  -----------   \r\n> simBS_Early2023  Run       SimBeamSpotObjects  any              -1             2023-06-10 17:51:03.375867  New Tag       \r\n\r\n$ conddb --db test_simBS_Early2023.db list simBS_Early2023\r\n> Since: Run   Insertion Time              Payload                                   Object Type          \r\n> -----------  --------------------------  ----------------------------------------  ------------------   \r\n> 1            2023-06-10 17:51:03.375873  55fae21fd838f5b7963750973995492b8bccdbfa  SimBeamSpotObjects   \r\n\r\n$ conddb --db test_simBS_Early2023.db dump 55fae21fd838f5b7963750973995492b8bccdbfa\r\n> <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\" ?>\r\n> <!DOCTYPE boost_serialization>\r\n> <boost_serialization signature=\"serialization::archive\" version=\"19\">\r\n> <cmsCondPayload class_id=\"0\" tracking_level=\"0\" version=\"0\">\r\n> \t<fX0>4.58531999999999940e-01</fX0>\r\n> \t<fY0>-1.69659999999999977e-01</fY0>\r\n> \t<fZ0>-7.49920000000000031e-01</fZ0>\r\n> \t<fSigmaZ>3.60000000000000000e+01</fSigmaZ>\r\n> \t<fbetastar>3.00000000000000000e+02</fbetastar>\r\n> \t<femittance>3.93099999999999993e-07</femittance>\r\n> \t<fPhi>0.00000000000000000e+00</fPhi>\r\n> \t<fAlpha>0.00000000000000000e+00</fAlpha>\r\n> \t<fTimeOffset>0.00000000000000000e+00</fTimeOffset>\r\n> </cmsCondPayload>\r\n> </boost_serialization>\r\n```\r\n\r\n#### Backport:\r\nNot a backport, but possible backports might be opened once this PR converges.", "branch": "master", "changed_files": 14, "comments": 6, "commits": 5, "created_at": "1686423660", "deletions": 42, "labels": ["simulation-pending", "alca-pending", "db-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-approved", "tracking"], "milestone": "CMSSW_13_2_X", "number": 41918, "release-notes": [], "review_comments": 7, "state": "open", "title": "[RFC] Update utilities for SimBeamSpotObjects handling", "updated_at": "1686469045", "user": "francescobrivio"}