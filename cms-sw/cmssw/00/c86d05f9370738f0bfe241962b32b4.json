{"additions": 13, "auther_ref": "gartung-HLTrigger-Timer-FastTimerService-fix-module-label-for-dqm", "auther_sha": "954a95dcea78a67537bb083d5c5e481ec17b2c07", "author": "gartung", "body": "\r\nHLTrigger/Timer: add function FastTimerService::fix_for_dqm which replaces check for illegal dqm characters for path so it can be used on paths and labels.\r\n\r\nFixes this error seen when running FastTimerService on a standalone process\r\n```\r\n03-Aug-2022 15:52:42 CEST  Initiating request to open file /data/cmsbld/jenkins/workspace/ib-run-profiling/file:step2.root\r\n03-Aug-2022 15:52:48 CEST  Successfully opened file /data/cmsbld/jenkins/workspace/ib-run-profiling/file:step2.root\r\n2022-08-03 15:52:59.070874: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  SSE4.1 SSE4.2 AVX AVX2 AVX512F FMA\r\nTo enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.\r\n----- Begin Fatal Exception 03-Aug-2022 15:53:07 CEST-----------------------\r\nAn exception of category 'BadMonitorElementPathName' occurred while\r\n   [0] Calling EventProcessor::runToCompletion (which does almost everything after beginJob and before endJob)\r\nException Message:\r\n Monitor element path name: 'merService/process RECO modules/ecalDigis@cpu time_thread' uses unacceptable characters.\r\n Acceptable characters are: /ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-+=_()# \r\n   Additional Info:\r\n      [a] Another exception was caught while trying to clean up files after the primary fatal exception.\r\n----- End Fatal Exception -------------------------------------------------\r\n03-Aug-2022 15:53:07 CEST  Closed file /data/cmsbld/jenkins/workspace/ib-run-profiling/file:step2.root\r\n```\r\n\r\nThe error was caused by the `ecalDigis@cpu` label. The `@` character is used in SwitchProducer labels.\r\n\r\nValidated locally using profiling scripts.\r\n\r\n", "branch": "master", "changed_files": 2, "closed_at": "1659599360", "comments": 9, "commits": 1, "created_at": "1659551361", "deletions": 7, "labels": ["hlt-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "b4411e1559651896193a4fa52405956489a9d806", "merged_at": "1659599360", "merged_by": "cmsbuild", "milestone": "CMSSW_12_5_X", "number": 38963, "release-notes": [], "review_comments": 0, "state": "closed", "title": "HLTrigger/Timer: add function FastTimerService::fix_for_dqm which replaces check for illegal dqm characters for path so it can be used on paths and labels.", "updated_at": "1659599360", "user": "gartung"}