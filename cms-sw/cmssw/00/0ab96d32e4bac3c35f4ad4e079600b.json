{"additions": 67, "auther_ref": "fix_trackingIters01_Run3_15_0_X", "auther_sha": "75cf61d9d13e7a0321ba057797a2536f8be59f84", "author": "mmusich", "body": "backport of https://github.com/cms-sw/cmssw/pull/48886\r\n\r\n#### PR description:\r\n\r\nFrom the original PR description:\r\n\r\n> In the context of the Next Generation Triggers Task 3.4 (\"[Optimal HLT Calibrations](https://cms-ngt-hlt.docs.cern.ch/Task34/)\") we are interested in speeding up the calibration procedures with the aim of implementing real time calibrations for the phase-2 upgrade HLT. \r\n> A stepping stone towards that, consists in the [*NGT Demonstrator*](https://indico.cern.ch/event/1504131/contributions/6341017/attachments/3028520/5345755/NGT-HLT_OptimalCalibrations_AlCaDBWorkshop_10.03.2025_Zarucki.pdf#page=7) which we plan to deploy and operate during Run 3 (late 2025 and 2026). \r\n> The \"calibration leg\" of such demonstrator is planned to run a trimmed down version of the Prompt Calibration Loop delivering [selected alignment and calibrations](https://indico.cern.ch/event/1504131/contributions/6341017/attachments/3028520/5345755/NGT-HLT_OptimalCalibrations_AlCaDBWorkshop_10.03.2025_Zarucki.pdf#page=15). \r\n> Unfortunately in the current Express / Prompt Calibration Loop reconstruction model a disproportionate amount of resources is spent into reconstructing objects which are not particularly useful for the calibration procedures themselves. \r\n> A very prominent amount of time is spent in the higher iterative tracking iterations targeting particularly either displaced or soft tracks. \r\n> To boost the timing of the procedure we're interested in having a version of reconstruction that focuses only on prompt and relatively high momentum tracks.  \r\n> The existing `trackingIters01` process modifier is suitable for such purpose, but its usage had to be slightly modified to support the case in which it is not run in conjunction with the modifier `trackingPhase2PU140`, which is the goal of this PR\r\n> \r\n\r\n#### PR validation:\r\n\r\nRun successfully the following script:\r\n\r\n```bash\r\n#!/bin/bash -ex                                                                                                                                                                                             \r\n\r\nfile_list=\"file:/eos/user/j/jprendi/repacked_files/repacked_0.root,file:/eos/user/j/jprendi/repacked_files/repacked_1.root,file:/eos/user/j/jprendi/repacked_files/repacked_10.root,file:/eos/user/j/jprendi/repacked_files/repacked_11.root,file:/eos/user/j/jprendi/repacked_files/repacked_12.root,file:/eos/user/j/jprendi/repacked_files/repacked_13.root,file:/eos/user/j/jprendi/repacked_files/repacked_14.root,file:/eos/user/j/jprendi/repacked_files/repacked_15.root,file:/eos/user/j/jprendi/repacked_files/repacked_16.root,file:/eos/user/j/jprendi/repacked_files/repacked_17.root,file:/eos/user/j/jprendi/repacked_files/repacked_18.root,file:/eos/user/j/jprendi/repacked_files/repacked_19.root,file:/eos/user/j/jprendi/repacked_files/repacked_2.root,file:/eos/user/j/jprendi/repacked_files/repacked_20.root,file:/eos/user/j/jprendi/repacked_files/repacked_3.root,file:/eos/user/j/jprendi/repacked_files/repacked_4.root,file:/eos/user/j/jprendi/repacked_files/repacked_5.root,file:/eos/user/j/jprendi/repacked_files/repacked_6.root,file:/eos/user/j/jprendi/repacked_files/repacked_7.root,file:/eos/user/j/jprendi/repacked_files/repacked_8.root,file:/eos/user/j/jprendi/repacked_files/repacked_9.root\"\r\n\r\ncmsDriver.py expressStep2 \\\r\n         --conditions 140X_dataRun3_Express_v3 \\\r\n         -s RAW2DIGI,RECO,ALCAPRODUCER:SiStripPCLHistos+SiStripCalZeroBias+SiStripCalMinBias+SiStripCalMinBiasAAG+TkAlMinBias+SiPixelCalZeroBias+SiPixelCalSingleMuon+SiPixelCalSingleMuonTight+TkAlZMuMu \\\r\n         --datatier ALCARECO --eventcontent ALCARECO --data --process RECO \\\r\n         --scenario pp --era Run3 \\\r\n         --nThreads 8 \\\r\n         --nStreams 8 \\\r\n         --procModifiers trackingIters01 \\\r\n         -n 1000 --filein \"$file_list\" \\\r\n         --fileout file:step2.root --no_exec \\\r\n         --python_filename expressStep2_RAW2DIGI_RECO_ALCAPRODUCER.py\r\n\r\ncat <<@EOF>> expressStep2_RAW2DIGI_RECO_ALCAPRODUCER.py\r\nprocess.load('HLTrigger.Timer.FastTimerService_cfi')\r\nprocess.FastTimerService.writeJSONSummary = True\r\nprocess.FastTimerService.jsonFileName = \"timing_tracking_upperbound_s2.json\"\r\n@EOF\r\n\r\ncmsRun expressStep2_RAW2DIGI_RECO_ALCAPRODUCER.py >& step2.log\r\n```\r\n\r\nIn addition I also checked that the previous use of the modifier in phase-2 target workflows still runs, e.g. via:\r\n\r\n```\r\nrunTheMatrix.py --what upgrade -l 29634.703,29634.704 -i all --ibeos\r\n```\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nBackport of https://github.com/cms-sw/cmssw/pull/48886 to CMSSW_15_1_X for 2025 operation purposes - to be used in the NGT demonstrator workflows.", "branch": "CMSSW_15_0_X", "changed_files": 4, "closed_at": "1759249050", "comments": 9, "commits": 3, "created_at": "1757847951", "deletions": 22, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-approved", "backport-ok", "tracking", "ngt"], "merge_commit_sha": "c9c99e287465edb29e7988fab9f32fde83f0f383", "merged_at": "1759249050", "merged_by": "cmsbuild", "milestone": "CMSSW_15_0_X", "number": 48923, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[15.0.X] Adjust `trackingIters01` process modifier usage to be functional in Run3 scenarios", "updated_at": "1759249051", "user": "mmusich"}