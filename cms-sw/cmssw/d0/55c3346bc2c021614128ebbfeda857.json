{"additions": 169, "auther_ref": "threadSafetyJetTagComputer", "auther_sha": "d7dfffd5cf56fdd2e722087e726ecac2c7457ab4", "author": "wddgit", "body": "Replace the const JetTagComputer::setEventSetup function\nwith a non-const initialize function, because setEventSetup\nactually modified the data of the EventSetup product.\nPreviously the function had to be explicitly called\nby the JetTagProducer using a const reference and now\nthe new function is called by the ESProducer.\n\nJetTagComputerRecord is now dependent on\nBTauGenericMVAJetTagComputerRcd and the calibrations\nare obtained through this dependence. This manages\nthe IOVs properly also.\n\nRemove the passEventSetup function which could not\nhave ever been called by anything in the release.\nGenericMVAJetTagComputer::computers is no longer mutable.\nGenericMVAComputer::mapping is now a const static member.\nGenericMVAJetTagComputer::computerCache\nis no longer mutable. JetTagComputer::m_setupDone is\nno longer mutable.  JetTagProducer no longer has m_computer\nas a data member as that was an EventSetup product.\nThe const_cast in CombinedMVAJetTagComputer::setEventSetup\nis removed.\n\nGenericMVAComputerCache now delays throwing an exception\nwhen a calibration is missing until its getComputer function\nis called. This is necessary because some ESProducers\nare called by the hltConditions module even though they\nare never actually used and it is OK that their calibrations\nare missing. The function initialize is now\nalways called during the EventSetup get function call\nwhereas previously setEventSetup had to be explicitly\ncalled by the module using the EventSetup product.\n", "branch": "CMSSW_7_1_X", "changed_files": 17, "closed_at": "1398878523", "comments": 13, "commits": 1, "created_at": "1398690881", "deletions": 131, "labels": ["alca-approved", "analysis-approved", "comparison-available", "fully-signed", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "3f66083f72808c9a6b057145683290242b84b677", "merged_at": "1398878523", "merged_by": "ktf", "milestone": "CMSSW_7_1_0_pre8", "number": 3548, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Multithreading improvements in JetTagComputer", "updated_at": "1409161759", "user": "wddgit"}