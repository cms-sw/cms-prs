{"additions": 8056, "auther_ref": "update-mahidebugger-fix-np", "auther_sha": "ff6d141cccb295e807b8d5c241c8495c583db57b", "author": "jaehyeok", "body": "This PR consists of two changes.\r\n\r\n(1) update on MahiDebugger  \r\n\r\nThe current version of it only stores info for BX=-1,0,1 pulses and baseline because mahi ran with 3 pulses + baseline. Now it runs with 8 pulses, so the debugger should be updated accordingly. This has no impact on the reconstruction because changes are only in the debugger.\r\n\r\n(2) Bug fix in initializing nP variable\r\n \r\nCurrently, nnlsWork_.nP is reset to 0 at every iteration. This turned out to make the fit unstable sometimes (particularly, the BX=+1 pulse became anomalously large). The initialization is now done at the beginning of MahiFit::phase1Apply. The comparison before and after this update is shown in [1] (Fix #2 in the slides corresponds to this update). \r\n\r\nHere I summarize the changes after the update: \r\n\r\n* Overall impact on intime energy is small (p4)\r\n* There are changes in BX=-1 and BX=+1 pulses (p5 and p6, respectively). Based on the pulse displays (p21-32), the fit looks much better (BX=+1 pulse looks much more reasonable).\r\n* the chi2 became smaller (p12 and 13)\r\n\r\nAll these results have led us to conclude that the fix improves the behavior of the fit. This PR is for Run3.\r\n\r\n[1] https://indico.cern.ch/event/855229/contributions/3597588/attachments/1924959/3188179/Hcal_mahi.pdf\r\n", "branch": "master", "changed_files": 811, "closed_at": "1572422202", "comments": 35, "commits": 226, "created_at": "1571277663", "deletions": 59409, "labels": ["alca-pending", "analysis-pending", "code-checks-rejected", "comparison-pending", "core-pending", "daq-pending", "db-pending", "dqm-pending", "fastsim-pending", "generators-pending", "geometry-pending", "hlt-pending", "l1-pending", "operations-rejected", "orp-rejected", "pdmv-pending", "pending-signatures", "reconstruction-rejected", "simulation-pending", "tests-pending", "upgrade-rejected", "xpog-pending"], "milestone": "CMSSW_11_0_X", "number": 28193, "release-notes": [], "review_comments": 14, "state": "closed", "title": "[HBHE] Update MahiDebugger and fix nP in NNLS ", "updated_at": "1572422203", "user": "jaehyeok"}