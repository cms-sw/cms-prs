{"additions": 24, "auther_ref": "fixConditionalRunning", "auther_sha": "dd90f29fa4e1ea075475490016aafb7280d3aa72", "author": "Dr15Jones", "body": "The Service's were not being deleted in the case that prePrefetchSelectionAsync is called\r\nand the selection rejected an event. This was because the ServiceToken was being held by\r\nthe RunModuleTask object and that object was never destroyed. Using a helper class held\r\nby an std::shared_ptr we can make sure the task is deleted if the task is not going to\r\nbe run.", "branch": "master", "changed_files": 1, "closed_at": "1511245139", "comments": 13, "commits": 1, "created_at": "1511190770", "deletions": 2, "labels": ["code-checks-approved", "comparison-available", "core-approved", "fully-signed", "orp-approved", "tests-rejected"], "merge_commit_sha": "0707ff5f5a498e74f925c194ebb0398212028aa5", "merged_at": "1511245139", "merged_by": "cmsbuild", "milestone": "CMSSW_10_0_X", "number": 21391, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Make sure task object is owned by the lambda for prePrefetchSelectionAsync call", "updated_at": "1512411923", "user": "Dr15Jones"}