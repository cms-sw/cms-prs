{"additions": 43, "auther_ref": "CMSSW_14_1_0_pre7/stripClusterQB", "auther_sha": "77ad11b2054c2c61f9d825fb0fef48e37ed4cfff", "author": "slava77", "body": "- fill `charge_` and `barycenter_` for all SiStripClusters\r\n- use another bit in `firstStrip_` to signal it's an approximate cluster (to preserve detection of approximate clusters)\r\n\r\nmotivated by technical performance: offline pp reco calls `SiStripCluster::barycenter` and `::charge` around x100 times the number of clusters per event, adding up to around 0.88% of reco time.\r\n\r\nSmaller speedup is expected in the HLT setup (different CPE and no strip seeding). \r\n- In a setup with mkFit running in HLT the run time of `MkFitSiStripHitConverter` goes down fractionally by 28% (0.45% of a job running tracking only HLT)\r\n\r\nNo changes are expected in workflows using regular clustering (although in pp I wouldn't be surprised if some math compiler optimization can create a difference).\r\n\r\nThere may be some change in (HI) workflows reading stored data with approximate clusters converted to regular clusters. From a brief [discussion](https://mattermost.web.cern.ch/cms-exp/pl/s4shbyac8jd8ujeoq4e5yfsykr), it sounds like this is only in specialized workflows, probably not captured by anything in the bot tests.\r\n\r\n@cms-sw/trk-dpg-l2 @cms-sw/tracking-pog-l2 ", "branch": "master", "changed_files": 3, "closed_at": "1737390485", "comments": 48, "commits": 4, "created_at": "1736807313", "deletions": 39, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved", "performance-improvements", "trk", "changes-dataformats"], "merge_commit_sha": "7172ca6bb09bfb61fd750285646e6eb08597b470", "merged_at": "1737390485", "merged_by": "cmsbuild", "milestone": "CMSSW_15_0_X", "number": 47094, "release-notes": [], "review_comments": 8, "state": "closed", "title": "fill charge_ and barycenter_ for all SiStripClusters", "updated_at": "1738175887", "user": "slava77"}