{"additions": 35, "auther_ref": "mm_dev_improve_hltPhase2UpgradeIntegrationTests", "auther_sha": "51874701c3bdeb6e680b19d9904d1c6019fa0ec6", "author": "mmusich", "body": "#### PR description:\r\n\r\nThis PR packages a couple of minor improvements to the `hltPhase2UpgradeIntegrationTests` utility.\r\n   * 228ce134f6b53eb48fa41442378d7952da8c7850 allows usage of cached RAW input data in the test\r\n   * 51874701c3bdeb6e680b19d9904d1c6019fa0ec6 do not run twice the full menu (after having dumped it with `edmConfgDump`\r\n\r\nNo regressions are expected, just a small speedup of the execution.\r\n\r\n#### PR validation:\r\n\r\nRun successfully the following script:\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\n# Exit the script immediately if any command fails\r\nset -e\r\n\r\n# Enable pipefail to propagate the exit status of the entire pipeline\r\nset -o pipefail\r\n\r\n# Define the dataset\r\nDATASET=\"/RelValTTbar_14TeV/CMSSW_14_1_0_pre6-PU_141X_mcRun4_realistic_v1_STD_2026D110_PU-v3/GEN-SIM-DIGI-RAW\"\r\n\r\n# Fetch the list of files in the dataset\r\nFILES=( $(dasgoclient -query=\"file dataset=${DATASET}\" --limit=-1) )\r\n\r\n# Loop through each file in the FILES array and pass it as --cachedInput\r\nfor FILE in \"${FILES[@]}\"; do\r\n  echo \"Running HLT test with cached input file: ${FILE}\"\r\n  \r\n  hltPhase2UpgradeIntegrationTests \\\r\n    --parallelJobs 4 \\\r\n    --threads 4 \\\r\n    --cachedInput \"$FILE\" \\\r\n    --restrictPathsTo \"HLT_IsoMu20_eta2p1_LooseDeepTauPFTauHPS27_eta2p1_CrossL1*\"\r\n\r\n  # Check if the test failed for a particular file\r\n  if [ $? -ne 0 ]; then\r\n    echo \"Error occurred with input file: $FILE\"\r\n    exit 1  # Exit the loop if any command fails\r\n  fi\r\ndone\r\n```\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nNot a backport, not to be backported", "branch": "master", "changed_files": 1, "comments": 5, "commits": 2, "created_at": "1728721010", "deletions": 11, "labels": ["hlt-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved"], "milestone": "CMSSW_14_2_X", "number": 46362, "release-notes": [], "review_comments": 0, "state": "open", "title": "Improvements to `hltPhase2UpgradeIntegrationTests`", "updated_at": "1728721626", "user": "mmusich"}