{"additions": 1088, "auther_ref": "ConsumesInterfaceForOutputModules", "auther_sha": "1abdfce63189527b70b5106276bb6a5d00ba57a0", "author": "wmtan", "body": "Output modules currently have direct access to EventPrincipal, RunPrincipal, and LuminosityBlockPrincipal. Calls to getByLabel() or getForOutput() functions of Principal bypass the consumes interface, so missing consumes calls will not be detected. This PR modifies output modules so that they do not access Principals directly. Rather, they use new classes EventForOutput, LuminosityBlockForOutput, and RunForOutput, similar to the Event, LuminosityBlock, and Run classes used by other modules. Furthermore, reading data is done only by getByToken(), so the consumes interface is enforced everywhere. getByToken() is the only get method supported by the new classes.\n", "branch": "CMSSW_8_1_X", "changed_files": 62, "closed_at": "1457600950", "comments": 36, "commits": 7, "created_at": "1457102847", "deletions": 687, "labels": ["comparison-available", "core-pending", "daq-pending", "dqm-pending", "orp-pending", "pending-signatures", "reconstruction-pending", "simulation-pending", "tests-rejected"], "merge_commit_sha": "3a316ede6363cce127998c71a2a8f073fa6634a9", "merged_at": "1457600949", "merged_by": "davidlange6", "milestone": "Next CMSSW_8_1_X", "number": 13600, "release-notes": [], "review_comments": 15, "state": "closed", "title": "Enforce consumes interface in output modules", "updated_at": "1458163100", "user": "wmtan"}