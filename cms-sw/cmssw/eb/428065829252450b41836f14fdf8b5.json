{"additions": 178, "auther_ref": "fixSiPixelFEDChannelContainer_PayloadInspector", "auther_sha": "d2194664dde6aa6d2096ddc45c1b07aee862bb48", "author": "mmusich", "body": "#### PR description:\r\n\r\nDuring the preparation of the Bad FED channel scenario for the 2023 MC production (documented at this [cmsTalk](https://cms-talk.web.cern.ch/t/new-pixel-status-scenarios-and-probabilities-for-2023-mc/28126)) it was noticed that the `SiPixelFEDChannelContainer`  and `SiPixelQuality` payload inspectors gave different sets of masked ROCs even if they should have been in principle contained the same sets.\r\nThis was traced back (thanks to @tsusa) to a erroneous mapping of the ROCs within the module in the `SiPixelFEDChannelContainer_PayloadInspector`.\r\nThis is fixed in this PR, together with miscellaneous graphical improvements.\r\n\r\n#### PR validation:\r\n\r\nTested by comparing the output of \r\n\r\n```console\r\ngetPayloadData.py \\\r\n    --plugin pluginSiPixelQuality_PayloadInspector \\\r\n    --plot plot_SiPixelBPixQualityMap \\\r\n    --tag SiPixelQuality_byPCL_stuckTBM_v1 \\\r\n    --time_type Lumi \\\r\n    --iovs '{\"start_iov\": \"1589554511348014\", \"end_iov\": \"1589554511348014\"}' \\\r\n    --db Prod \\\r\n    --test ;\r\n```\r\n(IOV `1589554511348014` correpsonds in packed cond Time to `run 370097, LS 302`) and compared it with the output of the command\r\n\r\n```console\r\ngetPayloadData.py \\\r\n    --plugin pluginSiPixelFEDChannelContainer_PayloadInspector \\\r\n    --plot plot_SiPixelBPixFEDChannelContainerMap \\\r\n    --tag SiPixelStatusScenarios_StuckTBM_2023_v1_mc \\\r\n    --input_params '{\"Scenarios\": \"370097_302\"}' \\\r\n    --time_type Run \\\r\n    --iovs '{\"start_iov\": \"1\", \"end_iov\": \"1\"}' \\\r\n    --db Prod \\\r\n    --test ;\r\n```\r\n\r\nbefore and after the PR.\r\nHere are the results:\r\n\r\n|  Reference | Target (before PR) | Target (after PR) |\r\n| ----------- | ----------- | ----------- |\r\n|  ![image](https://github.com/cms-sw/cmssw/assets/5082376/20318db4-770c-4177-b762-3a5f5208a0c8) |  ![image](https://github.com/cms-sw/cmssw/assets/5082376/26ce31b8-4af8-4c93-bafe-7361fd42d77f) | ![image](https://github.com/cms-sw/cmssw/assets/5082376/7c97037c-cce6-488c-b8a0-01651edba3c9) | \r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nN/A", "branch": "master", "changed_files": 1, "closed_at": "1692716922", "comments": 8, "commits": 2, "created_at": "1692689495", "deletions": 22, "labels": ["fully-signed", "tests-approved", "db-approved", "bug-fix", "orp-approved", "code-checks-approved", "trk"], "merge_commit_sha": "96c72a5ae4c1a7c1a2fb690f82361d2f052641a2", "merged_at": "1692716922", "merged_by": "cmsbuild", "milestone": "CMSSW_13_3_X", "number": 42623, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix ROC mapping in `SiPixelFEDChannelContainer_PayloadInspector`", "updated_at": "1692716922", "user": "mmusich"}