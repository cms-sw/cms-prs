{"additions": 8, "auther_ref": "fixBSswap_forDQMVis", "auther_sha": "d6091aaf0c71a7af8540f4ddccb6c1542278d122", "author": "mmusich", "body": "resolves https://github.com/cms-sw/cmssw/issues/35634\r\n\r\n#### PR description:\r\n\r\nIn PR https://github.com/cms-sw/cmssw/pull/35373 the general case for the online <-> offline BS swap done via modifiers was missed, leading to issues in the visualization DQM clients. \r\nThis PR supplies the `onlineBeamSpotESProducer` to `BeamSpot_cfi` as a general case fix-up.\r\n\r\n#### PR validation:\r\n\r\nRun `cmsRun DQM/Integration/python/clients/visualization-live_cfg.py unitTest=True`\r\nthat before was crashing with: \r\n\r\n```\r\n...\r\nException Message:\r\nNo \"BeamSpotTransientObjectsRcd\" record found in the EventSetup.n\r\n Please add an ESSource or ESProducer that delivers such a record.\r\n----- End Fatal Exception -------------------------------------------------\r\n```\r\n\r\nwhile now crashes differently with:\r\n\r\n```\r\n----- Begin Fatal Exception 13-Oct-2021 10:41:57 CEST-----------------------\r\nAn exception of category 'NoProxyException' occurred while\r\n   [0] Processing  Event run: 334393 lumi: 1 event: 16132 stream: 1\r\n   [1] Running path 'FEVToutput_step'\r\n   [2] Prefetching for module JsonWritingTimeoutPoolOutputModule/'FEVToutput'\r\n   [3] Prefetching for module ReducedRecHitCollectionProducer/'reducedEcalRecHitsEB'\r\n   [4] Prefetching for module EleIsoDetIdCollectionProducer/'interestingGedEleIsoDetIdEB'\r\n   [5] Calling method for module GEDGsfElectronFinalizer/'gedGsfElectrons'\r\nException Message:\r\nNo data of type \"GBRForestD\" with label \"electron_eb_ecalOnly_1To300_0p2To2_mean\" in record \"GBRDWrapperRcd\"\r\n Please add an ESSource or ESProducer to your job which can deliver this data.\r\n----- End Fatal Exception -------------------------------------------------\r\n```\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nNot a backport, but should be backported. ", "branch": "master", "changed_files": 1, "closed_at": "1634307618", "comments": 32, "commits": 2, "created_at": "1634107754", "deletions": 0, "labels": ["alca-approved", "reconstruction-approved", "fully-signed", "tests-approved", "orp-approved", "urgent", "requires-external", "code-checks-approved"], "merge_commit_sha": "5b230af973dc5b97dc2dcf1c0043c6b006442e02", "merged_at": "1634307617", "merged_by": "cmsbuild", "milestone": "CMSSW_12_1_X", "number": 35639, "release-notes": [], "review_comments": 14, "state": "closed", "title": "add onlineBeamSpotESProducer to BeamSpot_cfi: fix general Online BS swap case", "updated_at": "1634315716", "user": "mmusich"}