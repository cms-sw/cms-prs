{"additions": 330, "auther_ref": "issue_27541", "auther_sha": "20455a4df481ca6acda1d10b83f4b75f9d89e1b6", "author": "guitargeek", "body": "#### PR description:\r\n\r\nThis PR intends to fix https://github.com/cms-sw/cmssw/issues/27541.\r\n\r\nIf the `fromTrackerSeeds` parameter in the `ElectronSeedProducer` would be set to `false`, a segfault would occur, as detected in the UBSAN IB. This never happened in practice because  `fromTrackerSeeds = False` is actually not supported and triggers an exception [1].\r\n\r\nWe understand now that` fromTrackerSeeds` is never supposed to be `False` and therefore we can just remove all branches in the code for this case, fixing both the issue and simplifying the code.\r\n\r\nWhen I tried to fix the issue, I initially didn't know how it could be fixed and did some changes with the goal of making the problem more obvious to me. This involved changing the `LayerMeasurements` class such that there are no pointers anymore which can be `nullptr` and therefore cause trouble when dereferenced. In retrospect, this has nothing to do with the actual issue, but I include this change anyway in the PR as I think it's an improvement.\r\n\r\nThis caused the interface of `LayerMeasurements` to change a little bit, and while adapting the code I found an unused function in some muon plugins which could be removed. It was apparently replaced by a more efficient function.\r\n\r\n[1] https://github.com/cms-sw/cmssw/blob/master/RecoEgamma/EgammaElectronAlgos/src/ElectronSeedGenerator.cc#L275\r\n\r\n#### PR validation:\r\n\r\nCMSSW compiles and local matrix tests pass.\r\n\r\n#### if this PR is a backport please specify the original PR:\r\n\r\nNo backports intended.", "branch": "master", "changed_files": 12, "closed_at": "1570473388", "comments": 33, "commits": 7, "created_at": "1568982537", "deletions": 672, "labels": ["code-checks-approved", "comparison-available", "fastsim-approved", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "8ca01aaf104fea8177d69008eba3b516547984bc", "merged_at": "1570473388", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 28039, "release-notes": [], "review_comments": 6, "state": "closed", "title": "Fix problem with fromTrackerSeeds parameter in ElectronSeedProducer and improve LayerMeasurements class", "updated_at": "1570473389", "user": "guitargeek"}