{"additions": 250, "auther_ref": "DeepMETIntegration", "auther_sha": "74e15dab066a5777e6d1c5f9f0c07dc1930ef3e9", "author": "steggema", "body": "#### PR description:\r\n\r\nThis PR introduces a producer for DeepMET, a deep-learning-based missing pT estimator. The producer creates a new MET collection, and a test configuration is included. The plan is to create a separate PR for possible inclusion in central sequences, e.g. for the upcoming ReMiniAOD campaign.\r\n\r\nThe tensorflow models for this PR are proposed in a separate PR to cms-data/RecoMET-METPUSubtraction https://github.com/cms-data/RecoMET-METPUSubtraction/pull/5\r\n\r\nThere are different trainings for different years/conditions (2016, 2018, phase 2), and for 2018 and phase 2 also non-response-corrected trainings. \r\n\r\nPresentations:\r\nhttps://indico.cern.ch/event/912067/contributions/3835851/ (most recent update)\r\nhttps://indico.cern.ch/event/883809/contributions/3733818/ (CMS week JetMET meeting)\r\nhttps://indico.cern.ch/event/854654/contributions/3594579/ (first presentation in MET meeting)\r\n\r\nNote that an alternative implementation would be to store additional weights for each PFCandidate and calculate MET and possibly jets in a subsequent step. However, we prefer to leave this option to future studies given that we have not checked the performance on jets (and assume some non-trivial effects) and that this would lead to an increase in complexity of the integration and the additional storage required, in particular if we want to have different METs (e.g. response and non-response-corrected) for a single campaigns.\r\n\r\n#### PR validation:\r\n\r\nThe code has been validated by running it in large-scale checks with simulated and data events to evaluate the performance of the algorithm. A test configuration is included. We have not run any memory or timing tests but we suspect that it runs fast and consumes little memory given the models are small compared to most other tensorflow models.\r\n\r\nCPU and memory reports can be found under the following links, obtained on 1000 events from the 136.8311_RunJetHT2017F workflow:\r\nhttps://steggema.web.cern.ch/steggema/cgi-bin/igprof-navigator/deepmet_cpu_reminiaod\r\nhttps://steggema.web.cern.ch/steggema/cgi-bin/igprof-navigator/deepmet_mem_reminiaod (note that DeepMET does not seem to appear here, supposedly because it's not in the top 1000, see the text file linked below)\r\n\r\nText dumps are also available here: /afs/cern.ch/user/s/steggema/public/DeepMETIntegration/\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\n-\r\n\r\n@intrepid42 @yongbinfeng ", "branch": "master", "changed_files": 8, "closed_at": "1589901319", "comments": 55, "commits": 6, "created_at": "1588861456", "deletions": 2, "labels": ["analysis-approved", "code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "requires-external", "tests-approved"], "merge_commit_sha": "31315ee640466e7877e23c811a564cf3b8593e47", "merged_at": "1589901319", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 29764, "release-notes": [], "review_comments": 25, "state": "closed", "title": "First version of DeepMET", "updated_at": "1589951911", "user": "steggema"}