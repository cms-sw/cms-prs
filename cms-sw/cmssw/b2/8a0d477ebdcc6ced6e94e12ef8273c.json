{"additions": 91, "auther_ref": "add_MPI_service", "auther_sha": "7d6b2a6e8318d0039cdcef735b6616076d3258d5", "author": "cms-patatrack", "body": "#### PR description:\r\n\r\nAdd an `MPIService` to handle\r\n  - MPI initialisation requiring multithreading support\r\n  - `LogInfo` of some MPI environment information\r\n  - MPI finalisation\r\n\r\nAdd a python configuration to test the `MPIService`.\r\n\r\nAny other service or module that uses MPI should require this service, to guarantee that MPI is initialised/finalised in the correct order.\r\n\r\n#### PR validation:\r\n\r\n```log\r\n$ scram b runtests\r\n...\r\nCreating test log file logs/slc7_amd64_gcc820/testing.log\r\nPackage HeterogeneousCore/MPIServices: Running test TestHeterogeneousCoreMPIServices\r\n \r\n===== Test \"TestHeterogeneousCoreMPIServices\" ====\r\n%MSG-i MPIService:  (NoModuleName) 16-Aug-2020 14:36:28 CEST pre-events\r\nMPI_COMM_WORLD size: 1\r\nMPI_COMM_WORLD rank: 0\r\nMPI processor name:  fu-c2a02-37-02\r\nThe MPI library provides the MPI_THREAD_MULTIPLE multithreading support level\r\nMPI successfully initialised\r\n%MSG\r\n\r\n=============================================\r\n\r\nMessageLogger Summary\r\n\r\nSeverity    # Occurrences   Total Occurrences\r\n--------    -------------   -----------------\r\n\r\ndropped waiting message count 0\r\n\r\n---> test TestHeterogeneousCoreMPIServices succeeded\r\n \r\n^^^^ End Test TestHeterogeneousCoreMPIServices ^^^^\r\n```\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nThis PR includes the work from:\r\n  - cms-patatrack#151 Add a simple MPIService to handle MPI initialisation\r\n  - cms-patatrack#535 Update messages and add a test file for the MPIService", "branch": "master", "changed_files": 4, "closed_at": "1597794453", "comments": 30, "commits": 1, "created_at": "1597573753", "deletions": 0, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "heterogeneous-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "2a6c55dffe4290567bf2b04d75a06498b42d4364", "merged_at": "1597794453", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 31155, "release-notes": [], "review_comments": 6, "state": "closed", "title": "Add a service to handle MPI initialisation", "updated_at": "1597794453", "user": "fwyzard"}