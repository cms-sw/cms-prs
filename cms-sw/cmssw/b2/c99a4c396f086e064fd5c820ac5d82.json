{"additions": 62, "auther_ref": "CMSSW_10_6_X_2020-08-05-1100/sign1107/reminiULenable", "auther_sha": "bd0bca6f5c06505edfb9a3a5af6062d5ab312219", "author": "slava77", "body": "This PR switches from a generic run2_miniAOD_devel modifier to the run2 UL re-miniAOD target run2_miniAOD_UL.\r\n\r\nAdditionally, RecoEgamma/EgammaTools/python/egammaObjectModificationsInMiniAOD_cff.py now enables the electron/photon scales and smearing (something missed in #30199) \r\n\r\nTests \r\n- regular setup of re-miniAOD workflows runs and produces differences in expected places compared to the baseline (which is equivalent to the original UL miniAOD)\r\n    - This is mostly an integration test with a bit conceptual validation; the comparison here was done at a bit earlier step in CMSSW_10_6_X_2020-07-29-2300\r\n- (non-ideal) identity test is done to compare UL reminiAOD made in CMSSW_11_2_X_2020-07-29-1100 (which has all bugfixes and UL-specific settings enabled with run2_miniAOD_UL) with CMSSW_10_6_X_2020-08-05-1100 + this PR using 112X GT. This test is done only for data wf 136.88811 (reprocessing of 2018). \r\n    - Reco comparisons are available in https://slava77sk.web.cern.ch/slava77sk/reco/relvaldiffs/CMSSW_10_6_X_2020-08-05-1100-sign1107/ {red is 106X with GT from 112X and black is 112X} (I looked mostly at 136.88811 in reco comparisons all_\\* directory; the dqm plots in dqm_\\* are available as well, but apparently some plot formats or selections have changed)\r\n    - detailed comparison shows mostly expected unchanged results (e.g. no differences in packedCandidates, except for puppi-related noLepton weights)  with some differences\r\n        - many small differences are apparently related to the minor/acceptable changes and bugfixes introduced during puppi migration to RECO ( #29254  )\r\n    - differences in taus have several sources:\r\n        - againstElectronDeadECAL in taus was not properly updated in master ==> bugfix in #31047\r\n        - againstElectron\\*MVA6 were not backported from after #27465\r\n        - I'm guessing that the small differences in deepTau discriminants are due to the changes in the PUPPI variables (esp the puppiWeightNoLep )\r\n        - minor changes in basic discriminants are expected from #28417 (not backported), e.g. in byCombinedIsolationDeltaBetaCorrRaw3Hits have small differences beyond numerical precision\r\n    - differences in slimmedMETsNoHF UnclusteredEn: see #31071 , apparently the master version is incorrect\r\n    - very small differences in slimmedMETs UnclusteredEn (one event out of 4K tested), apparently due to different way of matching candidates by dR in 106X vs directly by Ptr (part of #29254 not backported to 106X)\r\n\r\n\r\n\r\n", "branch": "CMSSW_10_6_X", "changed_files": 12, "closed_at": "1596808634", "comments": 11, "commits": 3, "created_at": "1596666726", "deletions": 60, "labels": ["analysis-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "baf41ec8f586062b17d8b46a2fa1a620b8185694", "merged_at": "1596808634", "merged_by": "cmsbuild", "milestone": "CMSSW_10_6_X", "number": 31072, "release-notes": [], "review_comments": 0, "state": "closed", "title": "migrate from run2_miniAOD_devel to run2_miniAOD_UL for miniAOD setup UL workflows", "updated_at": "1596808635", "user": "slava77"}