{"additions": 2, "auther_ref": "master", "auther_sha": "2d0392475f7443aa2e48385c7208f239e0301037", "author": "menglu21", "body": "#### PR description:\r\n\r\n< initially the matched lepton ids are declared only once https://github.com/cms-sw/cmssw/blob/master/PhysicsTools/NanoAOD/plugins/LeptonInJetProducer.cc#L79-L80, in the case of that when there is no matched lepton, the previous matched lepton id will be used for the next jet, i.e., two fat jets can match to one lepton which is not correct. >\r\n\r\n#### PR validation:\r\n<before the modification:\r\n```\r\nEvents->Scan(\"FatJet_electronIdx3SJ:FatJet_pt\")\r\n***********************************************\r\n*    Row   * Instance * FatJet_el * FatJet_pt *\r\n***********************************************\r\n*        0 *        0 *         0 *       751 *\r\n*        0 *        1 *         0 *       709 *\r\n*        1 *        0 *        -1 *       958 *\r\n*        1 *        1 *         0 *     598.5 *\r\n*        2 *        0 *        -1 *     849.5 *\r\n*        2 *        1 *        -1 *       835 *\r\n*        2 *        2 *         0 *     240.5 *\r\n*        3 *        0 *         0 *       995 *\r\n*        3 *        1 *        -1 *     932.5 *\r\n*        3 *        2 *        -1 *       335 *\r\n*        4 *        0 *         0 *       751 *\r\n*        4 *        1 *        -1 *     603.5 *\r\n*        4 *        2 *        -1 *       365 *\r\n*        5 *        0 *        -1 *     624.5 *\r\n*        5 *        1 *         0 *       616 *\r\n*        5 *        2 *         0 *   184.125 *\r\n......\r\n```\r\n\r\nafter the modification:\r\n```\r\nEvents->Scan(\"FatJet_electronIdx3SJ:FatJet_pt\")\r\n***********************************************\r\n*    Row   * Instance * FatJet_el * FatJet_pt *\r\n***********************************************\r\n*        0 *        0 *         0 *       751 *\r\n*        0 *        1 *        -1 *       709 *\r\n*        1 *        0 *        -1 *       958 *\r\n*        1 *        1 *         0 *     598.5 *\r\n*        2 *        0 *        -1 *     849.5 *\r\n*        2 *        1 *        -1 *       835 *\r\n*        2 *        2 *         0 *     240.5 *\r\n*        3 *        0 *         0 *       995 *\r\n*        3 *        1 *        -1 *     932.5 *\r\n*        3 *        2 *        -1 *       335 *\r\n*        4 *        0 *         0 *       751 *\r\n*        4 *        1 *        -1 *     603.5 *\r\n*        4 *        2 *        -1 *       365 *\r\n*        5 *        0 *        -1 *     624.5 *\r\n*        5 *        1 *         0 *       616 *\r\n*        5 *        2 *        -1 *   184.125 *\r\n```\r\n>\r\n\r\nyou see that before modification, for the first event, the first and second fatjet match to the first lepton. similar case in 6th event. (the pt of jet is to confirm other info is not changed )\r\n\r\n\r\n\r\n", "branch": "master", "changed_files": 1, "comments": 12, "commits": 2, "created_at": "1681301102", "deletions": 3, "labels": ["pending-signatures", "tests-approved", "orp-pending", "code-checks-approved", "xpog-pending"], "milestone": "CMSSW_13_1_X", "number": 41325, "release-notes": [], "review_comments": 5, "state": "open", "title": "renew matched lepton ids for every jet", "updated_at": "1682341054", "user": "menglu21"}