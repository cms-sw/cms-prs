{"additions": 13, "auther_ref": "alca-SD_triggerBits_14_1_X", "auther_sha": "3d0b8e990b726d3c00fe1ae336a31a63ec5b5b3b", "author": "cms-AlCaDB", "body": "#### PR description:\r\nUpon request of @cms-sw/ppd-l2, in order to migrate the list of trigger paths that define the Secondary Datasets away from the release and into the GT, in this PR I'm updating the `HLTrigger/HLTfilters/plugins/HLTHighLevel.cc` module to also accept a \"tag label\" through which we can read the SecondaryDatased-dedicated triggerbits tag.\r\n\r\nThis issue is discussed in: https://its.cern.ch/jira/browse/CMSBPH-2\r\n\r\nChanges in this PR:\r\n - Update of `HLTHighLevel` in 6bfb34d2ac246975831ec86cd00c58a337c1f2c1\r\n - Update of the `ReserveDMu` SD configuration in c796cdc5429934e31e13b8ead17efae134a10f90\r\n - Update of the Prompt GT in `autoCond` with an updated candidate that contains the new triggerbits tag with label `SecondaryDatasetTrigger`\r\n    - ~Note to @cms-sw/alca-l2 we will need a properly versioned Prompt GT to update autoCond~\r\n    - ~GT diff: [140X_dataRun3_Prompt_v2 vs 140X_dataRun3_Prompt_Candidate_2024_05_29_08_51_00](https://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/140X_dataRun3_Prompt_v2/140X_dataRun3_Prompt_Candidate_2024_05_29_08_51_00)~\r\n    - See below for the final GT diffs\r\n\r\n**Full GT differences:**\r\n- `run2_data`\r\n  https://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/140X_dataRun2_v1/140X_dataRun2_v2\r\n- `run3_data_prompt`\r\n  https://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/140X_dataRun3_Prompt_frozen_v1/140X_dataRun3_Prompt_frozen_v3\r\n   - Jump from version `v1` to `v3` since the `v2` GT was never propagated to the release (but it was correctly deployed in production, see comment in https://github.com/cms-sw/cmssw/pull/45092#issuecomment-2141723733), so it additionaly includes the change of the `DropBoxMetadataRcd` tag (from `DropBoxMetadata_v8.4_express` to `DropBoxMetadata_v8.5_express`)\r\n- `run3_data`\r\n  https://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/140X_dataRun3_v3/140X_dataRun3_v4\r\n- `run3_data_PromptAnalysis`\r\n  https://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/140X_dataRun3_PromptAnalysis_v1/140X_dataRun3_PromptAnalysis_v2\r\n\r\n**Triggerbit tag**\r\nThe new triggerbit tag is [AlCaRecoTriggerBits_SecondaryDataset_v1](https://cms-conddb.cern.ch/cmsDbBrowser/list/Prod/tags/AlCaRecoTriggerBits_SecondaryDataset_v1), with 2 IOVs:\r\n - From start to year 2023 (included) [Payload Inspector plot](https://cern.ch/y867n): \r\n   <img src=\"https://github.com/cms-sw/cmssw/assets/7822641/38842e8c-784d-4a8a-ad1b-d7dc061d3170\" width=\"500\" height=\"400\">\r\n - From 2024 onwards [Payload Inspector plot](https://cern.ch/6949m):\r\n   <img src=\"https://github.com/cms-sw/cmssw/assets/7822641/6741716d-f088-491f-8aad-ac1bce14a6c7\" width=\"500\" height=\"400\">\r\n\r\n - Currently the `ReserveDmu` key is the only one implemented, but this can easily be extended to other SecondaryDatasets if needed\r\n\r\n#### PR validation:\r\nCode compiles + `scram b runtests` runs fine.\r\nAdditionally, I have run the following cmsDriver\r\n```\r\ncmsDriver.py RECO --conditions 140X_dataRun3_Prompt_v2 \\\r\n  --datatier RAW-RECO --era Run3 --eventcontent RAW \\\r\n  --filein \"file:/eos/home-f/fbrivio/AlCa/data/ParkingDoubleMuonLowMass1_Run380470/136ee2f3-e230-40a7-952b-d3a7d12c27ce.root\" \\\r\n  --fileout \"file:skim_ReserveDMu.root\" \\\r\n  --nThreads 2 --number 200 --scenario pp \\\r\n  --step SKIM:@ParkingDoubleMuonLowMass0 \\\r\n  --data --processName PAT\r\n```\r\nin different configurations and checked the number of events saved in `ReserveDMu.root`\r\n| Version | Trigger paths | Evts selected |\r\n|---|---|---|\r\n| `master` | all ReserveDMu paths | 43 |\r\n| `master` | only 2 paths | 5 |\r\n|---|---|---|\r\n| This PR | all ReserveDMu paths | 43 |\r\n| This PR | only 2 ReserveDMu paths | 5 |\r\n\r\n#### Backport:\r\nNot a backport, but eventually a backport to 14_0_X will be opened in order to deploy this in Tier0 and produce directly the ReserveDMu SecondaryDataset", "branch": "master", "changed_files": 4, "comments": 42, "commits": 3, "created_at": "1716969332", "deletions": 57, "labels": ["alca-approved", "hlt-approved", "pending-signatures", "tests-approved", "orp-pending", "pdmv-pending", "code-checks-approved"], "milestone": "CMSSW_14_1_X", "number": 45092, "release-notes": [], "review_comments": 2, "state": "open", "title": "Add possibility to read triggerbits for Secondary Datasets from the GT", "updated_at": "1717671278", "user": "francescobrivio"}