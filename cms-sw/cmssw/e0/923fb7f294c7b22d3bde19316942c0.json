{"additions": 2, "auther_ref": "fix-cpp23-r1", "auther_sha": "6dd9e0f46473a17bd927198601321a6b3e440eb6", "author": "smuzaffar", "body": "This fixes few of build errors for c++23\r\n- [CalibFormats/SiPixelObjects/src/PixelTKFECConfig.cc](https://github.com/cms-sw/cmssw/compare/master...smuzaffar:fix-cpp23-r1?expand=1#diff-c966e23f1360464f9cd9ace062e38015c23f1ad91e6da5309bfea6ad4701237f) : `error: use of deleted function` [a]\r\n\r\n- [FWStorage/XrdAdaptor/src/XrdSource.cc](https://github.com/cms-sw/cmssw/compare/master...smuzaffar:fix-cpp23-r1?expand=1#diff-951c69f5306bb43bd211ce2501973034877340f0b973892bef9b234581d9fc12): Think might not work as default constructor `QueryAttrHandler()` is marked with `delete`. PR proposes to remove the `friend std::unique_ptr<QueryAttrHandler> std::make_unique<QueryAttrHandler>();` statement\r\n\r\n- [RecoTracker/FinalTrackSelectors/plugins/MultiTrackSelector.cc](https://github.com/cms-sw/cmssw/compare/master...smuzaffar:fix-cpp23-r1?expand=1#diff-85d2e2509f6bb33867dd526fe6cef60fd8796332ffafea13d6ef1f365543b4e3):  `use of deleted function   basic_string(nullptr_t) = delete` . Pr proposes to use empty string.\r\n\r\n[a]\r\n```\r\nsrc/CalibFormats/SiPixelObjects/src/PixelTKFECConfig.cc: In member function 'std::string pos::PixelTKFECConfig::typeFromTKFECID(std::string) const':\r\n  [src/CalibFormats/SiPixelObjects/src/PixelTKFECConfig.cc:212](https://github.com/cms-sw/cmssw/blob/CMSSW_16_0_CPP23_X_2025-12-12-1100/CalibFormats/SiPixelObjects/src/PixelTKFECConfig.cc#L212):10: error: use of deleted function 'std::__cxx11::basic_string<_CharT, _Traits, _Alloc>::basic_string(std::nullptr_t) [with _CharT = char; _Traits = std::char_traits<char>; _Alloc = std::allocator<char>; std::nullptr_t = std::nullptr_t]'\r\n   212 |   return nullptr;\r\n      |          ^~~~~~~\r\nIn file included from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/string:54,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/bits/locale_classes.h:40,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/bits/ios_base.h:41,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/ios:44,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/ostream:40,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/iostream:41,\r\n                 from src/CalibFormats/SiPixelObjects/interface/PixelTKFECConfig.h:10,\r\n                 from src/CalibFormats/SiPixelObjects/src/PixelTKFECConfig.cc:7:\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/bits/basic_string.h:748:7: note: declared here\r\n  748 |       basic_string(nullptr_t) = delete;\r\n      |       ^~~~~~~~~~~~\r\nsrc/CalibFormats/SiPixelObjects/src/PixelTKFECConfig.cc:212:10: note: use '-fdiagnostics-all-candidates' to display considered candidates\r\n  212 |   return nullptr;\r\n```\r\n\r\n[b]\r\n```\r\n[src/Utilities/XrdAdaptor/src/XrdSource.cc:83](https://github.com/cms-sw/cmssw/blob/CMSSW_16_0_CPP23_X_2025-12-12-1100/Utilities/XrdAdaptor/src/XrdSource.cc#L83):44: error: redeclaration 'std::__detail::__unique_ptr_t<_Tp> std::make_unique(_Args&& ...) [with _Tp = QueryAttrHandler; _Args = {}; __detail::__unique_ptr_t<_Tp> = __detail::__unique_ptr_t<QueryAttrHandler>]' differs in 'constexpr' from previous declaration\r\n    83 |   friend std::unique_ptr<QueryAttrHandler> std::make_unique<QueryAttrHandler>();\r\n      |                                            ^~~\r\nIn file included from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/memory:78,\r\n                 from src/Utilities/XrdAdaptor/src/XrdSource.cc:4:\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/bits/unique_ptr.h:1076:5: note: previous declaration 'constexpr std::__detail::__unique_ptr_t<_Tp> std::make_unique(_Args&& ...) [with _Tp = QueryAttrHandler; _Args = {}; __detail::__unique_ptr_t<_Tp> = __detail::__unique_ptr_t<QueryAttrHandler>]'\r\n 1076 |     make_unique(_Args&&... __args)\r\n```\r\n\r\n[c]\r\n```\r\n[src/RecoTracker/FinalTrackSelectors/plugins/MultiTrackSelector.cc:90](https://github.com/cms-sw/cmssw/blob/CMSSW_16_0_CPP23_X_2025-12-12-1100/RecoTracker/FinalTrackSelectors/plugins/MultiTrackSelector.cc#L90):98: error: use of deleted function 'std::__cxx11::basic_string<_CharT, _Traits, _Alloc>::basic_string(std::nullptr_t) [with _CharT = char; _Traits = std::char_traits<char>; _Alloc = std::allocator<char>; std::nullptr_t = std::nullptr_t]'\r\n    90 |     vertexCut_.push_back(useVertices_ ? trkSelectors[i].getParameter<std::string>(\"vertexCut\") : nullptr);\r\n      |                                                                                                  ^~~~~~~\r\nIn file included from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/string:54,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/bits/locale_classes.h:40,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/bits/ios_base.h:41,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/ios:44,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/ostream:40,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/bits/unique_ptr.h:43,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/memory:78,\r\n                 from src/RecoTracker/FinalTrackSelectors/plugins/MultiTrackSelector.h:15:\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc14/external/gcc/14.3.1-724da22786638848892aa9ded8fcd995/include/c++/14.3.1/bits/basic_string.h:748:7: note: declared here\r\n  748 |       basic_string(nullptr_t) = delete;\r\n```", "branch": "master", "changed_files": 3, "comments": 3, "commits": 1, "created_at": "1765883618", "deletions": 4, "labels": ["reconstruction-pending", "core-pending", "alca-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-approved", "tracking", "trk"], "milestone": "CMSSW_16_0_X", "number": 49638, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix for c++23 build errors", "updated_at": "1765883755", "user": "smuzaffar"}