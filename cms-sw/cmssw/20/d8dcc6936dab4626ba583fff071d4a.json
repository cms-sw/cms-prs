{"additions": 1372, "auther_ref": "multiCollections", "auther_sha": "b4ed3a8602557608014e80fceb761661c4db86d2", "author": "ericcano", "body": "#### PR description:\r\n\r\nThe design is recursive, but ROOT seems not to serialize variadic templates, so we have a 5 elements design. This number is arbitrary and can be changed with relatively little work.\r\n\r\nThe order of the PortableDeviceCollection template parameters is changed from device at the end to device at the beginning to accommodate the pseudo variadic templation.\r\n\r\nA test validates the collection with two layouts and three layouts.\r\n\r\nThe layout and view can be accessed by index or type, on the condition the type is present only once in the collection.\r\n\r\nThe default index is set to 0 to minimize the need for changes in the single layout case. Empty template parameters square bracket (\"<>\") are needed in some cases.\r\n\r\nConvenience scripts are added to generate the XML need for dictionary generation but has to be edited if there are commonalities between multiple collections.\r\n\r\n#### PR validation:\r\n\r\nThe PR is validated with the pre-existing `HeterogeneousCore/AlpakaTest/test/testHeterogeneousCoreAlpakaTestWriteRead.sh` which has been extended to add a two-layouts example.\r\n\r\n#### Backport status\r\n\r\nBackport of #40285 to CMSSW 14.0.x, from the same branch.", "branch": "CMSSW_14_0_X", "changed_files": 29, "closed_at": "1707906866", "comments": 10, "commits": 1, "created_at": "1707777110", "deletions": 15, "labels": ["fully-signed", "tests-approved", "orp-approved", "urgent", "heterogeneous-approved", "tests-external-failure"], "merge_commit_sha": "e47150288aa99f8190ee962638fab32111d23431", "merged_at": "1707906866", "merged_by": "cmsbuild", "milestone": "CMSSW_14_0_X", "number": 43946, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Add support to multi layout portable collections (up to 5) [14.0.x]", "updated_at": "1707906867", "user": "fwyzard"}