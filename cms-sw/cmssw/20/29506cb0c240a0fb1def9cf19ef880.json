{"additions": 3861, "auther_ref": "clusterChargeReweightingPR_10_1_X", "auther_sha": "e04eabdf60ce91b5a9d702ed7404c88c6445624b", "author": "schuetzepaul", "body": "Pixel Digitizer for simulated data:\r\n\r\nThe possibility to apply a re-weighting to the charge was added for a proper modelling of radiation damage in the silicon sensors. The re-weighting is based on the 2D cluster templates for the Phase 1 Pixel Detector introduced in #22458 and therefore dependent on this PR. However, the diff from this PR to #22458 is only in the digitizer part.\r\n\r\nThe newly added code is _by default turned off_, a flag in the configuration is needed to run it. Therefore the changes in the digitizer are fully backwards compatible.\r\nWe still open a PR for the upcoming release in order to simplify the testing and future development of the re-weighting.\r\n\r\nFor running the new code, the following lines serve as an example:\r\n```\r\nfrom SimGeneral.MixingModule.pixelDigitizer_cfi import *\r\nprocess.mix.digitizers.pixel.UseTemplateAgeing = cms.bool(True)\r\n\r\nprocess.mix.digitizers.pixel.TemplateIDnumerator = cms.int32(3002)\r\nprocess.mix.digitizers.pixel.TemplateIDdenominator = cms.int32(2403)\r\n\r\nprocess.GlobalTag.toGet = cms.VPSet (\r\n    cms.PSet(record = cms.string('SiPixel2DTemplateDBObjectRcd'),\r\n             label = cms.untracked.string(\"numerator\"),\r\n             tag = cms.string('SiPixel2DTemplateDBObject_phase1_38T_2017_rereco_v9_num_largeangles'),\r\n             connect = cms.string('frontier://FrontierPrep/CMS_CONDITIONS')\r\n             ),\r\n    cms.PSet(record = cms.string('SiPixel2DTemplateDBObjectRcd'),\r\n             label = cms.untracked.string(\"denominator\"),\r\n             tag = cms.string('SiPixel2DTemplateDBObject_phase1_38T_mc_v3_den_unirradiated_largeangles'),\r\n             connect = cms.string('frontier://FrontierPrep/CMS_CONDITIONS')\r\n             )\r\n    )\r\n```\r\n\r\nThe IDs (3002 / 2403) as well as the tags for the db objects are changeable, but the code was tested with those.\r\n\r\nHere is a quick note on the concept and plots with tests in the current status: https://desycloud.desy.de/index.php/s/63lG4vCeMNf7XaE", "branch": "master", "changed_files": 25, "comments": 21, "commits": 10, "created_at": "1520272309", "deletions": 923, "labels": ["code-checks-approved", "comparison-available", "orp-pending", "pending-signatures", "reconstruction-rejected", "simulation-pending", "tests-approved"], "milestone": "CMSSW_10_2_X", "number": 22470, "release-notes": [], "review_comments": 0, "state": "open", "title": "Pixel Digitizer: Cluster charge re-weighting for 10_1_X", "updated_at": "1523013844", "user": "schuetzepaul"}