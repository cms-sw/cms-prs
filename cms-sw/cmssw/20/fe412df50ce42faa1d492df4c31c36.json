{"additions": 1592, "auther_ref": "extend_rechittools", "auther_sha": "68b182e955207f2114f5f6ef8c97516007dfce8a", "author": "clelange", "body": "- add bhOffset_,\r\n- fix getLayerWithOffset for new geometry,\r\n- add firstLayerBH(), lastLayerBH()\r\n\r\n#### PR description:\r\n\r\nThis PR introduces some important functionality and fixes in/to the RecHitTools required to eventually remove magic numbers in other places of the HGCal reconstruction code.\r\nRelated to https://github.com/cms-sw/cmssw/issues/26225\r\n\r\n#### PR validation:\r\n\r\nRan some test code with D41 geometry and got the following output:\r\n\r\n```text\r\nbhOffset_: 36\r\nEE layers: 28\r\nFH layers: 22\r\nBH layers: 14\r\nfirst EE layer: 1\r\nfirst FH layer: 1\r\nfirst BH layer: 9\r\nEE layer at z = 10000: 28\r\nFH layer at z = 10000: 24\r\nBH layer at z = 10000: 24\r\nlastLayerEE: 28\r\nlastLayerFH: 50\r\nlastLayerBH: 50\r\nfirstLayerBH: 37\r\n```\r\n\r\nThere are some discrepancies that need to be understood, which, however, seem to be in the geometry, underlining the importance of this PR for geometry validation.\r\nFor example: D41 should have 50 HGCal layers only, 22 FH layers, 14 BH layers.\r\nAfter talking to @bsunanda , the error might also be in my setup and there are no issues in D41 geoemtry. We will investigate, but that's independent of the PR.", "branch": "master", "changed_files": 22, "closed_at": "1561400042", "comments": 105, "commits": 12, "created_at": "1559827666", "deletions": 1703, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "045ebf53387a92b061d3d2477c403c35fab0a94e", "merged_at": "1561400042", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 27128, "release-notes": [], "review_comments": 3, "state": "closed", "title": "Extend and fix RecHitTools", "updated_at": "1561400042", "user": "clelange"}