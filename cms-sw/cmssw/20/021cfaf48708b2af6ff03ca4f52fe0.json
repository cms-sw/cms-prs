{"additions": 6419, "auther_ref": "L1Prefiring_M", "auther_sha": "2c2502a71cd6373eaa2e024defd5da8bf665b82a", "author": "lathomas", "body": "Dear CMSSW managers/PR reviewers, \r\n\r\nThis PR contains an EDProducer computing weights associated to the L1 ECAL prefiring issue that affected 2016 and 2017 data. \r\nSince the effect is not present in MC, the proposed solution is to reweight simulations by those weights. \r\nI add some links to documentation at the end of this post for more information.  \r\n\r\nThe code is a producer returning three double (central, up/down weights). The code loops over all photons and jets found in the event and multiplies their prefiring probabilities. \r\n\r\nI expect the PR to need a bit of iteration before being approved. \r\nIn particular, I would greatly appreciate your suggestions regarding the following points: \r\n\r\n- Can you please provide advise regarding the code location? I created a new package but it can/should maybe enter an already existing one?\r\n- The code relies on prefiring maps stored as TH2F in a root file. I'm not sure this is allowed... If not, can you suggest a proper format? (sorry for my ignorance). \r\n\r\nPlease let me know if anything else is unclear,\r\n\r\nThanks a lot, \r\n\r\nLaurent  \r\n\r\n***Documentation***\r\n-Talk at CMS week about prefiring: \r\nhttps://indico.cern.ch/event/704625/contributions/3164334/attachments/1726987/2790093/prefiringupdateCMSweek.pdf\r\n-Prefiring discussion at the XPOG forum: \r\nhttps://indico.cern.ch/event/764279/\r\n-Twiki describing how to run the producer:\r\nhttps://twiki.cern.ch/twiki/bin/viewauth/CMS/L1ECALPrefiringWeightRecipe\r\n-L1 prefiring maps per object:\r\nhttps://lathomas.web.cern.ch/lathomas/TSGStuff/L1Prefiring/PrefiringMaps_2016and2017/\r\n-Validation plots: \r\nhttps://twiki.cern.ch/twiki/pub/CMS/L1ECALPrefiringWeightRecipe/prefiring_producervalidation.pdf\r\n", "branch": "master", "changed_files": 39, "comments": 64, "commits": 16, "created_at": "1543527444", "deletions": 1440, "labels": ["analysis-pending", "code-checks-approved", "comparison-pending", "orp-pending", "pending-signatures", "reconstruction-pending", "tests-pending"], "milestone": "CMSSW_10_5_X", "number": 25380, "release-notes": [], "review_comments": 32, "state": "open", "title": "L1 prefiring weight producer ", "updated_at": "1546965647", "user": "lathomas"}