{"additions": 1, "auther_ref": "FixL1TMuonProducer", "auther_sha": "f094c648b423979b0e5e32c317ff706f03f144ea", "author": "VinInn", "body": "typical bug by C++ illiterate\r\nsee\r\nhttps://en.wikipedia.org/wiki/Eraseremove_idiom\r\n\r\n\r\nhow to trigger it\r\n```\r\ncmsrel CMSSW_9_0_0_pre6\r\ncd CMSSW_9_0_0_pre6/src/\r\ncmsenv\r\ngit cms-addpkg L1Trigger/L1TMuon\r\ncmsDriver.py test -s RAW2DIGI --era=Run2_2016 --customise=L1Trigger/Configuration/customiseReEmul.L1TReEmulFromRAW --conditions=81X_upgrade2017_realistic_v26 -n -1 --mc --no_exec --no_output --filein=root://cms-xrd-global.cern.ch//store/mc/PhaseIFall16DR/BuToJpsiK_BFilter_TuneCUEP8M1_13TeV-pythia8-evtgen/GEN-SIM-RAW/FlatPU28to62HcalNZSRAW_81X_upgrade2017_realistic_v26-v1/110000/B0C8B5E9-D6F0-E611-A443-001517FB141C.root\r\n\r\nadd the following to test_RAW2DIGI.py\r\n\r\nprocess.simEmtfDigis.CSCInput = cms.InputTag(\"simCscTriggerPrimitiveDigis\",\"MPCSORTED\")\r\nprocess.simBmtfDigis.DTDigi_Source = cms.InputTag(\"simTwinMuxDigis\")\r\nprocess.simBmtfDigis.DTDigi_Theta_Source = cms.InputTag(\"simDtTriggerPrimitiveDigis\")\r\nprocess.simOmtfDigis.srcCSC = cms.InputTag(\"simCscTriggerPrimitiveDigis\",\"MPCSORTED\")\r\nprocess.simOmtfDigis.srcDTPh = cms.InputTag(\"simDtTriggerPrimitiveDigis\")\r\nprocess.simOmtfDigis.srcDTTh = cms.InputTag(\"simDtTriggerPrimitiveDigis\")\r\nprocess.simTwinMuxDigis.DTDigi_Source = cms.InputTag(\"simDtTriggerPrimitiveDigis\")\r\nprocess.simTwinMuxDigis.DTThetaDigi_Source = cms.InputTag(\"simDtTriggerPrimitiveDigis\")\r\nprocess.simDtTriggerPrimitiveDigis.digiTag = cms.InputTag(\"muonDTDigis\")\r\n\r\n\r\nsetenv XRD_NETWORKSTACK IPv4 (perch i file sono in US e se no non li apre)\r\nvoms-proxy-init -voms cms\r\ncmsRunGlibC test_RAW2DIGI.py\r\n\r\ncompile with -g and you get\r\nThread 1 \"cmsRunGlibC\" received signal SIGSEGV, Segmentation fault.\r\n[Switching to Thread 0x7fedc4de4c80 (LWP 15407)]\r\n0x00007fedb1350607 in L1TMuonProducer::sortMuons (this=this@entry=0x15b4a9c0, muons=..., nSurvivors=nSurvivors@entry=4) at /home/vin/ori/CMSSW_9_0_0/src/L1Trigger/L1TMuon/plugins/L1TMuonProducer.cc:389\r\n389\t  while (mu1 != muons.end()) {\r\n(gdb) where\r\n#0  0x00007fedb1350607 in L1TMuonProducer::sortMuons (this=this@entry=0x15b4a9c0, muons=..., nSurvivors=nSurvivors@entry=4)\r\n   at /home/vin/ori/CMSSW_9_0_0/src/L1Trigger/L1TMuon/plugins/L1TMuonProducer.cc:389\r\n#1  0x00007fedb1355307 in L1TMuonProducer::produce (this=0x15b4a9c0, iEvent=..., iSetup=...) at /home/vin/ori/CMSSW_9_0_0/src/L1Trigger/L1TMuon/plugins/L1TMuonProducer.cc:303\r\n```", "branch": "master", "changed_files": 1, "closed_at": "1490853150", "comments": 12, "commits": 1, "created_at": "1490346117", "deletions": 7, "labels": ["bug-fix", "comparison-notrun", "l1-pending", "orp-pending", "pending-signatures", "tests-rejected"], "milestone": "CMSSW_9_1_X", "number": 18064, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix bug in  L1TMuonProducer", "updated_at": "1490853150", "user": "VinInn"}