{"additions": 269, "auther_ref": "CMSSW_7_4_X_2015-08-01-1100/sign74Xfor25ns", "auther_sha": "dc5da964453ae741a6b5b31f29ab87e7bf91599b", "author": "slava77", "body": "- to determine bunch spacing in data in PFClusterEMEnergyCorrector and  EcalUncalibRecHitWorkerMultiFit\n  - use run 253000 as a maximum with 50 ns if auto-selection is enabled\n  - fixup/add manual bunch spacing setting is the auto-selection is disabled\n- in RecoTLR (still using local customs implementation for run2 data processing)\n  - remove CCC override-to-OFF in prompt and express customizations\n  - add customise_DQM to the common customs (already in 75X/76X)\n  - add customiseL1RecoForStage1 for stage1 unpackers and l1extra to use calo stage1 \n  - add customiseDataRun2Common_25ns (since I couldn't figure out how to more transparently set a default to 25ns and then be able to customize that to 50ns); \n  - NB: the customiseDataRun2Common can still be used for Run2015B data processing as suggested in a few HN posts\n  - add customiseDataRun2Common_50nsRunsAfter253000 function (it's in the name!) to force 50ns settings for runs after 253000, if we need it\n  - remove outdated planBTracking\n- add ppRun2at50ns scenario in T0 processing setup\n\ntested in CMSSW_7_4_X_2015-08-01-1100\nConfigs for T0 tested \n- with run_CfgTest.log\n- by running ppRun2 and ppRun2at50ns with prompt reco (RunPromptReco.py) on /store/data/Run2015B/DoubleMuon/RAW/v1/000/251/721/00000/44C77595-412A-E511-930E-02163E012A2C.root. \n\nChanges are as expected, appear only in the run2 T0 workflow:\n- there are less tracks with less hits and the cluster charge on track shows a cutoff due to CCC  (many plots downstream change as well consistent with CCC enabling)\n  ![251721_tob_ontrack](https://cloud.githubusercontent.com/assets/4676718/9026858/9626312a-3904-11e5-860e-8199d2af0616.png)\n  ![all_sign74xfor25ns-test50nsvsorig_doublemuon251721c_recotracks_generaltracks__reco_obj_found](https://cloud.githubusercontent.com/assets/4676718/9026853/62180462-3904-11e5-8507-3cefb15a8114.png)\n- L1 plots changed quite a bit\n  ![251721_l1cenjet](https://cloud.githubusercontent.com/assets/4676718/9026865/bd1b5d28-3904-11e5-84a9-0458c75c4bfd.png)\n  ![251721_l1taujet](https://cloud.githubusercontent.com/assets/4676718/9026867/c0291384-3904-11e5-8956-49c869ae09c4.png)\n  probably the only suspicious ones are based on HF: they are empty now\n  ![251721_l1hf](https://cloud.githubusercontent.com/assets/4676718/9026870/cfb09bce-3904-11e5-806e-18ca0a41877f.png)\n- no change is observed in running ppRun2at50ns and ppRun2 workflows on the run 251721 since the default bunch spacing detection in both cases falls to 50 ns setup.\n\nIn addition, tested the machinery with a run after 253000 /store/data/Run2015B/MinimumBias/RAW/v1/000/253/020/00000/BA19E72A-5B37-E511-B00F-02163E0134B5.root (the run is cosmics and has no tracker or muons included)\nAs expected, \n- ppRun2at50ns and ppRun2 show differences in the ECAL hit energies (previously constrained to 0 values now yield some results, as expected from the change in the multifit configuration)\n  ![all_sign74xfor25ns-test50nsvssign74xfor25ns-test25ns_minimumbias253020c_ecalrechitssorted_ecalrechit_ecalrechitseb_reco_obj_obj_energy](https://cloud.githubusercontent.com/assets/4676718/9027144/09765d1c-390f-11e5-932f-c49ac65e62b7.png)\n- the baseline and ppRun2at50ns in this case produce identical results in the reco products (there is no tracker in this run).\n  - stage1 is not in this run and as a result, all related DQM plots are empty ... I'm assuming we will not be switching stage1 on and off once this all starts working next week @mulhearn @deguio @danduggan \n", "branch": "CMSSW_7_4_X", "changed_files": 7, "closed_at": "1438603585", "comments": 7, "commits": 8, "created_at": "1438528765", "deletions": 86, "labels": ["comparison-available", "operations-pending", "orp-pending", "pending-signatures", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "3e1f823d5641c01f35b51834da6c34a403c6dcd3", "merged_at": "1438603585", "merged_by": "davidlange6", "milestone": "Next CMSSW_7_4_X", "number": 10518, "release-notes": [], "review_comments": 0, "state": "closed", "title": "changes for data reco processing with 25ns", "updated_at": "1438704222", "user": "slava77"}