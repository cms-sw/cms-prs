{"additions": 633, "auther_ref": "mc-mtdValidationUpdate", "auther_sha": "8448038e3e2c257176e53a31b2e511f24df33ee1", "author": "casarsa", "body": "This PR introduces some optional histograms of the BTL and ETL uncalibrated RecHits to check the hit time resolution as a function of the hit amplitude and the hit pseudorapidity. The booking and filling of the new histograms is optional and can be switched on with a configuration flag: the default is OFF.\r\n\r\nA ROOT macro is also provided to analyse the uncalibrated RecHits histograms. \r\n\r\n#### PR validation:\r\n\r\nThe new code has been tested with both the new feature OFF and ON using the WF 34634.0 with CMSSW_12_0_X_2021-05-06-2300.\r\n\r\n1) **current code** (step 3):\r\n\r\nMemoryReport> Peak virtual size 6392.12 Mbytes\r\nKey events increasing vsize: \r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[1] run: 1 lumi: 1 event: 1  vsize = 6392.07 deltaVsize = 0 rss = 3387.42 delta = 0\r\n[2] run: 1 lumi: 1 event: 2  vsize = 6392.11 deltaVsize = 0.046875 rss = 3442.12 delta = 54.6953\r\n[8] run: 1 lumi: 1 event: 8  vsize = 6392.12 deltaVsize = 0.0078125 rss = 3302.1 delta = -140.02\r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[10] run: 1 lumi: 1 event: 10  vsize = 6392.12 deltaVsize = 0 rss = 3322.02 delta = 19.918\r\n[9] run: 1 lumi: 1 event: 9  vsize = 6392.12 deltaVsize = 0 rss = 3323.58 delta = 21.4805\r\n[8] run: 1 lumi: 1 event: 8  vsize = 6392.12 deltaVsize = 0.0078125 rss = 3302.1 delta = -140.02\r\nTimeReport> Time report complete in 227.177 seconds\r\nTime Summary: \r\n - Min event:   2.46557\r\n - Max event:   18.1748\r\n - Avg event:   5.5697\r\n - Total loop:  113.632\r\n - Total init:  109.26\r\n - Total job:   227.177\r\n - EventSetup Lock:   0\r\n - EventSetup Get:   0\r\n Event Throughput: 0.088003 ev/s\r\n CPU Summary: \r\n - Total loop:  105.267\r\n - Total init:  137.419\r\n - Total extra: 0\r\n - Total job:   246.414\r\n Processing Summary: \r\n - Number of Events:  10\r\n - Number of Global Begin Lumi Calls:  1\r\n - Number of Global Begin Run Calls: 1\r\n\r\nSize of the MTD histograms in the DQM root file:\r\n1129.74 KiB     MTD/ETL\r\n239.63 KiB       MTD/BTL\r\n\r\n \r\n2) **new code with new feature OFF** (step 3): \r\n \r\nMemoryReport> Peak virtual size 6366.38 Mbytes\r\nKey events increasing vsize: \r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[1] run: 1 lumi: 1 event: 1  vsize = 6366.33 deltaVsize = 0 rss = 3401.11 delta = 0\r\n[2] run: 1 lumi: 1 event: 2  vsize = 6366.38 deltaVsize = 0.046875 rss = 3462.15 delta = 61.0352\r\n[8] run: 1 lumi: 1 event: 8  vsize = 6366.38 deltaVsize = 0.0078125 rss = 3507.35 delta = 45.1992\r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[10] run: 1 lumi: 1 event: 10  vsize = 6366.38 deltaVsize = 0 rss = 3527.03 delta = 19.6797\r\n[9] run: 1 lumi: 1 event: 9  vsize = 6366.38 deltaVsize = 0 rss = 3525.76 delta = 18.4102\r\n[8] run: 1 lumi: 1 event: 8  vsize = 6366.38 deltaVsize = 0.0078125 rss = 3507.35 delta = 45.1992\r\nTimeReport> Time report complete in 234.941 seconds\r\n Time Summary: \r\n - Min event:   2.32497\r\n - Max event:   16.4596\r\n - Avg event:   5.0602\r\n - Total loop:  116.285\r\n - Total init:  114.081\r\n - Total job:   234.941\r\n - EventSetup Lock:   0\r\n - EventSetup Get:   0\r\n Event Throughput: 0.0859958 ev/s\r\n CPU Summary: \r\n - Total loop:  97.7062\r\n - Total init:  137.679\r\n - Total extra: 0\r\n - Total job:   239.228\r\n Processing Summary: \r\n - Number of Events:  10\r\n - Number of Global Begin Lumi Calls:  1\r\n - Number of Global Begin Run Calls: 1\r\n \r\nSize of the MTD histograms in the DQM root file:\r\n1129.74 KiB      MTD/ETL\r\n239.63 KiB       MTD/BTL\r\n\r\n\r\n3) **new code with new feature ON** (step 3): \r\n\r\nMemoryReport> Peak virtual size 6366.63 Mbytes\r\nKey events increasing vsize: \r\n[1] run: 1 lumi: 1 event: 1  vsize = 5854.57 deltaVsize = 0 rss = 3397.2 delta = 0\r\n[2] run: 1 lumi: 1 event: 2  vsize = 5854.62 deltaVsize = 0.046875 rss = 3455.33 delta = 58.125\r\n[4] run: 1 lumi: 1 event: 4  vsize = 6366.62 deltaVsize = 512 rss = 3481.23 delta = 25.9062\r\n[8] run: 1 lumi: 1 event: 8  vsize = 6366.63 deltaVsize = 0.0078125 rss = 3500.05 delta = 18.8164\r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[10] run: 1 lumi: 1 event: 10  vsize = 6366.63 deltaVsize = 0 rss = 3517.79 delta = 17.7422\r\n[9] run: 1 lumi: 1 event: 9  vsize = 6366.63 deltaVsize = 0 rss = 3523.39 delta = 23.3438\r\n[8] run: 1 lumi: 1 event: 8  vsize = 6366.63 deltaVsize = 0.0078125 rss = 3500.05 delta = 18.8164\r\nTimeReport> Time report complete in 238.522 seconds\r\n Time Summary: \r\n - Min event:   2.42648\r\n - Max event:   17.5428\r\n - Avg event:   5.27197\r\n - Total loop:  116.606\r\n - Total init:  117.143\r\n - Total job:   238.522\r\n - EventSetup Lock:   0\r\n - EventSetup Get:   0\r\n Event Throughput: 0.0857586 ev/s\r\n CPU Summary: \r\n - Total loop:  99.5613\r\n - Total init:  136.715\r\n - Total extra: 0\r\n - Total job:   240.332\r\n Processing Summary: \r\n - Number of Events:  10\r\n - Number of Global Begin Lumi Calls:  1\r\n - Number of Global Begin Run Calls: 1\r\n\r\nSize of the MTD histograms in the DQM root file:\r\n1205.19 KiB      MTD/ETL\r\n509.57 KiB       MTD/BTL\r\n\r\n@fabiocos @parbol @gsorrentino18", "branch": "master", "changed_files": 3, "closed_at": "1620644189", "comments": 13, "commits": 4, "created_at": "1620390955", "deletions": 4, "labels": ["code-checks-approved", "dqm-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "a6d09e937f28a2fc29af04d43dead06a065d7602", "merged_at": "1620644189", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 33662, "release-notes": [], "review_comments": 0, "state": "closed", "title": "MTD validation: optional histograms of BTL and ETL uncalibrated RecHits", "updated_at": "1620644189", "user": "casarsa"}