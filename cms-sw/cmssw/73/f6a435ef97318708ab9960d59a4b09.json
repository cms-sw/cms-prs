{"additions": 18024, "auther_ref": "muonMVAID_fix", "auther_sha": "5aeb051d1861fdf661fd687784f03021add86648", "author": "cramonal", "body": "#### PR description:\r\n\r\nThis PR is a fix to the previous implementation of the muon MVA ID in nanoAOD [1]. \r\n\r\nIn this fix the score of the MVA ID  (mvaIDMuon) is computed on the fly when producing the nanoAOD. In the current implementation this is read from the miniAOD which has a non final version of the training. With this fix we make sure the  training that has been published in CMS-PAS-MUO-22-001 enters the following nanoAOD versions. \r\n\r\nNote: the WP variables (mvaIDMuon_wpTight and mvaIDMuon_wpMedium ) were computed in nanoAOD already. \r\n\r\n[1] https://github.com/cms-sw/cmssw/pull/41903\r\n\r\n#### PR validation:\r\n\r\n- The code changes have passed most of the standard runTheMatrix test workflows. There was only one failure when running 1000.0_RunMinBias2011A step 3. The error [2] seems unrealted with the changes in this PR. \r\n- We execute the basic tests suggested in the [CMSSW PR instructions](https://cms-sw.github.io/PRWorkflow.html).\r\n\r\n[2] [a] Calling RootInputFileSequence::initTheFile(): fail to open the file with name root://eoscms.cern.ch//eos/cms/store/data/Run2011A/MinimumBias/RAW/v1/000/165/121/18E0AF9F-BA7F-E011-AC1C-001D09F24259.root\r\n      [b] Input file root://xrootd-cms.infn.it//store/data/Run2011A/MinimumBias/RAW/v1/000/165/121/18E0AF9F-BA7F-E011-AC1C-001D09F24259.root could not be opened.\r\n      [c] XrdCl::File::Open(name='root://xrootd-cms.infn.it//store/data/Run2011A/MinimumBias/RAW/v1/000/165/121/18E0AF9F-BA7F-E011-AC1C-001D09F24259.root', flags=0x10, permissions=0660) => error '[ERROR] Server responded with an error: [3011] No servers are available to read the file.\r\n' (errno=3011, code=400). No additional data servers were found.\r\n      [d] Last URL tried: root://cms-xrd-global.cern.ch:1094//store/data/Run2011A/MinimumBias/RAW/v1/000/165/121/18E0AF9F-BA7F-E011-AC1C-001D09F24259.root?tried=+1213llrxrd-redir.in2p3.fr,&xrdcl.requuid=43b88d64-2f45-401b-b96d-41b1aa1d7c12\r\n      [e] Problematic data server: cms-xrd-global.cern.ch:1094\r\n      [f] Disabled source: cms-xrd-global.cern.ch:1094\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nWe would like to have this backported to  14_0_X, so this enters in NanoAODv14. ", "branch": "master", "changed_files": 265, "comments": 16, "commits": 45, "created_at": "1707990287", "deletions": 6450, "labels": ["reconstruction-pending", "simulation-pending", "dqm-pending", "l1-pending", "geometry-pending", "operations-pending", "alca-rejected", "db-rejected", "hlt-rejected", "pending-signatures", "tests-pending", "orp-pending", "pdmv-pending", "upgrade-pending", "code-checks-rejected", "xpog-pending", "heterogeneous-pending", "tracking", "trk"], "milestone": "CMSSW_14_1_X", "number": 43976, "release-notes": [], "review_comments": 2, "state": "open", "title": "Fix on muon_mvaID in NanoAOD", "updated_at": "1708701013", "user": "cramonal"}