{"additions": 176, "auther_ref": "fixSiStripHitEfficiencyAtPCL", "auther_sha": "b1ab48058d99f411a78099dc28a7496e2614830f", "author": "mmusich", "body": "#### PR description:\r\n\r\nThis PR implements few bug-fixes in the SiStripHitEfficiency PCL Workflow as spotted in the Tier-0 replay https://github.com/dmwm/T0/pull/4674#issuecomment-1131255929.\r\n   * 84cca3f5b88606cd33bbe8790678db602f638e32 loosens the cut on the track multiplicity (used to be 100 to limit the size of the internal SiStrip Calibration Trees, but now that the workflow is centrally supported that is not a problem anymore)\r\n   * f7cfd9a15a7ee5e890a086319334d95f096b4adf adds plots for monitoring the total number of tracks used and its correlation with PU\r\n   * 220edeb00ee92ee81ebc4193d2f21e7f58097246 and e133da4ed570736c5c386744b72feda05283b56c are the core of the bug-fix and allow several histograms that were previously empty to be filled.\r\n   * 17d25f53f70e21858129edf5ec0b1018626a84a7 makes the input / output folder in the DQM file configurable\r\n   * b527086299cb20a95dd490884dd2d767e15d7068 reduces the amount of hardcoded constants in the code\r\n\r\n#### PR validation:\r\n\r\nI've run the following commands to test the `ALCAPROMPT` production:\r\n\r\n```console\r\ncmsDriver.py testReAlCa -s ALCA:PromptCalibProdSiStripHitEfficiency --conditions 123X_dataRun2_v2 --scenario pp --data --era Run2_2018 --datatier ALCARECO --eventcontent ALCARECO --processName=ReAlCa -n 100000 --dasquery='file dataset=/StreamExpress/Run2018D-SiStripCalMinBias-Express-v1/ALCARECO run=325172' --nThreads=4 --no_exec \r\n```\r\n\r\nfollowed by:\r\n\r\n```console\r\ncmsDriver.py stepHarvest -s ALCAHARVEST:SiStripHitEff --conditions 123X_dataRun2_v2 --scenario pp --data --era Run2_2018 --filein file:PromptCalibProdSiStripHitEfficiency.root -n -1 --no_exec                        \r\n```\r\nto test the `ALCAHARVESTING` step.\r\nI have also run successfully:\r\n   * `runTheMatrix.py -l 1001.0, 1001.2` \r\n   * `scram b runtests`\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nNot a backport, but will need to be backported.\r\n", "branch": "master", "changed_files": 5, "closed_at": "1653610493", "comments": 14, "commits": 8, "created_at": "1653467325", "deletions": 85, "labels": ["alca-approved", "fully-signed", "tests-approved", "bug-fix", "orp-approved", "code-checks-approved", "trk"], "merge_commit_sha": "fe148910f07a15e7a86277854a59be5133344a9a", "merged_at": "1653610493", "merged_by": "cmsbuild", "milestone": "CMSSW_12_5_X", "number": 38075, "release-notes": [], "review_comments": 4, "state": "closed", "title": "SiStripHitEfficiency PCL Workflow: miscellaneous fixes", "updated_at": "1653610493", "user": "mmusich"}