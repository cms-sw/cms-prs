{"additions": 12, "auther_ref": "devel_hltDontOverwriteOptions", "auther_sha": "72e637baf32699954f52b62b57f4253539343375", "author": "missirol", "body": "backport of #38225\r\n\r\n#### PR description:\r\n\r\nFrom the description of the original PR:\r\n\r\n> This PR ensures that HLT utilities like `hltGetConfiguration` do not overwrite the `options` PSet downloaded as part of an HLT menu from `ConfDB`.\r\n> \r\n> This update is intended to be fully backward-compatible. It is needed now since HLT menus have started to introduce the `options` PSet in ConfDB mainly as a way to control GPU offloading via `options.accelerators`.\r\n> \r\n> In recent CMSSW releases (`CMSSW_11` and higher), the options `PSet` exists by default in the `cms.Process` and the types of its variables do not need to be specified (even if `process.options` is not explictly defined in the python config), so those type specifications are dropped.\r\n> \r\n> This PR will be backported to `12_4_X`. I'd also suggest to also backport it to `12_3_X` for convenience, since there are recent online menus for `12_3_X` which define the `options` PSet in `ConfDB`.\r\n> \r\n> _Note_ : [the `options` PSet continues to be removed when the HLT configuration is downloaded as a \"fragment\"](https://github.com/cms-sw/cmssw/blob/b54d06d5447f6bb55d1da6c42d3a413f526150a0/HLTrigger/Configuration/python/Tools/confdb.py#L859). When using HLT fragments via `cmsDriver.py`, `options.accelerators` can be configured via `cmsDriver.py --accelerators [..]`.\r\n> \r\n> Merely technical. No changes expected.\r\n> \r\n> Attn (in case I missed something): @Martin-Grunewald @fwyzard @Sam-Harper\r\n\r\n#### PR validation:\r\n\r\nRelies on the validation done for the original PR.\r\n\r\n#### If this PR is a backport, please specify the original PR and why you need to backport that PR:\r\n\r\n#38225\r\n\r\nDevelopment of HLT menus for Run 3.", "branch": "CMSSW_12_4_X", "changed_files": 2, "comments": 5, "commits": 1, "created_at": "1654250268", "deletions": 14, "labels": ["hlt-approved", "fully-signed", "tests-approved", "orp-pending", "backport-ok"], "milestone": "CMSSW_12_4_X", "number": 38227, "release-notes": [], "review_comments": 0, "state": "open", "title": "avoid overwrite of `options` PSet from `ConfDB` in HLT utilities [`12_4_X`]", "updated_at": "1654321025", "user": "missirol"}