{"additions": 2, "auther_ref": "py3-cmsDriver", "auther_sha": "6bf64ca60c6914fd11f09b25452bf42950ee9fd2", "author": "smuzaffar", "body": "12.0.X and 12.1.X igprof jobs are failing with error\r\n```\r\n>cmsDriver.py TTbar_14TeV_TuneCP5_cfi -s GEN,SIM -n 10 --conditions auto:phase2_realistic_T15 --beamspot HLLHC14TeV --datatier GEN-SIM --eventcontent RAWSIM --geometry Extended2026D49 --era Phase2C9 --relval 9000,100 -n 10 --profile pp --fileout file:step1.root\r\nGEN,SIM,ENDJOB\r\nWe have determined that this is simulation (if not, rerun cmsDriver.py with --data)\r\nStep: GEN Spec: \r\nLoading generator fragment from Configuration.Generator.TTbar_14TeV_TuneCP5_cfi\r\nStep: SIM Spec: \r\nStep: ENDJOB Spec: \r\nTraceback (most recent call last):\r\n  File \"bin/slc7_amd64_gcc900/cmsDriver.py\", line 56, in <module>\r\n    run()\r\n  File \"bin/slc7_amd64_gcc900/cmsDriver.py\", line 28, in run\r\n    configBuilder.prepare()\r\n  File \"python/Configuration/Applications/ConfigBuilder.py\", line 2178, in prepare\r\n    self.addCommon()\r\n  File \"Configuration/Applications/ConfigBuilder.py\", line 359, in addCommon\r\n    (start, interval, eventFormat, jobFormat)=self.profileOptions()\r\n  File \"Configuration/Applications/ConfigBuilder.py\", line 304, in profileOptions\r\n    hashlib.md5(\r\nTypeError: Unicode-objects must be encoded before hashing\r\n```\r\n\r\nI think this is due to python3 update. This PR should fix the issue. Local tests runs fine\r\n```\r\n>cmsDriver.py TTbar_14TeV_TuneCP5_cfi -s GEN,SIM -n 10 --conditions auto:phase2_realistic_T15 --beamspot HLLHC14TeV --datatier GEN-SIM --eventcontent RAWSIM --geometry Extended2026D49 --era Phase2C9 --relval 9000,100 -n 10 --profile pp --fileout file:step1.root\r\nGEN,SIM,ENDJOB\r\nWe have determined that this is simulation (if not, rerun cmsDriver.py with --data)\r\nStep: GEN Spec: \r\nLoading generator fragment from Configuration.Generator.TTbar_14TeV_TuneCP5_cfi\r\nStep: SIM Spec: \r\nStep: ENDJOB Spec: \r\nStarting igprof -t cmsRun -pp cmsRun  TTbar_14TeV_TuneCP5_cfi_GEN_SIM.py\r\n\r\n```", "branch": "master", "changed_files": 1, "closed_at": "1633647267", "comments": 7, "commits": 1, "created_at": "1633588896", "deletions": 2, "labels": ["operations-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "515458c78f17771a5cae5ce58901ed0b6b32e0bb", "merged_at": "1633647267", "merged_by": "cmsbuild", "milestone": "CMSSW_12_1_X", "number": 35568, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[Py3] Fix cmsDriver.py for --profile options", "updated_at": "1633647267", "user": "smuzaffar"}