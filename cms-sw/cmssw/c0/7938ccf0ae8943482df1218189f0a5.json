{"additions": 20, "auther_ref": "conddb2hdf5_single_run_150x", "auther_sha": "4d32bb63021df7471002c48b4ffdf61f9bbc3ecb", "author": "fwyzard", "body": "#### PR description:\r\n\r\nThe tools to dump a global tag into an HDF5 file were first presented at the AlCaDb meeting on July 2023 ([link](https://indico.cern.ch/event/1309783/#84-retrieve-conditions-data-fr)), and are documented in CMSSW ([link to master](https://github.com/cms-sw/cmssw/blob/master/CondCore/CondHDF5ESSource/README.md)).\r\n\r\nA couple of use cases for dumping the conditions instead of reading them from the database are:\r\n  - to run on HPC sites where the worker nodes do not have access to external sites;\r\n  - to package the conditions along with the data for Open Data releases and for the HEPScore benchmark.\r\n\r\nThis PR adds an option to restrict the global tag written to an HDF5 file to the IOVs that correspond to a single run.\r\n\r\nThis reduces the size of an online data global tag from about 9 GB to 150 MB (_e.g._ `/eos/user/f/fwyzard/public/HLT_2024_benchmark_for_HepScore/data/globaltag/150X_dataRun3_HLT_v1_run383631.hdf5`).\r\n\r\n#### PR validation:\r\n\r\nTested running the HLT on the trimmed global tag.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nBackport of #48129 to 15.0.x for the NGT online tests.", "branch": "CMSSW_15_0_X", "changed_files": 1, "comments": 10, "commits": 1, "created_at": "1747753680", "deletions": 3, "labels": ["fully-signed", "tests-approved", "orp-pending", "db-approved", "backport-ok"], "milestone": "CMSSW_15_0_X", "number": 48130, "release-notes": [], "review_comments": 0, "state": "open", "title": "conddb2hdf5: add option to restrict IOVs to a single run [15.0.x]", "updated_at": "1748684222", "user": "fwyzard"}