{"additions": 175, "auther_ref": "candcloner-3-fix", "auther_sha": "08be05004bdf2d2cbf31a54b8a689cb27ff2a78c", "author": "trackreco", "body": "Motivated by observed inefficiency in the pixelLess iteration track building for low-pt displaced tracks, several features/bugs were fixed and improvements to the algorithm were added:\r\n- consistently sort seeds in iterations without seed merging\r\n- fix handling of candidates with overlapping hits\r\n- make sure that Kalman updates in the barrel stay on the update plane\r\n- fix a propagation condition check bug in propagation to radius  calculation of several Jacobian elements\r\n- fix functions to count the number of matched hits and layers (used in pixelLess and detachedTriplet trajectory filtering)\r\n- explicitly account for the layer thickness in the endcap to determine the phi window to preselect hits (active only for the pixelLess iteration now)\r\n- relax the number of hit requirement for displaced track candidate filter in the pixelLess (endcaps only)\r\n- disable track candidate DNN selection in the pixelLess iteration\r\n- modify seed merging logic for the lowPtQuad iteration for the future developments (this iteration is not yet in the mkFit defaul production setup)\r\n\r\nMTV plots, including timing, are available for ttbar relval with pileup  [for the standard DQM selections](https://slava77.web.cern.ch/slava77/mic/CMSSW_12_5_0_pre4-pixmkf /RelValTTbar_14TeV/mtv-mkf5-mkf6-orig-Aug15POG-tr102-08be050) (signal tracks have pt>0.9 GeV in the efficiency plots)  and separately [for signal simtracks selected with pt<0.9 GeV](https://slava77.web.cern.ch/slava77/mic/CMSSW_12_5_0_pre4-pixmkf/RelValTTbar_14TeV/mtv-mkf5-mkf6-orig-Aug15POG-tr102-08be050-lopt for low-pt) \r\n\r\nExpectations:\r\n- slightly longer tracks in all mkFit iterations\r\n- a significant increase in efficiency of reconstructing displaced tracks in the pixelLess iteration\r\n- tracking time goes up by about 3% mainly from longer track fitting time downstream of mkFit, a large fraction of which is from disabling of the candidate DNN selection in the pixelLess iteration\r\n\r\nIncremental comparisons are available in https://github.com/trackreco/cmssw/pull/102\r\n\r\nPresentation in the Aug 15 TRK POG meeting https://indico.cern.ch/event/1189133/#3-mkfit-updates\r\n\r\nPlease consider for 12_5_0_pre5", "branch": "master", "changed_files": 14, "closed_at": "1660744994", "comments": 11, "commits": 14, "created_at": "1660500559", "deletions": 57, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved", "tracking"], "merge_commit_sha": "2bf39e1b263d90d3d2cc1067d2be2d92e16ca337", "merged_at": "1660744994", "merged_by": "cmsbuild", "milestone": "CMSSW_12_5_X", "number": 39055, "release-notes": [], "review_comments": 0, "state": "closed", "title": "mkFit updates aiming to improve pixelLess iteration and related", "updated_at": "1660744994", "user": "slava77"}