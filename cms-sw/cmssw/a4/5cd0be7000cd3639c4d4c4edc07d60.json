{"additions": 295, "auther_ref": "BTransition_PopCon_81X_v1", "auther_sha": "1e89c4b0192f05c9f10f5425b80dea841e35764d", "author": "diguida", "body": "This code enables to automatically handle condition changes in case of magnetic field transitions using `PopCon` modules. It was developed during 2015.\n\nThe new analyzer requires as template arguments:\n- the payload class\n\nThe new handler does the following:\n1. it retrieves the value of the magnet current from the `RunInfo` payload relative to the IOV valid for the run defined in the configuration\n2. it compares the average current with the threshold set by the user in the configuration\n3. it loads the IOV from the target and the reference tags valid for the run defined in the configuration: the reference tag is chosen from the configuration according to the comparison of the above step\n4. it compares the target and the reference payload hashes using a virtual method: endusers can override it, as they know how to assess whether or not two condition payloads are the same\n5. if the payloads are different, it writes the reference payload into the target tag using `PopCon`.\n\nA complete example is provided for the `EcalADCToGeVConstant` class.\n\n@mmusich @franzoni this is something you might want to watch as well.\n", "branch": "CMSSW_8_1_X", "changed_files": 5, "closed_at": "1477412087", "comments": 8, "commits": 2, "created_at": "1476800003", "deletions": 8, "labels": ["comparison-available", "db-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "ba926f454a983d385df3fb7033d5f5a02fcafd42", "merged_at": "1477412087", "merged_by": "cmsbuild", "milestone": "Next CMSSW_8_1_X", "number": 16253, "release-notes": [], "review_comments": 0, "state": "closed", "title": "New PopCon handler for dealing with B ON/OFF transitions, with test analyzer for EcalADCToGeVConstants", "updated_at": "1477412087", "user": "diguida"}