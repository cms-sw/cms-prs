{"additions": 33, "auther_ref": "readBranchChildrenSummaryOnce", "auther_sha": "bf0f80e7de52194d0bd6173314583bc02de7526e", "author": "Dr15Jones", "body": "The PoolOutputModule was previously reading the per data product\r\nprovenance from the input file each event. This required the\r\nper event provenance to be delay read from the file even in the\r\ncase where the per event provenance was not going to be stored\r\n(such as when writing miniAOD). In a multi-threaded environment\r\nthis caused lock contention.\r\nThe code now reads the summary of the per data product provenance\r\nwhen the input file is opened and only requests it per event\r\nif it is going to be stored per event.\r\n\r\nAlso found a bug where the meta data branch ProductDependencies\r\nwas always empty because the stored object was cleared too early.", "branch": "CMSSW_9_0_X", "changed_files": 2, "closed_at": "1486817601", "comments": 9, "commits": 1, "created_at": "1486690776", "deletions": 7, "labels": ["comparison-available", "core-pending", "orp-pending", "pending-signatures", "tests-approved"], "milestone": "CMSSW_9_0_X", "number": 17478, "release-notes": [], "review_comments": 0, "state": "closed", "title": "PoolOutputModule reads branch provenance only at input file open", "updated_at": "1486817682", "user": "Dr15Jones"}