{"additions": 2532, "auther_ref": "hltJetValidation_15_1_0_pre5", "auther_sha": "0f16bd0a08c57915155df206eccdf3f22218dbc6", "author": "cms-ngt-hlt", "body": "#### PR description:\r\n\r\nThis PR introduces additional steps in the [JetMET validation sequence at HLT](https://github.com/cms-ngt-hlt/cmssw/blob/a18cce47b19726a7495de0542176a0f5a1d7034b/HLTriggerOffline/JetMET/python/Validation/HLTJetMETValidation_cff.py#L7) to produce jet-based validation plots.\r\n\r\nThe new validation step is based on the pre-existing JetTester.cc analyzer, which has been integrated with additional plots while maintaining the original output structure. The plots are saved in the DQM output file under `DQMData/Run 1/HLT/Run summary/JetMET/JetValidation/` (exemplary output at this [link](https://cernbox.cern.ch/s/oAiJp5vqCtT68Q8)). The `makeHLTJetValidationPlots.py` script can be used for saving the validation plots in png/pdf format.\r\n\r\nExamples of plots obtained from `RelValQCD_FlatPt_15_3000HS_14` samples with 200 PU:\r\n\r\n- Response of HLT AK4 PF Puppi Jets in barrel for different pT bins\r\n\r\n<img width=\"250\" height=\"250\" alt=\"image\" src=\"https://github.com/user-attachments/assets/6e05f4d5-359e-40d4-a922-d837105cc341\" />\r\n\r\n-  Scale and Resolution of HLT AK4 PF Puppi Jets as a function of pT gen in different eta regions (barrel, endcap, forward)\r\n\r\n<img width=\"250\" height=\"250\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8ea66d4c-a907-4219-b4cd-fd7308473f27\" /> <img width=\"250\" height=\"250\" alt=\"image\" src=\"https://github.com/user-attachments/assets/6a86de75-3a2a-479a-acce-37f03452b2d7\" />\r\n\r\n- Efficiency and Mistag rate of HLT AK4 PF Puppi Jets as a function of pT in the endcap region \r\n\r\n<img width=\"250\" height=\"250\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4d07d769-1431-4f70-9717-918c84271bc5\" /> <img width=\"250\" height=\"250\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2b6132e6-ecc6-4eed-aef4-610eac8353bb\" />\r\n\r\n#### PR validation:\r\n\r\nThis PR has been tested by running the HLT validation step (after re-running the L1 step on Spring24 samples), the harvesting and plotting with the following commands:\r\n\r\n```\r\ncmsDriver.py Phase2 -s L1,L1TrackTrigger \\\r\n--conditions auto:phase2_realistic_T33 \\\r\n--geometry ExtendedRun4D110 --era Phase2C17I13M9 \\\r\n--eventcontent FEVTDEBUGHLT --datatier GEN-SIM-DIGI-RAW-MINIAOD \\\r\n--customise SLHCUpgradeSimulations/Configuration/aging.customise_aging_1000,Configuration/DataProcessing/Utils.addMonitoring,L1Trigger/Configuration/customisePhase2FEVTDEBUGHLT.customisePhase2FEVTDEBUGHLT,L1Trigger/Configuration/customisePhase2TTOn110.customisePhase2TTOn110 \\\r\n--filein /store/mc/Phase2Spring24DIGIRECOMiniAOD/QCD_Pt-15To3000_TuneCP5_Flat_14TeV-pythia8/GEN-SIM-DIGI-RAW-MINIAOD/PU200_Trk1GeV_140X_mcRun4_realistic_v4-v1/120000/0343a1d8-3026-4bbd-98b4-d07f915bfdc0.root \\\r\n--fileout file:output_Phase2_L1T.root \\\r\n--inputCommands=\"keep *, drop l1tPFJets_*_*_*, drop l1tTrackerMuons_l1tTkMuonsGmt*_*_HLT\" \\\r\n--outputCommands=\"drop l1tTrackerMuons_l1tTkMuonsGmt*_*_HLT\" --mc -n 10\r\n```\r\n\r\n```\r\ncmsDriver.py step2 --step L1P2GT,HLT:@relvalRun4,VALIDATION:@hltValidation \\\r\n--conditions auto:phase2_realistic_T33 \\\r\n--datatier GEN-SIM-DIGI-RAW,DQMIO -n -1 \\\r\n--eventcontent FEVTDEBUGHLT,DQMIO --geometry ExtendedRun4D110 \\\r\n--customise SLHCUpgradeSimulations/Configuration/aging.customise_aging_1000 \\\r\n--era Phase2C17I13M9 \\\r\n--filein file:output_Phase2_L1T.root \\\r\n--fileout file:step2.root \\\r\n--process HLTX --inputCommands='keep *, drop *_hlt*_*_HLT, drop triggerTriggerFilterObjectWithRefs_l1t*_*_HLT'\r\n```\r\n\r\n```\r\ncmsDriver.py step3 \\\r\n-s HARVESTING:@hltValidation --conditions auto:phase2_realistic_T33 \\\r\n--mc --geometry ExtendedRun4D110 --scenario pp \\\r\n--filetype DQM --era Phase2C17I13M9 -n -1  --process HLTX \\\r\n--filein file:step2_inDQM.root \\\r\n--fileout file:step3.root\r\n```\r\n\r\n```\r\nmakeHLTJetValidationPlots.py --file DQM_V0001_R000000001__Global__CMSSW_X_Y_Z__RECO.root --odir hltAK4PFPuppiJets --jet hltAK4PFPuppiJets\r\n```", "branch": "master", "changed_files": 13, "comments": 17, "commits": 10, "created_at": "1754980562", "deletions": 1077, "labels": ["dqm-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved", "ngt"], "milestone": "CMSSW_15_1_X", "number": 48722, "release-notes": [], "review_comments": 17, "state": "open", "title": "[NGT] Jet Validation for Phase-2 HLT", "updated_at": "1755601454", "user": "elenavernazza"}