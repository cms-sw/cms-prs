{"additions": 6, "auther_ref": "fix_UBSAN_issue35036_MUO-TSGFromL2Muon", "auther_sha": "157c420ea9c598b6b15d176971472d2825bdffb9", "author": "CeliaFernandez", "body": "#### PR description:\r\n\r\nFix undefined behavior in `TSGFromL2Muon`, reported in issue [35036](https://github.com/cms-sw/cmssw/issues/35036#issuecomment-907224738). The issue is caused by the `region` pointer, which is only initialized if there is a valid `theRegionBuilder` in the event. The region pointer is then accessed empty in lines 102/104 and 106/108 when given as an input to `trackerSeeds()` and  `clean()` functions.\r\n\r\nTo solve this issue, I added a default constructor without parameters for `RectangularEtaPhiTrackingRegion` and `TrackingRegion` classes. This makes possible to have a minimal initialization for the `region` pointer. The default initialization of `region` is done if `theRegionBuilder` states to `false` by adding an `else` statement in line 93. Then, when the code tries to access it in lines 102/104 and 106/108 `region` is not an empty pointer anymore.\r\n\r\n#### PR validation:\r\n\r\nI verified that the undefined behavior error disappears by running the workflow 11650.0 in `CMSSW_12_1_UBSAN_X_2021-09-13-1100` release.\r\n\r\nThe code have a clean build without errors and pass the basic tests (`runTheMatrix.py -l limited -i all --ibeos`) when running with `CMSSW_12_1_X_2021-09-23-2300`. I have also checked out the dependencies and the code format.\r\n\r\n\r\n", "branch": "master", "changed_files": 3, "comments": 6, "commits": 1, "created_at": "1632834355", "deletions": 0, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_12_1_X", "number": 35452, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix undefined behavior in TSGFromL2 from empty pointer", "updated_at": "1633459803", "user": "CeliaFernandez"}