{"additions": 287, "auther_ref": "add-dd4-assemblies", "auther_sha": "1e620ab431134ebc5c1666cc47e837b2ae37ba2d", "author": "cvuosalo", "body": "Up to now, our DD4hep code has supported Assemblies being used in algorithms but did not support explicit Assembly definitions in XML. This PR  provides support for Assembly definitions in XML.\r\n\r\nThis PR is required for PR #34343 to be able to run.\r\n\r\nSecondly, it also provides support for the tool from PR #34111 for creating the DD4hep ideal geometry description DB payload. This PR is required for #34111 to work.\r\n\r\nThe new Assembly XML syntax is simple. In the Solids section, Assemblies are defined merely with a name:\r\n```\r\n <Assembly name=\"assembly1\"/>\r\n```\r\nThen in the Logical Part section, an Assembly is treated like any other Logical Part. Its material should be \"Air\", but the material is never actually used. The PosPart placement of Assemblies is just like that of other Logical Parts.\r\n\r\n#### PR validation:\r\n\r\nThis PR has been put through the following tests:\r\n* DD4hep simulation reading from XML (wf 11634.911)\r\n* DD4hep simulation reading the ideal geometry description(with Assemblies) from an Sqlite DB (modified wf 11634.911)\r\n* DB payload creation tool (PR 34111) reading the ideal geometry description (stress test, only done for testing purposes)\r\n* Unit tests\r\n\r\nNo backport will be done.\r\n", "branch": "master", "changed_files": 13, "closed_at": "1625758729", "comments": 26, "commits": 1, "created_at": "1625541351", "deletions": 26, "labels": ["code-checks-approved", "fully-signed", "geometry-approved", "orp-approved", "tests-approved", "urgent"], "merge_commit_sha": "db3975593e2357ac72b4d789ff12d1dccf2de9cf", "merged_at": "1625758729", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 34344, "release-notes": [], "review_comments": 4, "state": "closed", "title": "[DD4hep] Add support for Assembly tags in XML and for creating DB payload", "updated_at": "1625758730", "user": "cvuosalo"}