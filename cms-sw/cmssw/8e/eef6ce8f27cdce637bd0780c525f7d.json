{"additions": 679, "auther_ref": "AlignPCLThresholds_PayloadInspector_rehaul", "auther_sha": "dd7795d433132d039b357324d9b968c755837783", "author": "mmusich", "body": "#### PR description:\r\n\r\nWith the activation of the high granularity alignment PCL workflow for data-taking it becomes necessary to be able to inspect the payloads used to configure the various thresholds for updating the tracker alignment tag used in the production Global Tags.\r\nThe goal of this PR is to add such capabilities, by means of the new classes  collected in the file [AlignPCLThresholdsHG_PayloadInspector.cc](https://github.com/cms-sw/cmssw/compare/master...mmusich:cmssw:AlignPCLThresholds_PayloadInspector_rehaul?expand=1#diff-8a9016c5edbd427e0eacad912308b4c0ee75a44eeb4d734c90e5caa2287c1897).\r\nIn addition I provide a comparator class also for the low granularity case in [AlignPCLThresholds_PayloadInspector.cc](https://github.com/cms-sw/cmssw/compare/master...mmusich:cmssw:AlignPCLThresholds_PayloadInspector_rehaul?expand=1#diff-14ea2ff35d573061232509a7b642a0c4016ef2ee571fa6c02e4302b6531c0d7d).\r\nCommon utility methods are moved out from the plugins file and put into an helper header file.\r\nUnit tests are improved in order to test the new functionalities.\r\n\r\n#### PR validation:\r\n\r\nI've run successfully the unit tests with:\r\n\r\n```console\r\nscram b runtests_testAlignPCLThresholdsPayloadInspector\r\n```\r\n\r\nalso using [this script](https://github.com/cms-sw/cmssw/compare/master...mmusich:cmssw:AlignPCLThresholds_PayloadInspector_rehaul?expand=1#diff-ca85a73674aeec8757d11b5ac4de828b28f0e169c6ea9698011d078134d29116) I produced the following plots:\r\n\r\n|  | Display | Compare |   \r\n| ---- |  ---- | ---- | \r\n| `AlignPCLThresholds` |  ![image](https://user-images.githubusercontent.com/5082376/193932826-3ed72bd3-1217-4cdd-aa75-cea6c99fe4a8.png) |  ![image](https://user-images.githubusercontent.com/5082376/193932919-474638a0-4234-4cc8-9cf5-10604a611db8.png) |\r\n| `AlignPCLThresholdsHG` | ![image](https://user-images.githubusercontent.com/5082376/193933003-cf4f6f0a-ab58-46b2-8ea5-8f585536c77f.png) | ![image](https://user-images.githubusercontent.com/5082376/193933079-2dd6a5bf-0286-44bd-91b9-9b759036ce7b.png)|\r\n \r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nN/A\r\n\r\n\r\n", "branch": "master", "changed_files": 7, "closed_at": "1665027769", "comments": 7, "commits": 3, "created_at": "1664911609", "deletions": 68, "labels": ["fully-signed", "tests-approved", "db-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "53621b13913cfeaa52925d713f17e5742332c665", "merged_at": "1665027769", "merged_by": "cmsbuild", "milestone": "CMSSW_12_6_X", "number": 39615, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Improve `AlignPCLThresholds` payload inspector", "updated_at": "1665027770", "user": "mmusich"}