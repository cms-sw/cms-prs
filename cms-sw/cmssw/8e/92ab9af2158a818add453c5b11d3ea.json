{"additions": 565, "auther_ref": "optionalPythonParameters", "auther_sha": "2dda43d4d08eae350e194caeafe60e0e89a39cd1", "author": "Dr15Jones", "body": "#### PR description:\r\n\r\nAdded the ability to declare parameters in PSets, EDProducers, etc without giving actual values to those parameters. The three types are\r\n- `required`: if not set will throw a python exception during serialization to C++\r\n- `optional` : if not set the parameter will not be serialized to C++\r\n- `obsolete` : parameter is never serialzed to C++\r\n\r\nThis allows the following code\r\n```python\r\np = cms.PSet( foo = cms.required.int32, bar = cms.optional.untracked.string)\r\n\r\np.foo = 12\r\np.bar = \"stuff\"\r\n```\r\n\r\nThis facility is now used to define the standard top level PSets of `cms.Process` : options, maxEvents and maxLuminosityBlocks.\r\n\r\nIf more than one type is allowed for a given PSet label, one can use the `allowed` mechanism to specify the types:\r\n```python\r\n   p = cms.PSet( foo = cms.required.allowed(cms.int32, cms.string) )\r\n```\r\n\r\nTo make it easier to modify multiple parameters within a PSet, one can now use a `dict` to modify a given set of parameters within a PSet:\r\n\r\n```python\r\np.options = dict(numberOfThreads = 4, numberOfStreams = 2)\r\n```\r\n\r\nOn the C++ side, the `fillDescriptions` system was updated to generate `cms.required` and `cms.optional` entries in the `_cfi.py` files.\r\n#### PR validation:\r\n\r\nAll framework related tests pass.", "branch": "master", "changed_files": 29, "closed_at": "1560840050", "comments": 56, "commits": 10, "created_at": "1560349159", "deletions": 394, "labels": ["analysis-approved", "code-checks-approved", "comparison-available", "core-approved", "fully-signed", "operations-approved", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "c649ae39db4f245ef92d77cc2a881fe01d8499d7", "merged_at": "1560840050", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 27191, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Optional python parameters", "updated_at": "1561008905", "user": "Dr15Jones"}