{"additions": 5, "auther_ref": "PrefiringDec2020_113X", "auther_sha": "1f5529cabf3226d2e406137cf1f586466e2334c3", "author": "lathomas", "body": "#### PR description:\r\n\r\nThis PR provides a few updates of the L1 prefiring weight producer. \r\n\r\n1. Protection against muon jets (only feature right now) \r\nIn the L1 prefiring weight producer, a customized protection is added to veto jets mostly made of muons that have very little chance to prefire (since prefiring is related to the jet EM energy). \r\nThe default value is no protection, but the recommended value is = 0.5. \r\nPhysics wise, the change has often a negligible impact, except for (very) precise measurements including muons in the final states (e.g. Wmass) or final states involving high pt forward muons (e.g. Z'->mumu).\r\n\r\n2. We have now prefiring maps for Ultra Legacy 2017 (update of the following root file):  \r\nhttps://github.com/cms-data/PhysicsTools-PatUtils/blob/master/L1PrefiringMaps.root\r\nCould you indicate me how to proceed? \r\n\r\n3. In order to update the maps and switch on the muon jet protection for next NANOAOD productions in 106X, some lines should be added bellow behind a new process/era modifier: \r\nhttps://github.com/cms-sw/cmssw/blob/master/PhysicsTools/NanoAOD/python/triggerObjects_cff.py#L222\r\nCould you advise what modifier to use? \r\n\r\n\r\n\r\n#### PR validation:\r\n\r\nThe code as is (without modifier) generates no difference in workflows: the producer is only called in the NANO step and has currently the same settings as before. \r\n\r\nValidation of the muon protection (setting JetMaxMuonFraction = 0.5) was performed on a QCD and a high mass Z->mumu samples. \r\nQCD is untouched, prefiring weights increase as expected in ZMuMu. \r\n![prefQCDHT500To700](https://user-images.githubusercontent.com/4995867/102618627-6c40e400-413b-11eb-8ddd-8829bc64f7ee.png)\r\n![prefPRzmumum400to800](https://user-images.githubusercontent.com/4995867/102618628-6cd97a80-413b-11eb-9f84-b6102f2d85d4.png)\r\n\r\nThe new maps were presented at this meeting: \r\nhttps://indico.cern.ch/event/985369/#3-ul2017-prefiring-maps-tbc\r\n\r\n<!-- Please replace this text with a description of which tests have been performed to verify the correctness of the PR, including the eventual addition of new code for testing like unit tests, test configurations, additions or updates to the runTheMatrix test workflows -->\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nNot a backport. I understand a backport is needed for 10_6_X. Do we also need one for 11_2? Thanks ! \r\n", "branch": "master", "changed_files": 1, "closed_at": "1611525913", "comments": 16, "commits": 1, "created_at": "1608293939", "deletions": 1, "labels": ["code-checks-approved", "orp-pending", "pending-signatures", "reconstruction-pending", "tests-approved", "xpog-pending"], "milestone": "CMSSW_11_3_X", "number": 32542, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Updates to the L1 prefiring weight producer", "updated_at": "1611525913", "user": "lathomas"}