{"additions": 20, "auther_ref": "alca-add_relval_GTs_12_2_X", "auther_sha": "5306e7f4b34dc8adadd38dd4dfefa9b1f73df552", "author": "francescobrivio", "body": "#### PR description:\r\nBackport of #37171\r\nAs reported in https://github.com/cms-sw/cmssw/pull/37653#issuecomment-1108311119 (and later in the [AlCaDB CMS Talk forum](https://cms-talk.web.cern.ch/t/exception-of-category-conditiondatabase/9659) by @Martin-Grunewald), since datataking switched to CMSSW_12_3_X (and the boost version in use is now 1_78) the HLT tests in the 12_2_X IBs are failing because they are still using the `auto:run3_hlt` and `auto:run3_data_prompt` GTs (which have an infinite snapshot).\r\n\r\nThis PR introduces, for the 12_2_X cycle, the same \"relval\" autoCond entries for run3 data there were already introduced in 12_3_X and 12_4_X, namely:\r\n - `auto:run3_hlt_relval` --> GT: [122X_dataRun3_HLT_relval_v2](https://cms-conddb.cern.ch/cmsDbBrowser/search/Prod/122X_dataRun3_HLT_relval_v2)\r\n - `auto:run3_data_relval` --> GT: [122X_dataRun3_relval_v2](https://cms-conddb.cern.ch/cmsDbBrowser/search/Prod/122X_dataRun3_relval_v2)\r\n\r\nFollowing @missirol suggestion I also updated `autoCondHLT.py` to use the newly created GTs.\r\n\r\n**Edit:**\r\nAfter some discussion in @cms-sw/alca-l2 we decided it is better NOT to have \"open-ended\" GTs in the release as they can cause all sort of troubles in the IBs and also possibly reproducibility issues.\r\nSo I updated all the online GTs (HLT/Express/Prompt) to a \"frozen\" version, _i.e._ with a fixed snapshot at the time of the last run processed with 12_2_X in Tier0 (as announced [in this CMSTalk post](https://cms-talk.web.cern.ch/t/change-the-tier-0-production-node-configuration-to-use-cmssw-12-3-0/9337)): Run [350279](https://cmsoms.cern.ch/cms/runs/report?cms_run=350279) - Snapshot: `2022-04-12 15:15:00`\r\n\r\n\r\nDifferences wrt the hlt and offline Run3 data GTs are:\r\n**Run 3 HLT RelVals**\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/122X_dataRun3_HLT_v4/122X_dataRun3_HLT_relval_v2\r\n\r\n**Run 3 data RelVals**\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/122X_dataRun3_v3/122X_dataRun3_relval_v2\r\n\r\n**Run 3 HLT**\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/122X_dataRun3_HLT_v4/122X_dataRun3_HLT_frozen_v1\r\n\r\n**Run 3 Express**\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/122X_dataRun3_Express_v3/122X_dataRun3_Express_frozen_v1\r\n\r\n**Run 3 Prompt**\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/122X_dataRun3_Prompt_v3/122X_dataRun3_Prompt_frozen_v1\r\n\r\n\r\n#### PR validation:\r\nCode compiles and I run the same HLT test that is running in the IBs (thanks @missirol for the recipe):\r\n```\r\ngit cms-addpkg HLTrigger/Configuration\r\ncd HLTrigger/Configuration/test\r\n./runAll.csh dev\r\n```\r\nAs expected this produces:\r\n```\r\n16:23:01 cmsRun RelVal_RECO_GRun_DATA.py >& RelVal_RECO_GRun_DATA.log\r\n191.193u 35.487s 3:09.59 119.5%    0+0k 4524536+79240io 13954pf+0w\r\n16:26:11 exit status: 0\r\n```\r\nProving that the updates are correct.\r\n\r\n#### Backport\r\nbackport of #37171\r\n", "branch": "CMSSW_12_2_X", "changed_files": 2, "closed_at": "1651736262", "comments": 31, "commits": 2, "created_at": "1650897703", "deletions": 16, "labels": ["alca-approved", "hlt-approved", "fully-signed", "tests-approved", "orp-approved", "backport-ok"], "merge_commit_sha": "4ed73ff73a2d74a0ba0455fcf120de08161352f2", "merged_at": "1651736262", "merged_by": "cmsbuild", "milestone": "CMSSW_12_2_X", "number": 37670, "release-notes": [], "review_comments": 10, "state": "closed", "title": "[12_2_X] Add Run3 relval GTs and use fixed snapshot in online GTs", "updated_at": "1651736263", "user": "francescobrivio"}