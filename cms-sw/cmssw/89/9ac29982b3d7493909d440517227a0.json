{"additions": 585, "auther_ref": "geant10mt_step1", "auther_sha": "5a268409d79bc8c2210c70a5d1b57afa4fe07b4d", "author": "makortel", "body": "This PR takes first steps towards using Geant4MT in CMSSW. Most modifications are in OscarMTProducer and in new MT-specific classes in order to not interfere with the current OscarProducer. DDDWorld was, however, slightly modified, but the changes should be fine for OscarProducer.\n\nWhat is implemented:\n- std::thread launched from OscarMTProducer::globalBeginRun() for the Geant4 \"master thread\"\n  - Encapsulated in OscarMTMasterThread (edm::RunCache of OscarMTProducer)\n  - synchronization with the CMSSW thread and the master thread with mutex+condition variable\n- Geant4 initialization in the master thread (RunManagerMT)\n- Sharing geometry and physics list to RunManagerMTWorker, run in the CMSSW threads\n\nChanges have been tested such that when splitting the step1 of wf 1.0 to GEN and SIM parts, the SIM job does not crash with OscarMTProducer.\n\nShould not affect regular OscarProducer.\n\nPresented in Simulation meeting June 24 2014 https://indico.cern.ch/event/323926/\n\nFYI @civanch, @davidlange6, @Dr15Jones\n", "branch": "CMSSW_7_2_X", "changed_files": 12, "closed_at": "1403697784", "comments": 3, "commits": 24, "created_at": "1403607327", "deletions": 612, "labels": ["comparison-pending", "fully-signed", "simulation-approved", "tests-pending"], "merge_commit_sha": "d20bffa86d6e6fe6a474e1b81dc305df095cf6be", "merged_at": "1403697784", "merged_by": "davidlange6", "milestone": "CMSSW_7_2_0_pre1", "number": 4370, "release-notes": [], "review_comments": 0, "state": "closed", "title": "First steps for using Geant4 MT", "updated_at": "1476951469", "user": "makortel"}