{"additions": 120, "auther_ref": "g4particles_Showers", "auther_sha": "d98a2fa6bf55256d8d58b06506c1dcf162673aca", "author": "civanch", "body": "This PR was discussed at the SIM meeting: \r\nhttps://indico.cern.ch/event/702324/contributions/2885360/attachments/1596130/2528121/VI20180206.pdf \r\n\r\nSeveral static methods are added to identify Geant4 particle type. These methods are used to select shower library branches with EM or hadronic hits. Hyperons and exotic particles will not any more treated as \"hadrons\", they should decay and only decay products will provide showers. Due to that, in many workflows one can expect different simulation histories and only statistical comparison of results is possible.\r\n\r\nCastorSD class was changed more in order to use this opportunity when results are not identical:\r\n1) many commented lines removed; 2) fabs -> std::abs 3) early check of primary particle type and do not perform computations if a particle is not for shower library and cannot produce Cerenkov light.\r\n\r\nAdditionally some commented lines and unused variables are removed in other classes.\r\n", "branch": "master", "changed_files": 13, "comments": 37, "commits": 4, "created_at": "1518011252", "deletions": 254, "labels": ["code-checks-approved", "comparison-available", "hold", "orp-pending", "pending-signatures", "simulation-approved", "tests-approved"], "milestone": "CMSSW_10_1_X", "number": 22145, "release-notes": [], "review_comments": 3, "state": "open", "title": "Geant4 Sensitive Detectors update 4: revised selection of particle type for shower libraries", "updated_at": "1519199029", "user": "civanch"}