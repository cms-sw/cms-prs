{"additions": 220, "auther_ref": "from-CMSSW_11_3_X_2020-12-04-1100", "auther_sha": "8012f919e022bd77cbfa6ad2fa392e7e100362cc", "author": "rmanzoni", "body": "#### PR description:\r\n\r\nThe proposed filter allows to select events where a given particle originates **either directly \r\n(daughter) or indirectly ((grand)^n-daughter)**  from a list of possible ancestors.\r\nIt also allows to filter on the immediate daughters of the said particle.\r\nKinematic selections can also be applied on the particle and its daughters.\r\n\r\nUse case example: select a jpsi->mumu coming from *any* b hadron however long the decay chain is.\r\n\r\nThis is meant to be used for a MC production for an analysis suing UL samples, so a backport to 106X will be submitted too.\r\n\r\nThis filter is inspired to \r\nhttps://github.com/cms-sw/cmssw/blob/master/GeneratorInterface/GenFilters/plugins/PythiaFilterMultiMother.cc\r\nbut it enhances the capabilities by allowing to walk back the ancestry.\r\n\r\n#### PR validation:\r\n\r\nChecked that the code compiles and when runs as intended, e.g.\r\n```\r\n\tJ/psi(1S) [-13, 13] pt 8.35,      genealogy:  <--  chi(c0)(1P) <--  B(c)+\r\n\tJ/psi(1S) [-13, 13] pt 21.24,     genealogy:  <--  chi(c2)(1P) <--  B(c)+\r\n        J/psi(1S) [-13, 13, 22] pt 9.16,  genealogy:  <--  B(c)+\r\n```\r\n\r\nFollowed the instructions here\r\nhttp://cms-sw.github.io/PRWorkflow.html\r\n\r\nThe report of `runTheMatrix.py -l limited -i all --ibeos` is attached\r\n[runall-report-step123-.log](https://github.com/cms-sw/cmssw/files/5643401/runall-report-step123-.log)\r\n\r\nCode checks have been performed and included in the commit.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nA backport to 106X will follow.\r\nSuch backport is needed to request the production of UL samples.\r\n", "branch": "master", "changed_files": 1, "closed_at": "1607382494", "comments": 8, "commits": 3, "created_at": "1607090196", "deletions": 0, "labels": ["code-checks-approved", "fully-signed", "generators-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "8df672e13b731c225b8a15eec703a9849dd0efeb", "merged_at": "1607382494", "merged_by": "cmsbuild", "milestone": "CMSSW_11_3_X", "number": 32389, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Add new Pythia filter to select particles based on ancestor (i.e. further back than mother)", "updated_at": "1607382494", "user": "rmanzoni"}