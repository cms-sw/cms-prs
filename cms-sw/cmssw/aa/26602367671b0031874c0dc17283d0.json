{"additions": 19, "auther_ref": "fc-prodlikeWF", "auther_sha": "f2cb77aa2e07642d4fb1357085238c3ccf237afd", "author": "fabiocos", "body": "#### PR description:\r\n\r\nThis PR proposes a special set of Run3 (2021) workflows in a \"production-like\" setup, mimicking what already available for Phase2 by @kpedro88 . The purpose is to provide a tool for performance evaluation ready out-of-the-box, and it is not added to the standard set of workflows to avoid inflating it further for such a specific use case (so ```--what upgrade``` option needs to be invoked).\r\n\r\n#### PR validation:\r\n\r\nThe added configuration cannot be tested directly by the bot. Here is the output:\r\n\r\n```\r\n12:35 cmsdev25 653> runTheMatrix.py --what upgrade -l 11634.21 --dryRun\r\nignoring non-requested file relval_standard\r\nignoring non-requested file relval_highstats\r\nignoring non-requested file relval_pileup\r\nignoring non-requested file relval_generator\r\nignoring non-requested file relval_extendedgen\r\nignoring non-requested file relval_production\r\nignoring non-requested file relval_ged\r\nprocessing relval_upgrade\r\nignoring non-requested file relval_2017\r\nignoring non-requested file relval_2026\r\nignoring non-requested file relval_identity\r\nignoring non-requested file relval_machine\r\nignoring non-requested file relval_unsch\r\nignoring non-requested file relval_premix\r\nRunning in 4 thread(s)\r\n\r\nPreparing to run 11634.21 TTbar_14TeV+TTbar_14TeV_TuneCUETP8M1_2021_GenSimFull+DigiFull_ProdLike_2021+RecoFull_ProdLike_2021+MiniAODFullGlobal_ProdLike_2021\r\n\r\n# in: /build/fabiocos/111X/prodlikeWF/CMSSW_11_1_X_2020-01-21-2300/work dryRun for 'cd 11634.21_TTbar_14TeV+TTbar_14TeV_TuneCUETP8M1_2021_GenSimFull+DigiFull_ProdLike_2021+RecoFull_ProdLike_2021+MiniAODFullGlobal_ProdLike_2021\r\n cmsDriver.py TTbar_14TeV_TuneCUETP8M1_cfi  --conditions auto:phase1_2021_realistic -n 10 --era Run3 --eventcontent FEVTDEBUG --relval 9000,100 -s GEN,SIM --datatier GEN-SIM --beamspot Run3RoundOptics25ns13TeVLowSigmaZ --geometry DB:Extended --fileout file:step1.root  > step1_TTbar_14TeV+TTbar_14TeV_TuneCUETP8M1_2021_GenSimFull+DigiFull_ProdLike_2021+RecoFull_ProdLike_2021+MiniAODFullGlobal_ProdLike_2021.log  2>&1\r\n \r\n\r\n# in: /build/fabiocos/111X/prodlikeWF/CMSSW_11_1_X_2020-01-21-2300/work dryRun for 'cd 11634.21_TTbar_14TeV+TTbar_14TeV_TuneCUETP8M1_2021_GenSimFull+DigiFull_ProdLike_2021+RecoFull_ProdLike_2021+MiniAODFullGlobal_ProdLike_2021\r\n cmsDriver.py step2  --conditions auto:phase1_2021_realistic -s DIGI,L1,DIGI2RAW,HLT:@relval2021 --datatier GEN-SIM-DIGI-RAW -n 10 --geometry DB:Extended --era Run3 --eventcontent RAWSIM --filein  file:step1.root  --fileout file:step2.root  > step2_TTbar_14TeV+TTbar_14TeV_TuneCUETP8M1_2021_GenSimFull+DigiFull_ProdLike_2021+RecoFull_ProdLike_2021+MiniAODFullGlobal_ProdLike_2021.log  2>&1\r\n \r\n\r\n# in: /build/fabiocos/111X/prodlikeWF/CMSSW_11_1_X_2020-01-21-2300/work dryRun for 'cd 11634.21_TTbar_14TeV+TTbar_14TeV_TuneCUETP8M1_2021_GenSimFull+DigiFull_ProdLike_2021+RecoFull_ProdLike_2021+MiniAODFullGlobal_ProdLike_2021\r\n cmsDriver.py step3  --conditions auto:phase1_2021_realistic -n 10 --era Run3 --eventcontent AODSIM --runUnscheduled  -s RAW2DIGI,L1Reco,RECO,RECOSIM --datatier AODSIM --geometry DB:Extended --filein  file:step2.root  --fileout file:step3.root  > step3_TTbar_14TeV+TTbar_14TeV_TuneCUETP8M1_2021_GenSimFull+DigiFull_ProdLike_2021+RecoFull_ProdLike_2021+MiniAODFullGlobal_ProdLike_2021.log  2>&1\r\n \r\n\r\n# in: /build/fabiocos/111X/prodlikeWF/CMSSW_11_1_X_2020-01-21-2300/work dryRun for 'cd 11634.21_TTbar_14TeV+TTbar_14TeV_TuneCUETP8M1_2021_GenSimFull+DigiFull_ProdLike_2021+RecoFull_ProdLike_2021+MiniAODFullGlobal_ProdLike_2021\r\n cmsDriver.py step4  --conditions auto:phase1_2021_realistic -n 10 --era Run3 --eventcontent MINIAODSIM --runUnscheduled  -s PAT --datatier MINIAODSIM --geometry DB:Extended --filein  file:step3.root  --fileout file:step4.root  > step4_TTbar_14TeV+TTbar_14TeV_TuneCUETP8M1_2021_GenSimFull+DigiFull_ProdLike_2021+RecoFull_ProdLike_2021+MiniAODFullGlobal_ProdLike_2021.log  2>&1\r\n \r\n11634.21_TTbar_14TeV+TTbar_14TeV_TuneCUETP8M1_2021_GenSimFull+DigiFull_ProdLike_2021+RecoFull_ProdLike_2021+MiniAODFullGlobal_ProdLike_2021 Step0-PASSED Step1-PASSED Step2-PASSED Step3-PASSED  - time date Sun Jan 26 12:35:14 2020-date Sun Jan 26 12:35:14 2020; exit: 0 0 0 0\r\n1 1 1 1 tests passed, 0 0 0 0 failed\r\n\r\n```", "branch": "master", "changed_files": 2, "closed_at": "1580143927", "comments": 42, "commits": 6, "created_at": "1579624303", "deletions": 3, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "pdmv-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "ceae341a90c49983371ead65bfac3f3cbd3cb6d2", "merged_at": "1580143927", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 28773, "release-notes": [], "review_comments": 3, "state": "closed", "title": "PyReleaseValidation production-like workflow for Run3 (2021)", "updated_at": "1580143927", "user": "fabiocos"}