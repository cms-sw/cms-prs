{"additions": 4, "auther_ref": "fc-fixPost27449", "auther_sha": "1f47b0da25cd6df6abaad08926662f7a59abb762", "author": "fabiocos", "body": "#### PR description:\r\n\r\nThe integration of #27449 has removed several obsolete upgrade geometry scenarios, among them D21, and this causes the unit test in SLHCUpgradeSimulations/Geometry to fail. This PR updates the test to the supported scenario D41.\r\n\r\n#### PR validation:\r\n\r\n```\r\n15:14 cmsdev25 2698> scram b runtests\r\nReading cached build data\r\n>> Local Products Rules ..... started\r\n>> Local Products Rules ..... done\r\n>> Entering Package SLHCUpgradeSimulations/Geometry\r\n>> Creating project symlinks\r\n>> Leaving Package SLHCUpgradeSimulations/Geometry\r\n>> Package SLHCUpgradeSimulations/Geometry built\r\nCreating test log file logs/slc7_amd64_gcc700/testing.log\r\nPackage SLHCUpgradeSimulations/Geometry: Running test testPhase2PixelNtuple\r\n \r\n===== Test \"testPhase2PixelNtuple\" ====\r\nargument 0: testPhase2PixelNtuple\r\nargument 1: /bin/bash\r\nargument 2: SLHCUpgradeSimulations/Geometry/test\r\nargument 3: phase2_digi_reco_pixelntuple.sh\r\nshell is: /bin/bash\r\nCurrent directory is: /build/fabiocos/110X/code-fix/CMSSW_11_0_X_2019-07-11-1100\r\ntopdir is: /build/fabiocos/110X/code-fix/CMSSW_11_0_X_2019-07-11-1100\r\ntestdir is: /build/fabiocos/110X/code-fix/CMSSW_11_0_X_2019-07-11-1100/src/SLHCUpgradeSimulations/Geometry/test\r\ntmpdir is: /build/fabiocos/110X/code-fix/CMSSW_11_0_X_2019-07-11-1100/tmp/slc7_amd64_gcc700\r\ntestbin is: /build/fabiocos/110X/code-fix/CMSSW_11_0_X_2019-07-11-1100/test/slc7_amd64_gcc700\r\nRunning script: /build/fabiocos/110X/code-fix/CMSSW_11_0_X_2019-07-11-1100/src/SLHCUpgradeSimulations/Geometry/test/phase2_digi_reco_pixelntuple.sh\r\n11-Jul-2019 15:14:50 CEST  Initiating request to open file root://eoscms.cern.ch//eos/cms/store/relval/CMSSW_10_6_0_patch2/RelValSingleMuPt10/GEN-SIM/106X_upgrade2023_realistic_v3_2023D41noPU-v1/10000/7377ED92-245C-CC4D-9F05-25ABB5522A08.root\r\n%MSG-w XrdAdaptorInternal:  file_open 11-Jul-2019 15:14:51 CEST pre-events\r\nFailed to open file at URL root://eoscms.cern.ch:1094//eos/cms/store/relval/CMSSW_10_6_0_patch2/RelValSingleMuPt10/GEN-SIM/106X_upgrade2023_realistic_v3_2023D41noPU-v1/10000/7377ED92-245C-CC4D-9F05-25ABB5522A08.root.\r\n%MSG\r\n%MSG-w XrdAdaptorInternal:  file_open 11-Jul-2019 15:14:51 CEST pre-events\r\nFailed to open file at URL root://eoscms.cern.ch:1094//eos/cms/store/relval/CMSSW_10_6_0_patch2/RelValSingleMuPt10/GEN-SIM/106X_upgrade2023_realistic_v3_2023D41noPU-v1/10000/7377ED92-245C-CC4D-9F05-25ABB5522A08.root?tried=.\r\n%MSG\r\n11-Jul-2019 15:14:51 CEST  Fallback request to file root://xrootd-cms.infn.it//store/relval/CMSSW_10_6_0_patch2/RelValSingleMuPt10/GEN-SIM/106X_upgrade2023_realistic_v3_2023D41noPU-v1/10000/7377ED92-245C-CC4D-9F05-25ABB5522A08.root\r\n[2019-07-11 15:14:56.800621 +0200][Warning][XRootDTransport   ] [[2620:6a:0:8420::a5]:17287 #0.0] Logged in, accepting empty login response.\r\n%MSG-w XrdAdaptor:  file_open 11-Jul-2019 15:14:56 CEST pre-events\r\nData is served from [2620 instead of original site infn.it\r\n%MSG\r\n11-Jul-2019 15:14:59 CEST  Successfully opened file root://xrootd-cms.infn.it//store/relval/CMSSW_10_6_0_patch2/RelValSingleMuPt10/GEN-SIM/106X_upgrade2023_realistic_v3_2023D41noPU-v1/10000/7377ED92-245C-CC4D-9F05-25ABB5522A08.root\r\nBegin processing the 1st record. Run 1, Event 2, LumiSection 1 on stream 0 at 11-Jul-2019 15:16:42.773 CEST\r\nBegin processing the 2nd record. Run 1, Event 8, LumiSection 1 on stream 0 at 11-Jul-2019 15:16:55.987 CEST\r\nBegin processing the 3rd record. Run 1, Event 7, LumiSection 1 on stream 0 at 11-Jul-2019 15:17:03.432 CEST\r\nBegin processing the 4th record. Run 1, Event 10, LumiSection 1 on stream 0 at 11-Jul-2019 15:17:10.379 CEST\r\nBegin processing the 5th record. Run 1, Event 9, LumiSection 1 on stream 0 at 11-Jul-2019 15:17:17.487 CEST\r\nBegin processing the 6th record. Run 1, Event 4, LumiSection 1 on stream 0 at 11-Jul-2019 15:17:24.765 CEST\r\nBegin processing the 7th record. Run 1, Event 11, LumiSection 1 on stream 0 at 11-Jul-2019 15:17:32.851 CEST\r\nBegin processing the 8th record. Run 1, Event 5, LumiSection 1 on stream 0 at 11-Jul-2019 15:17:40.009 CEST\r\nBegin processing the 9th record. Run 1, Event 12, LumiSection 1 on stream 0 at 11-Jul-2019 15:17:47.353 CEST\r\nBegin processing the 10th record. Run 1, Event 16, LumiSection 1 on stream 0 at 11-Jul-2019 15:17:54.330 CEST\r\n11-Jul-2019 15:18:02 CEST  Closed file root://xrootd-cms.infn.it//store/relval/CMSSW_10_6_0_patch2/RelValSingleMuPt10/GEN-SIM/106X_upgrade2023_realistic_v3_2023D41noPU-v1/10000/7377ED92-245C-CC4D-9F05-25ABB5522A08.root\r\n\r\n=============================================\r\n\r\nMessageLogger Summary\r\n\r\n type     category        sev    module        subroutine        count    total\r\n ---- -------------------- -- ---------------- ----------------  -----    -----\r\n    1 XrdAdaptor           -w file_open                              1        1\r\n    2 XrdAdaptorInternal   -w file_open                              2        2\r\n    3 fileAction           -s file_close                             1        1\r\n    4 fileAction           -s file_open                              3        3\r\n\r\n type    category    Examples: run/evt        run/evt          run/evt\r\n ---- -------------------- ---------------- ---------------- ----------------\r\n    1 XrdAdaptor           pre-events                        \r\n    2 XrdAdaptorInternal   pre-events       pre-events       \r\n    3 fileAction           PostGlobalEndRun                  \r\n    4 fileAction           pre-events       pre-events       pre-events\r\n\r\nSeverity    # Occurrences   Total Occurrences\r\n--------    -------------   -----------------\r\nWarning                 3                   3\r\nSystem                  4                   4\r\n\r\ndropped waiting message count 0\r\nstatus = 0\r\n\r\n---> test testPhase2PixelNtuple succeeded\r\n \r\n^^^^ End Test testPhase2PixelNtuple ^^^^\r\n>> Tests for package SLHCUpgradeSimulations/Geometry ran.\r\n```", "branch": "master", "changed_files": 1, "closed_at": "1562867766", "comments": 18, "commits": 1, "created_at": "1562844286", "deletions": 4, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "geometry-approved", "orp-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "84e97bb0c0b322de8a2c3af0c809a4b3b87ed4b9", "merged_at": "1562867766", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 27499, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix SLHCUpgradeSimulations/Geometry unit test after geometry scenarios cleaning", "updated_at": "1562869691", "user": "fabiocos"}