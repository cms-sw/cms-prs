{"additions": 6, "auther_ref": "106_TryToFixRECOPATBParking", "auther_sha": "4e7dc735570a449ab4e2115f1e5905521a83c8db", "author": "srimanob", "body": "#### PR description:\r\nWith CMSSW_10_2_26, we can't run RECO and PAT together (*). It seems the issue comes from \r\nhttps://github.com/cms-sw/cmssw/blob/CMSSW_10_6_X/RecoEgamma/EgammaElectronProducers/python/lowPtGsfElectrons_cff.py#L55\r\nwhich seems to effect also RECO step. It normally works if we split between RECO and PAT, since we don't overwrite RECO lowPtGsfElectrons sequence.\r\n\r\nThis is the first try to make it runs together by moving modifier under PAT, and create tmp task for lowPtGsfElectron to avoid overlapping with RECO.\r\n\r\n#### PR validation:\r\nRun with the follow sequence works fine.\r\n`cmsDriver.py RECO --conditions 106X_dataRun2_v35 --customise Configuration/DataProcessing/RecoTLR.customisePostEra_Run2_2018 --datatier AOD,MINIAOD --era Run2_2018,bParking --eventcontent AOD,MINIAOD --filein 'file:/eos/cms/store/data/Run2018A/ParkingBPH1/RAW/v1/000/316/995/00000/FEF59114-4662-E811-8F37-FA163ECB370B.root' --fileout out.root --nThreads 8 --number 10 --scenario pp --step RAW2DIGI,L1Reco,RECO,PAT --runUnscheduled --data --procModifiers run2_miniAOD_UL --no_exec`\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\nThis is the first PR in 10_6. Forward port can be done when agree on how to fix.\r\n\r\n(*)\r\n----- Begin Fatal Exception 15-Jun-2021 17:59:16 CEST-----------------------\r\nAn exception of category 'ProductNotFound' occurred while\r\n   [0] Processing  Event run: 316995 lumi: 289 event: 436103054 stream: 4\r\n   [1] Running path 'AODoutput_step'\r\n   [2] Prefetching for module PoolOutputModule/'AODoutput'\r\n   [3] Prefetching for module LowPtGsfElectronIDProducer/'lowPtGsfElectronID'\r\n   [4] Calling method for module LowPtGsfElectronFinalizer/'lowPtGsfElectrons'\r\nException Message:\r\nPrincipal::getByToken: Found zero products matching all criteria\r\nLooking for type: std::vector<reco::GsfElectron>\r\nLooking for module label: lowPtGsfElectrons\r\nLooking for productInstanceName: \r\n\r\n   Additional Info:\r\n      [a] If you wish to continue processing events after a ProductNotFound exception,\r\nadd \"SkipEvent = cms.untracked.vstring('ProductNotFound')\" to the \"options\" PSet in the configuration.\r\n\r\n----- End Fatal Exception -------------------------------------------------\r\n\r\n", "branch": "CMSSW_10_6_X", "changed_files": 2, "closed_at": "1623932110", "comments": 9, "commits": 1, "created_at": "1623772508", "deletions": 4, "labels": ["orp-pending", "pending-signatures", "reconstruction-rejected", "tests-approved"], "milestone": "CMSSW_10_6_X", "number": 34145, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Try to fix RECO+PAT sequence for bParking processing", "updated_at": "1623932110", "user": "srimanob"}