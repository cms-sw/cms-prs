{"additions": 9970, "auther_ref": "devel_hltUtils_132X", "auther_sha": "2aea2e7276c431e49abda0bf6fc6b199abd9decb", "author": "missirol", "body": "backport of #42967\r\nbackport of #42976\r\n\r\n#### PR description:\r\n\r\nFrom the description of #42967:\r\n\r\n>This PR adds a few utilities related to the maintenance of the HLT menus.\r\n>\r\n> - `hltPrintMenuVersions` is a modified version of a script shared by @silviodonato to print to stdout metadata (\"save comment\" and \"release template\") of each version of a given HLT menu in ConfDB. I have added some command-line options to it using `argparse` (see `--help` for more info). Some examples below.\r\n>   ```bash\r\n>   hltPrintMenuVersions /dev/CMSSW_13_2_0/Fake2 -c 'cms_hlt_v3_r/convertMe!@cmsr'\r\n>   hltPrintMenuVersions /dev/CMSSW_13_2_0/Fake2 --db run3                        \r\n>   hltPrintMenuVersions /dev/CMSSW_10_0_0/Fake2 --db run2\r\n>   hltPrintMenuVersions /cdaq/special/PilotBeamTest2021/Circulating --db adg                        \r\n>   ```\r\n>\r\n> - Upon the release of a new HLT menu for data-taking (or MC production), TSG produces a spreadsheet which contains information on the content of the menu. The tools used to create this spreadsheet are added in this PR to `HLTrigger/Configuration/scripts/utils` (see the readme file in `scripts/utils` for further details).\r\n>\r\n>Unit tests for `hltPrintMenuVersions` and `hltMenuContentToCSVs` are included. (These new tests rely on connecting to ConfDB, so I fear they might occasionally fail due to connection glitches, based on what I remember from https://github.com/cms-sw/cmssw/issues/37598#issuecomment-1326628334.)\r\n\r\nFrom the description of #42976:\r\n\r\n>This PR restricts the execution of the unit test of `hltPrintMenuVersions` (added in #42967) to the `x86-64` architecture, given that the python module `cx_Oracle` is not fully working in CMSSW builds with non-`x86-64` architecture (e.g. Aarch64 and PowerPC).\r\n>\r\n>The implementation is tentatively copied from other unit tests in CMSSW.\r\n\r\n#### PR validation:\r\n\r\nThe new unit tests pass.\r\n\r\n#### If this PR is a backport, please specify the original PR and why you need to backport that PR. If this PR will be backported, please specify to which release cycle the backport is meant for:\r\n\r\n#42967\r\n#42976\r\n\r\nUtilities for HLT-menu development.", "branch": "CMSSW_13_2_X", "changed_files": 10, "comments": 11, "commits": 4, "created_at": "1696835270", "deletions": 0, "labels": ["hlt-pending", "pending-signatures", "orp-pending", "tests-started", "backport-ok"], "milestone": "CMSSW_13_2_X", "number": 42969, "release-notes": [], "review_comments": 0, "state": "open", "title": "add `hltPrintMenuVersions` and utilities for HLT-menu spreadsheets [`13_2_X`]", "updated_at": "1696963770", "user": "missirol"}