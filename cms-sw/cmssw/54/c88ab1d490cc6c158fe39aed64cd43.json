{"additions": 14, "auther_ref": "111X-fix-frdversion-array", "auther_sha": "b09f79f6e20ffeabd29df2884fbdecb94cba2fb0", "author": "smorovic", "body": "PR description:\r\nFix FRD format array version check. Version 6 did not get added to the version size mapping, but was allowed in modules, leading to reading out of boundaries.\r\nThis by luck did not cause any problems so far on standard gcc builds on x86_64, but caused assertion in IB tests in for CLANG build, as well as ARM and PPC builds where it was spotted (see #32091)\r\n\r\nFix also removes hardcoded version from around the code. It is now defined only in the same header file where it also defines std::array size.\r\n\r\nBugfix doesn't change any other behavior.\r\nNote: it does NOT affect anything used in production DAQ, only version 5 FRD is used there and that is not affected.\r\n\r\nPR validation:\r\nFixes unit test in EventFilter/Utilities/test for CLANG build.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\nBackport of #32116 (master)\r\n", "branch": "CMSSW_11_1_X", "changed_files": 4, "closed_at": "1605443427", "comments": 24, "commits": 4, "created_at": "1605166335", "deletions": 5, "labels": ["comparison-pending", "core-approved", "daq-approved", "fully-signed", "orp-approved", "reconstruction-approved", "tests-rejected"], "merge_commit_sha": "2c962ef6fcc2eb0a7c1ce4aa5a02790acbb372bd", "merged_at": "1605443427", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 32121, "release-notes": [], "review_comments": 0, "state": "closed", "title": "DAQ: fix FedRawData source going out of array boundaries(11_1_X backport)", "updated_at": "1605443428", "user": "smorovic"}