{"additions": 10, "auther_ref": "xrdadptor-multsrc-backoff", "auther_sha": "5aa9ad6253e3effd9e22ef0537faeaedc5d54c7b", "author": "osschar", "body": "When file open returns error status `XrdCl::errRedirectLimit` this means the limit of retries on a redirector has been reached and that any further requests on the same redirector will result in the same error.\r\n\r\nThis PR introduces a progressive scaling variable that increases the delay until the next attempt of additional source acquisition.\r\n\r\nIn redirector hierarchy the reject decision gets made on each site redirector, based on its configuration -- this is why scaling is progressive, a job might later still succeed in opening of another file replica from another site.\r\n\r\nTogether with the `triedrc=resel` change in previous PR this allows for tuning of how many:\r\na) reopen requests due to errors, and\r\nb) reopen requests to get an additional source\r\nare allowed at each point in a redirector hierarchy and avoids constant pinging of redirectors for the same file.\r\n\r\nThis is really important for XCache (where additional open requests potentially introduce unwanted file replicas in the cache) and might also be relevant for EOS and other installations where data is served from a single set of disks with several servers and opening of additional requests only burdens the storage system.", "branch": "CMSSW_12_1_DEVEL_X", "changed_files": 2, "comments": 14, "commits": 1, "created_at": "1633033588", "deletions": 10, "labels": ["core-approved", "fully-signed", "tests-approved", "orp-pending"], "number": 35498, "release-notes": [], "review_comments": 0, "state": "open", "title": "[XrdAdaptor] Delay additional source acquisition when redirect limit error is returned.", "updated_at": "1633271975", "user": "osschar"}