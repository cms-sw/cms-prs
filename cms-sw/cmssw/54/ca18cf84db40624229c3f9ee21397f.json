{"additions": 4, "auther_ref": "fix_UBSAN_issue35036_MUO-MuIdProd", "auther_sha": "2577c56ef6b7e0a8806b0e73480e7bd93f141e15", "author": "trocino", "body": "#### PR description:\r\n\r\nFix undefined behavior in `MuonIdProducer`, reported in issue [35036](https://github.com/cms-sw/cmssw/issues/35036). This is caused by the `theShowerDigiFiller_` pointer, which is used empty to call function `fillDefault(...)` whenever the `fillShowerDigis_` flag is false, e.g. in HLT.\r\n\r\nI added a default constructor without parameters for `MuonShowerDigiFiller`, which is only used when `fillShowerDigis_` is false. Function `fillDefault(...)` doesn't use any data member of `MuonShowerDigiFiller` and can be called even with this minimal initialization.\r\nIn one [point](https://github.com/trocino/cmssw/blob/fix_UBSAN_issue35036_MUO-MuIdProd/RecoMuon/MuonIdentification/plugins/MuonIdProducer.cc#L894) I also had to fix the condition to use the fully initialized `MuonShowerDigiFiller`.\r\n\r\n#### PR validation:\r\n\r\nThe code compiles without errors and passes the basic tests in `CMSSW_12_1_X_2021-09-15-1100`. I verified that the undefined behavior error disappears, running wf 11603.0 in `CMSSW_12_1_UBSAN_X_2021-09-13-1100`. \r\n", "branch": "master", "changed_files": 2, "comments": 7, "commits": 2, "created_at": "1631749439", "deletions": 1, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_12_1_X", "number": 35303, "release-notes": [], "review_comments": 3, "state": "open", "title": "Fix undefined behavior in MuonIdProducer from empty pointer", "updated_at": "1631812982", "user": "trocino"}