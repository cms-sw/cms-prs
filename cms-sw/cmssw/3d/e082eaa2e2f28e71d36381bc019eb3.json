{"additions": 42, "auther_ref": "fix-locking-10X", "auther_sha": "412822a93a30851a7cb830d3ce78ca86a32cac5a", "author": "smorovic", "body": "In CERN CentOS 7.4 a different behavior of file locking on NFS (v4) was observed, causing modifications of the locked file not being properly synchronized over NFS between client hosts.\r\nWorkaround, which has been proven to fix the problem in production DAQ, consists of opening another file descriptor and file stream for the same lock file within the critical section of the file locking code.\r\n\r\nThis modification is necessary to have functional HLT processing on hostswith CC 7.4", "branch": "CMSSW_10_0_X", "changed_files": 2, "closed_at": "1519137284", "comments": 16, "commits": 2, "created_at": "1518611429", "deletions": 30, "labels": ["comparison-available", "daq-approved", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "5e54d3b91f518271c0e60775c1695d7ea49c7a9d", "merged_at": "1519137284", "merged_by": "cmsbuild", "milestone": "CMSSW_10_0_X", "number": 22215, "release-notes": [], "review_comments": 0, "state": "closed", "title": "DAQ file locking compatibility fix for CC 7.4", "updated_at": "1519137284", "user": "smorovic"}