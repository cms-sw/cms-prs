{"additions": 16, "auther_ref": "devel_hltGetConfSyntaxCheck", "auther_sha": "38084943592e4ea12702a44bd13f731b9f2fe763", "author": "missirol", "body": "#### PR description:\r\n\r\n~~This PR adds an extra check in the function that converts the outputs from ConfDB into a HLT configuration file, in order to ensure certain syntax errors are avoided. This converter is most commonly used when downloading a menu using `hltGetConfiguration`.~~\r\n\r\nThis PR adds an improvement in how `HLTProcess` removes certain elements from the `python` output obtained from ConfDB (functionality used for certain types of HLT configuration files). This comes into play, for example, when downloading a menu using `hltGetConfiguration`.\r\n\r\nThis update leads to no change for the menus that are currently in use (those are obviously converted without any syntax errors already) [*].\r\n\r\n~~The additional syntax check~~ This update was needed when downloading from ConfDB a particular menu that made use of Tasks (`hltGetConfiguration` removes some modules a posteriori depending on the menu, and afterwards there was one comma too many inside one Task). Some details are in https://github.com/cms-sw/hlt-confdb/issues/32.\r\n\r\nFYI: @Sam-Harper @fwyzard\r\n\r\n[*] I took this chance to add a couple of comments to the output of `hltGetConfiguration` (independent of the syntax check added in this PR).\r\n\r\n#### PR validation:\r\n\r\nPrivate tests. Verified that `hltGetConfiguration` produces the same configuration for all menus in `/dev/CMSSW_12_2_0/`, and that the original issue with one Task-based menu is solved.\r\n\r\n#### If this PR is a backport, please specify the original PR and why you need to backport that PR:\r\n\r\nN/A", "branch": "master", "changed_files": 1, "closed_at": "1636128716", "comments": 18, "commits": 2, "created_at": "1635595575", "deletions": 12, "labels": ["hlt-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "8cf1f3b20ed47c2b9a37978aa596f75fdcd6c247", "merged_at": "1636128716", "merged_by": "cmsbuild", "milestone": "CMSSW_12_2_X", "number": 35917, "release-notes": [], "review_comments": 0, "state": "closed", "title": "improved element-removal in HLTProcess (hltGetConfiguration)", "updated_at": "1636128716", "user": "missirol"}