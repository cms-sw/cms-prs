{"additions": 12, "auther_ref": "rocmIsEnabledPreload", "auther_sha": "0e52f83fb6c8fc9c81442f05a61d7c4286e8bcdb", "author": "makortel", "body": "#### PR description:\r\n\r\nShould work around the problem in https://github.com/cms-sw/cmssw/issues/47450\r\n\r\n#### PR validation:\r\n\r\nAdded printouts around `p.communicate()` and ran `cmsRun` with `LD_PRELOAD=libPerfToolsAllocMonitorPreload.so:libPerfToolsMaxMemoryPreload.so`. With `LD_PRELOAD` included in the environment, saw the MaxMemoryPreload printouts from `rocmIsEnabled`, and with `LD_PRELOAD` excluded (as in this PR), the MaxMemoryPreload printouts disappeared.", "branch": "master", "changed_files": 1, "comments": 2, "commits": 1, "created_at": "1740515430", "deletions": 3, "labels": ["pending-signatures", "tests-pending", "orp-pending", "code-checks-approved", "heterogeneous-pending"], "milestone": "CMSSW_15_1_X", "number": 47452, "release-notes": [], "review_comments": 0, "state": "open", "title": "[RFC] Avoid passing LD_PRELOAD to rocmIsEnabled subprocess", "updated_at": "1740515550", "user": "makortel"}