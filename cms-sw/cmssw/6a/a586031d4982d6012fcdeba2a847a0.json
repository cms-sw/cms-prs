{"additions": 33, "auther_ref": "NoiseCorrelation", "auther_sha": "600bf925ae358f6ec1f8954b15edea792ca12fa5", "author": "TaeunKwon", "body": "#### PR description:\r\n\r\nThis PR updates MAHI to add a pedestal correlation factor between adjacent time slices to pedestal covariance matrix for HB and HE channels. A new class member is introduced in class `HBHEChannelInfo` to take and pass over the noise correlation factor to MAHI. This PR corresponds to [the previously merged PR](https://github.com/cms-sw/cmssw/pull/30999), which introduces the pedestal correlation factor to `HcalSiPMParametersRcd` tag for Run-3 MC scenario. The motivation and effect of changes by this PR are shown in [presentation by Taeun Kwon](https://indico.cern.ch/event/936151/contributions/3933432/attachments/2070567/3476700/pedestal.pdf). \r\n\r\nlinks of igprof report for CPU time measurements are given below. (Please see slide 15 and 19 of above presentation for the details)\r\n\r\nigprof report for RECO without the pedestal correlation factor:\r\n[https://ktaeun.web.cern.ch/ktaeun/cgi-bin/igprof-navigator/igreport_RECO](https://ktaeun.web.cern.ch/ktaeun/cgi-bin/igprof-navigator/igreport_RECO)\r\n\r\nigprof report for RECO with the pedestal correlation factor:\r\n[https://ktaeun.web.cern.ch/ktaeun/cgi-bin/igprof-navigator/igreport_RECO_NoiseCorrelation](https://ktaeun.web.cern.ch/ktaeun/cgi-bin/igprof-navigator/igreport_RECO_NoiseCorrelation)\r\n\r\nigprof report for RECO without the pedestal correlation factor with PU:\r\n[https://ktaeun.web.cern.ch/ktaeun/cgi-bin/igprof-navigator/igreport_RECO_wPU](https://ktaeun.web.cern.ch/ktaeun/cgi-bin/igprof-navigator/igreport_RECO_wPU)\r\n\r\nigprof report for RECO with the pedestal correlation factor with PU:\r\n[https://ktaeun.web.cern.ch/ktaeun/cgi-bin/igprof-navigator/igreport_RECO_NoiseCorrelation_wPU](https://ktaeun.web.cern.ch/ktaeun/cgi-bin/igprof-navigator/igreport_RECO_NoiseCorrelation_wPU)\r\n\r\nlinks of igprof reports for DIGI are given below for the measurment of HLT timing cost change.\r\nThe sample used here : TTbar RelVal w/o PU\r\n\r\nigprof report for DIGI without the pedestal correlation factor:\r\n10.44 sec / 1000 evts taken for `mahiFit:minimization` module. \r\nhttps://ktaeun.web.cern.ch/ktaeun/cgi-bin/igprof-navigator/igreport_DIGI_woNC\r\n\r\nigprof report for DIGI with the pedestal correlation factor:\r\n11.25 sec / 1000 evts taken for `mahiFit:minimization` module. \r\nhttps://ktaeun.web.cern.ch/ktaeun/cgi-bin/igprof-navigator/igreport_DIGI_wNC\r\n\r\nThis PR is expected to affect on the HLT timing cost by 7~8% of time spent on  `mahiFit:minimization` module.\r\n\r\n<!-- Please replace this text with a description of the feature proposed or problem addressed, specifying:\r\n  - what changes are expected in the output if any, \r\n  - what other PRs or externals it depends upon if any,\r\n  - link to any additional material useful to provide a documentation for this PR (slides, JIRA tickets, related pull requestes, hypernews, TWiki or Indico pages)  -->\r\n\r\n#### PR validation:\r\n\r\n<!-- Please replace this text with a description of which tests have been performed to verify the correctness of the PR, including the eventual addition of new code for testing like unit tests, test configurations, additions or updates to the runTheMatrix test workflows -->\r\n\r\nA basic technical test was performed: `runTheMatrix.py -l limited -i all --ibeos`\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nThis PR is not a backport and shouldn't be backported.\r\n\r\n<!-- Please replace this text with any link to  -->\r\n", "branch": "master", "changed_files": 6, "closed_at": "1597288922", "comments": 52, "commits": 9, "created_at": "1596637680", "deletions": 12, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "38b2bdb1be1d3bc811259a1dc5496f13172f5f2e", "merged_at": "1597288922", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 31064, "release-notes": [], "review_comments": 7, "state": "closed", "title": "code updates to add a noise correlation factor between adjacent time slices for HB and HE channels", "updated_at": "1597288923", "user": "TaeunKwon"}