{"additions": 6, "auther_ref": "fix-deprecated-copy-L1CaloTrigger", "auther_sha": "fea46e71a12c3e54c78b51c93ab4975fd691c017", "author": "iarspider", "body": "#### PR description:\r\n\r\nImplicit copy-constructors are deprecated, and not necessary in most cases. This PR removes unnnecessary copy-assignment operators and destructors in favor of auto-generated ones.\r\n\r\nFixes the following [warnings](https://cmssdt.cern.ch/SDT/cgi-bin/buildlogs/el8_amd64_gcc12/CMSSW_14_0_DEVEL_X_2024-01-22-2300/L1Trigger/L1CaloTrigger):\r\n```\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h: In copy constructor 'p2eg::towers3x4::towers3x4(const p2eg::towers3x4&)':\r\n  <...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:484:51: warning: implicitly-declared 'p2eg::towerHCAL& p2eg::towerHCAL::operator=(const p2eg::towerHCAL&)' is deprecated [-Wdeprecated-copy]\r\n   484 |           towersHCAL[i][j] = other.towersHCAL[i][j];\r\n      |                                                   ^\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:448:5: note: because 'p2eg::towerHCAL' has user-provided 'p2eg::towerHCAL::towerHCAL(const p2eg::towerHCAL&)'\r\n  448 |     towerHCAL(const towerHCAL& other) {\r\n      |     ^~~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h: In copy constructor 'p2eg::card::card(const p2eg::card&)':\r\n  <...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:537:49: warning: implicitly-declared 'p2eg::towers3x4& p2eg::towers3x4::operator=(const p2eg::towers3x4&)' is deprecated [-Wdeprecated-copy]\r\n   537 |         card3x4Towers[i] = other.card3x4Towers[i];\r\n      |                                                 ^\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:480:5: note: because 'p2eg::towers3x4' has user-provided 'p2eg::towers3x4::towers3x4(const p2eg::towers3x4&)'\r\n  480 |     towers3x4(const towers3x4& other) {\r\n      |     ^~~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h: In member function 'p2eg::towers3x4& p2eg::towers3x4::operator=(const p2eg::towers3x4&)':\r\n  <...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:470:9: warning: implicitly-declared 'p2eg::towerHCAL& p2eg::towerHCAL::operator=(const p2eg::towerHCAL&)' is deprecated [-Wdeprecated-copy]\r\n   470 |   class towers3x4 {\r\n      |         ^~~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:448:5: note: because 'p2eg::towerHCAL' has user-provided 'p2eg::towerHCAL::towerHCAL(const p2eg::towerHCAL&)'\r\n  448 |     towerHCAL(const towerHCAL& other) {\r\n      |     ^~~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h: In copy constructor 'p2eg::card::card(const p2eg::card&)':\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:537:49: note: synthesized method 'p2eg::towers3x4& p2eg::towers3x4::operator=(const p2eg::towers3x4&)' first required here\r\n  537 |         card3x4Towers[i] = other.card3x4Towers[i];\r\n      |                                                 ^\r\nIn file included from <...>/L1Trigger/L1CaloTrigger/plugins/Phase2L1CaloEGammaEmulator.cc:55:\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h: In function 'p2eg::crystalMax p2eg::getPeakBin15N(etaStripPeak_t)':\r\n  <...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h:1007:10: warning: implicitly-declared 'p2eg::crystalMax::crystalMax(const p2eg::crystalMax&)' is deprecated [-Wdeprecated-copy]\r\n  1007 |   return x;\r\n      |          ^\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:610:17: note: because 'p2eg::crystalMax' has user-provided 'p2eg::crystalMax& p2eg::crystalMax::operator=(const p2eg::crystalMax&)'\r\n  610 |     crystalMax& operator=(const crystalMax& rhs) {\r\n      |                 ^~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h: In function 'p2eg::clusterInfo p2eg::getClusterPosition(ecalRegion_t)':\r\n  <...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h:1088:10: warning: implicitly-declared 'p2eg::clusterInfo::clusterInfo(const p2eg::clusterInfo&)' is deprecated [-Wdeprecated-copy]\r\n  1088 |   return cluster;\r\n      |          ^~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:784:18: note: because 'p2eg::clusterInfo' has user-provided 'p2eg::clusterInfo& p2eg::clusterInfo::operator=(const p2eg::clusterInfo&)'\r\n  784 |     clusterInfo& operator=(const clusterInfo& rhs) {\r\n      |                  ^~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h: In function 'p2eg::Cluster p2eg::packCluster(ap_uint<15>&, ap_uint<5>&, ap_uint<5>&)':\r\n  <...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h:1109:10: warning: implicitly-declared 'p2eg::Cluster::Cluster(const p2eg::Cluster&)' is deprecated [-Wdeprecated-copy]\r\n  1109 |   return pack;\r\n      |          ^~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:854:14: note: because 'p2eg::Cluster' has user-provided 'p2eg::Cluster& p2eg::Cluster::operator=(const p2eg::Cluster&)'\r\n  854 |     Cluster& operator=(const Cluster& rhs) {\r\n      |              ^~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h: In function 'p2eg::clusterInfo p2eg::getBremsValuesPos(crystal (*)[20], ap_uint<5>, ap_uint<5>)':\r\n  <...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h:1228:10: warning: implicitly-declared 'p2eg::clusterInfo::clusterInfo(const p2eg::clusterInfo&)' is deprecated [-Wdeprecated-copy]\r\n  1228 |   return cluster_tmp;\r\n      |          ^~~~~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:784:18: note: because 'p2eg::clusterInfo' has user-provided 'p2eg::clusterInfo& p2eg::clusterInfo::operator=(const p2eg::clusterInfo&)'\r\n  784 |     clusterInfo& operator=(const clusterInfo& rhs) {\r\n      |                  ^~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h: In function 'p2eg::clusterInfo p2eg::getBremsValuesNeg(crystal (*)[20], ap_uint<5>, ap_uint<5>)':\r\n  <...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h:1303:10: warning: implicitly-declared 'p2eg::clusterInfo::clusterInfo(const p2eg::clusterInfo&)' is deprecated [-Wdeprecated-copy]\r\n  1303 |   return cluster_tmp;\r\n      |          ^~~~~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:784:18: note: because 'p2eg::clusterInfo' has user-provided 'p2eg::clusterInfo& p2eg::clusterInfo::operator=(const p2eg::clusterInfo&)'\r\n  784 |     clusterInfo& operator=(const clusterInfo& rhs) {\r\n      |                  ^~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h: In function 'p2eg::clusterInfo p2eg::getClusterValues(crystal (*)[20], ap_uint<5>, ap_uint<5>)':\r\n  <...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h:1407:10: warning: implicitly-declared 'p2eg::clusterInfo::clusterInfo(const p2eg::clusterInfo&)' is deprecated [-Wdeprecated-copy]\r\n  1407 |   return cluster_tmp;\r\n      |          ^~~~~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:784:18: note: because 'p2eg::clusterInfo' has user-provided 'p2eg::clusterInfo& p2eg::clusterInfo::operator=(const p2eg::clusterInfo&)'\r\n  784 |     clusterInfo& operator=(const clusterInfo& rhs) {\r\n      |                  ^~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h: In function 'p2eg::Cluster p2eg::getClusterFromRegion3x4(crystal (*)[20])':\r\n  <...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h:1464:10: warning: implicitly-declared 'p2eg::Cluster::Cluster(const p2eg::Cluster&)' is deprecated [-Wdeprecated-copy]\r\n  1464 |   return returnCluster;\r\n      |          ^~~~~~~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:854:14: note: because 'p2eg::Cluster' has user-provided 'p2eg::Cluster& p2eg::Cluster::operator=(const p2eg::Cluster&)'\r\n  854 |     Cluster& operator=(const Cluster& rhs) {\r\n      |              ^~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h: In function 'void p2eg::stitchClusterOverRegionBoundary(std::vector<Cluster>&, int, int, int)':\r\n  <...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h:1490:40: warning: implicitly-declared 'p2eg::Cluster::Cluster(const p2eg::Cluster&)' is deprecated [-Wdeprecated-copy]\r\n  1490 |       p2eg::Cluster c1 = cluster_list[i];\r\n      |                                        ^\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:854:14: note: because 'p2eg::Cluster' has user-provided 'p2eg::Cluster& p2eg::Cluster::operator=(const p2eg::Cluster&)'\r\n  854 |     Cluster& operator=(const Cluster& rhs) {\r\n      |              ^~~~~~~~\r\n  <...>/L1Trigger/L1CaloTrigger/interface/Phase2L1RCT.h:1491:40: warning: implicitly-declared 'p2eg::Cluster::Cluster(const p2eg::Cluster&)' is deprecated [-Wdeprecated-copy]\r\n  1491 |       p2eg::Cluster c2 = cluster_list[j];\r\n      |                                        ^\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:854:14: note: because 'p2eg::Cluster' has user-provided 'p2eg::Cluster& p2eg::Cluster::operator=(const p2eg::Cluster&)'\r\n  854 |     Cluster& operator=(const Cluster& rhs) {\r\n      |              ^~~~~~~~\r\n<...>/L1Trigger/L1CaloTrigger/plugins/Phase2L1CaloEGammaEmulator.cc: In member function 'virtual void Phase2L1CaloEGammaEmulator::produce(edm::Event&, const edm::EventSetup&)':\r\n  <...>/L1Trigger/L1CaloTrigger/plugins/Phase2L1CaloEGammaEmulator.cc:385:51: warning: implicitly-declared 'p2eg::Cluster::Cluster(const p2eg::Cluster&)' is deprecated [-Wdeprecated-copy]\r\n   385 |         p2eg::Cluster cExtra = cluster_list[cc][kk];\r\n      |                                                   ^\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:854:14: note: because 'p2eg::Cluster' has user-provided 'p2eg::Cluster& p2eg::Cluster::operator=(const p2eg::Cluster&)'\r\n  854 |     Cluster& operator=(const Cluster& rhs) {\r\n      |              ^~~~~~~~\r\n  <...>/L1Trigger/L1CaloTrigger/plugins/Phase2L1CaloEGammaEmulator.cc:526:67: warning: implicitly-declared 'p2eg::tower_t::tower_t(const p2eg::tower_t&)' is deprecated [-Wdeprecated-copy]\r\n   526 |           p2eg::tower_t t0_ecal = towerECALCard[iTower][iLink][rcc];\r\n      |                                                                   ^\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:692:14: note: because 'p2eg::tower_t' has user-provided 'p2eg::tower_t& p2eg::tower_t::operator=(const p2eg::tower_t&)'\r\n  692 |     tower_t& operator=(const tower_t& rhs) {\r\n      |              ^~~~~~~~\r\n  <...>/L1Trigger/L1CaloTrigger/plugins/Phase2L1CaloEGammaEmulator.cc:527:67: warning: implicitly-declared 'p2eg::tower_t::tower_t(const p2eg::tower_t&)' is deprecated [-Wdeprecated-copy]\r\n   527 |           p2eg::tower_t t0_hcal = towerHCALCard[iTower][iLink][rcc];\r\n      |                                                                   ^\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:692:14: note: because 'p2eg::tower_t' has user-provided 'p2eg::tower_t& p2eg::tower_t::operator=(const p2eg::tower_t&)'\r\n  692 |     tower_t& operator=(const tower_t& rhs) {\r\n      |              ^~~~~~~~\r\n  <...>/L1Trigger/L1CaloTrigger/plugins/Phase2L1CaloEGammaEmulator.cc:547:61: warning: implicitly-declared 'p2eg::Cluster::Cluster(const p2eg::Cluster&)' is deprecated [-Wdeprecated-copy]\r\n   547 |         p2eg::Cluster c0 = cluster_list_merged[rcc][iCluster];\r\n      |                                                             ^\r\n<...>/L1Trigger/L1CaloTrigger/interface/Phase2L1CaloEGammaUtils.h:854:14: note: because 'p2eg::Cluster' has user-provided 'p2eg::Cluster& p2eg::Cluster::operator=(const p2eg::Cluster&)'\r\n  854 |     Cluster& operator=(const Cluster& rhs) {\r\n      |              ^~~~~~~~\r\n\r\n```\r\n\r\n#### PR validation:\r\n\r\nBot tests\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\n<!-- Please replace this text with any link to the master PR, or the intended backport release cycle numbers -->\r\n\r\nBefore submitting your pull requests, make sure you followed this checklist:\r\n- verify that the PR is really intended for the chosen branch\r\n- verify that changes follow [CMS Naming, Coding, And Style Rules](http://cms-sw.github.io/cms_coding_rules.html)\r\n- verify that the PR passes the basic test procedure suggested in the [CMSSW PR instructions](https://cms-sw.github.io/PRWorkflow.html)\r\n\r\n<!-- Please delete the text above after you verified all points of the checklist  -->\r\n", "branch": "master", "changed_files": 1, "closed_at": "1706019677", "comments": 12, "commits": 1, "created_at": "1705997087", "deletions": 42, "labels": ["l1-approved", "fully-signed", "tests-approved", "orp-approved", "upgrade-approved", "code-checks-approved"], "merge_commit_sha": "bb525104a7ddb93685f8ced6fed1ab793b2d2103", "merged_at": "1706019677", "merged_by": "cmsbuild", "milestone": "CMSSW_14_0_X", "number": 43771, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix deprecated-copy warnings in L1CaloTrigger", "updated_at": "1706019678", "user": "iarspider"}