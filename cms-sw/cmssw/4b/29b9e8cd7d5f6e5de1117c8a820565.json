{"additions": 8, "auther_ref": "add_Isovar_EgmphoIDMVANanoAOD", "auther_sha": "f67fe97c96d97d10b7078ea0a3aede5e7f71960d", "author": "Prasant1993", "body": "#### PR description:\r\n\r\n This PR is to add 4 isolation variables for  Photon in NanoAOD . The Egamma photon  MVA-based ID for Run3 uses new isolation variables as input to the BDT training. These 4 isolation variables [**Photon_hcalPFClusterIso, Photon_ecalPFClusterIso, Photon_pfChargedIso, Photon_trkSumPtSolidConeDR04**] are currently not present in the photon table in NanoAOD. As Hgg analysis will be using the Egamma Run3 photon IDMVA, these 4 input variables for photons are required in NanoAoD to do a proper Data/MC validation of all the variables as input to the photon ID BDT training  and also it will help to evaluate a new training weight file in a NanoAOD test sample when it is available at some point later for better performance. \r\n\r\n#### PR validation:\r\n\r\nrunTheMatrix tests have been successfully run for the following workflows :\r\n\r\n- runTheMatrix.py -l 12434.0\r\n- runTheMatrix.py -l 2500.0\r\n\r\nThe size of these variables in the event in NanoAOD is calculated  according to a check with  the command\r\npython3 PhysicsTools/NanoAOD/test/inspectNanoFile.py <my_file.root> -j test.json -s test_size_report.html -d tes_doc.html\r\n\r\nMiniAoD File used to check these additions of floats in NanoAOD: /store/relval/CMSSW_13_2_0_pre2/RelValZEE_14/MINIAODSIM/PU_131X_mcRun3_2022_realistic_v3-v1/2590000/97db4599-13c4-4b15-b8d4-76c01e916784.root\r\n\r\nResults of size/variable in event are Here : https://prrout.web.cern.ch/prrout/Eventsize_beforeafteradd_check/After_add_Presision8/test_size_report.html\r\n\r\nPhoton_trkSumPtSolidConeDR04 - 2.8 b/evt\r\nPhoton_pfChargedIso - 2.4 b/evt\r\nPhoton_hcalPFClusterIso - 3.1 b/evt\r\nPhoton_ecalPFClusterIso - 2.8 b/evt\r\n\r\n#### Backport: \r\nAs pointed out by @simonepigazzini in the PR #42247 we want these additions to only go into NANO v13,  i.e. the Fall/Winter production for 2022 and 2023. So no backport needed.\r\n\r\nTagging Hgg and Egm convenors here.\r\n@lfinco @fcouderc as Hgg conveners\r\n@swagata87 @a-kapoor @RSalvatico as EGamma conveners\r\n", "branch": "master", "changed_files": 2, "comments": 14, "commits": 1, "created_at": "1689243350", "deletions": 0, "labels": ["pending-signatures", "tests-approved", "orp-pending", "code-checks-approved", "xpog-pending", "egamma"], "milestone": "CMSSW_13_3_X", "number": 42255, "release-notes": [], "review_comments": 0, "state": "open", "title": "Add 4 Isolation variables for Photon to NanoAOD", "updated_at": "1692683229", "user": "Prasant1993"}