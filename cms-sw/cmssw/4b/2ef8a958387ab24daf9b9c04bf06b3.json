{"additions": 158, "auther_ref": "ak4puppireco", "auther_sha": "3e310014e0d8b0769f1977a4af56440f3a1f4bc6", "author": "rappoccio", "body": "\r\n\r\n#### PR description:\r\n\r\nIn the past, PUPPI has not been stable enough to go into AOD. It was always rerun at MINIAOD level. However BTV would like PUPPI in AOD so they can run costly algorithms at RECO time. In addition, AK8CHS is no longer recommended so there is no particular need to have it at all, much less in AOD. Finally, the CMS Top Tagger is now truly deprecated and only used in validation / DQM. As such, we have switched to monitory the newer top tagging algorithm.\r\n\r\nIn AOD:\r\n- Add AK4Puppi\r\n- Switch AK8CHS to AK8Puppi\r\n- Drop CMS Top Tagger (deprecated) \r\n\r\nIn MINIAOD:\r\n- Add PFClusterJets p4's to the pat::Jets (in addition to / replacing current calo jets)\r\n\r\n#### PR validation:\r\n\r\nWorkflows run: \r\n\r\n`- runTheMatrix.py -l limited -i all --ibeos`\r\n\r\n(NOTE: currently runTheMatrix tests are failing with an unrelated error but these were checked on other reconstruction workflows.)\r\n\r\nDetails also given for: \r\n```\r\n1341.0 (RSKKGluon)\r\n25202.0 (TTbar fullsim + reco + validation)\r\n```\r\n\r\nFor the TTbar fullsim worfklow:\r\n\r\n*Adding to AOD*:\r\n\r\n```\r\nrecoPFJets_ak4PFJetsPuppi__RECO. 3690 1061\r\nrecoPFJets_ak8PFJetsPuppi__RECO. 1260.6 487.2\r\nrecoPFJets_ak8PFJetsPuppiSoftDrop_SubJets_RECO. 265 255\r\n```\r\n\r\n*Removing from AOD*:\r\n\r\n```\r\nrecoPFJets_ak8PFJetsCHS__RECO. 6833.8 1735.4\r\nrecoPFJets_ak8PFJetsCHSSoftDrop_SubJets_RECO. 1315 506\r\nrecoPFJets_cmsTopTagPFJetsCHS_caTopSubJets_RECO. 1666.2 593.4\r\nrecoBasicJets_cmsTopTagPFJetsCHS__RECO. 417 288.3\r\nrecoBasicJets_ak8PFJetsCHSSoftDrop__RECO. 407.2 284.7\r\n```\r\n\r\nTo compare to other collections (still remaining):\r\n\r\n```\r\nrecoPFJets_ak4PFJets__RECO. 42550.7 9657.1\r\nrecoPFJets_ak4PFJetsCHS__RECO. 31311 7297.7\r\nrecoPFJets_pfJetsEI__RECO. 31267.6 7286\r\n```\r\n\r\nSo overall we're going to save some space with PUPPI AK8 in AOD.\r\n\r\n\r\n\r\nFor MINIAOD we get minor changes due to removing CHS userfloats, etc. \r\n\r\nOld version (with AK8CHS):\r\n```\r\npatJets_slimmedJets__RECO. 37241.8 12613.3\r\npatJets_slimmedJetsPuppi__RECO. 22317.5 10986.9\r\npatJets_slimmedJetsAK8__RECO. 11287.5 1899.9\r\npatJets_slimmedJetsAK8PFPuppiSoftDropPacked_SubJets_RECO. 277.8 271.9\r\n```\r\n\r\nnew version (no AK8CHS):\r\n```\r\npatJets_slimmedJets__RECO. 36523.9 12503.7\r\npatJets_slimmedJetsPuppi__RECO. 22317.5 10986.5\r\npatJets_slimmedJetsAK8__RECO. 10308.9 1730.7\r\npatJets_slimmedJetsAK8PFPuppiSoftDropPacked_SubJets_RECO. 277.8 271.9\r\n```\r\n\r\n\r\nChanges checked on the boosted top quark (RSKKgluon sample), and the changes are as expected there as well. \r\n\r\n#### if this PR is a backport please specify the original PR:\r\n\r\nBefore submitting your pull requests, make sure you followed this checklist:\r\n- verify that the PR is really intended for the chosen branch\r\n- verify that changes follow [CMS Naming, Coding, And Style Rules](http://cms-sw.github.io/cms_coding_rules.html)\r\n- verify that the PR passes the basic test procedure suggested in the [CMSSW PR instructions](https://cms-sw.github.io/PRWorkflow.html)", "branch": "master", "changed_files": 21, "closed_at": "1574431132", "comments": 96, "commits": 5, "created_at": "1569526008", "deletions": 299, "labels": ["analysis-pending", "code-checks-approved", "comparison-available", "dqm-pending", "orp-pending", "pending-signatures", "reconstruction-pending", "tests-approved", "xpog-pending"], "milestone": "CMSSW_11_0_X", "number": 28077, "release-notes": [], "review_comments": 32, "state": "closed", "title": "AOD changes from JME", "updated_at": "1574431133", "user": "rappoccio"}