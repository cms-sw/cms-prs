{"additions": 100, "auther_ref": "RootEmbeddedFileSequence-filehash", "auther_sha": "36d83a005be99d92b92446641685d39205856248", "author": "dan131riley", "body": "#### PR description:\r\n\r\nUnder heavy loads, we can see high failure rates in premixing jobs due to file open failures for the secondary input files.  The `skipBadFiles` parameter is supposed to allow skipping over file open failures; however, it is only partially implemented in the `EmbeddedRootSource` used for the secondary input files.  This PR implements `skipBadFiles` for the `RootEmbeddedFileSequence::readOneRandom()` routine and adds a `fileOpenAttempts` parameter to control how many file open attempts are made in case of failures.\r\n\r\n`skipBadFiles` is still ignored for the (less often used) sequential read cases.\r\n\r\nThis PR resolves issue #15653 (from 4.5 years ago), which has links to the HN thread that motivated it.\r\n\r\n#### PR validation:\r\n\r\nA test config was created in `SecondaryInput/test/SecondaryInputTestSkip_cfg.py` (and it found some bugs).  However, it has a small probability of causing false positives so it has not been added to the standard unit test run by 'runtests'.  Standard tests were also run.", "branch": "master", "changed_files": 5, "closed_at": "1613027340", "comments": 13, "commits": 4, "created_at": "1612470588", "deletions": 17, "labels": ["code-checks-approved", "core-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "597ebba045ae1f8fc1f97b9a299506e9a6345c17", "merged_at": "1613027340", "merged_by": "cmsbuild", "milestone": "CMSSW_11_3_X", "number": 32821, "release-notes": [], "review_comments": 2, "state": "closed", "title": "Implement skipBadFiles in RootEmbeddedFileSequence::readOneRandom", "updated_at": "1613027340", "user": "dan131riley"}