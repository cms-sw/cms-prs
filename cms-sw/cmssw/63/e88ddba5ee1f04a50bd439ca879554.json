{"additions": 58, "auther_ref": "fc-detlayers", "auther_sha": "bc4619b4f2be318f0ba19af0561f19bd8a14cd4d", "author": "fabiocos", "body": "#### PR description:\r\n\r\nThis PR addresses an issue reported by @parbol while validating the rebase of the addition of MTD to tracker navigation. As a default the order of the forward DetLayers looks inverted compared to what expected as default ordering (from negative to positive). This PR simply swaps the order, ~~so far it should be irrelevant for the use of the MTD code inside the reconstruction~~, but matters when adding MTD to the layers navigation.\r\n\r\nAt present the layers order matters only in the selection of ETL hits and their use for track building inside the ```TrackExtenderWithMTD```, where it was not properly managed, as the code was developed in a single-ETL disc content. \r\nIn order to 1) get the correct behaviour that 2) makes the algorithm independent on the input ordering, a corresponding update of the ETL hits search is made (please note that the track build code still needs an update to properly use the timing information of both disks if present, work to follow and be based on this PR).\r\n\r\nAt the same time geometry tests are updated, also in order to become independent from ```MTDTopology```, whose real usefulness is under scrutiny and will be likely dropped or seriously revised in next future. \r\n\r\n#### PR validation:\r\n\r\nCode compiles and run, the local test shows a change in the ordering of DetLayers:\r\n\r\n```\r\n*** allBTLLayers():              1\r\n  0  subdet = Phase2TimingBarrel Barrel = 1 Forward = 0  Cylinder of radius:     117.629585\r\n\r\n*** allETLLayers():              4\r\n  0  subdet = Phase2TimingEndcap Barrel = 0 Forward = 1  Disk at:    -303.154999\r\n  1  subdet = Phase2TimingEndcap Barrel = 0 Forward = 1  Disk at:    -300.265015\r\n  2  subdet = Phase2TimingEndcap Barrel = 0 Forward = 1  Disk at:     300.265015\r\n  3  subdet = Phase2TimingEndcap Barrel = 0 Forward = 1  Disk at:     303.154999\r\n\r\n*** allForwardLayers():              2\r\n  0  subdet = Phase2TimingEndcap Barrel = 0 Forward = 1  Disk at:     300.265015\r\n  1  subdet = Phase2TimingEndcap Barrel = 0 Forward = 1  Disk at:     303.154999\r\n\r\n*** allBackwardLayers():              2\r\n  0  subdet = Phase2TimingEndcap Barrel = 0 Forward = 1  Disk at:    -300.265015\r\n  1  subdet = Phase2TimingEndcap Barrel = 0 Forward = 1  Disk at:    -303.154999\r\n\r\n*** allLayers():              5\r\n  0  subdet = Phase2TimingEndcap Barrel = 0 Forward = 1  Disk at:    -303.154999\r\n  1  subdet = Phase2TimingEndcap Barrel = 0 Forward = 1  Disk at:    -300.265015\r\n  2  subdet = Phase2TimingBarrel Barrel = 1 Forward = 0  Cylinder of radius:     117.629585\r\n  3  subdet = Phase2TimingEndcap Barrel = 0 Forward = 1  Disk at:     300.265015\r\n  4  subdet = Phase2TimingEndcap Barrel = 0 Forward = 1  Disk at:     303.154999\r\n\r\n```", "branch": "master", "changed_files": 4, "closed_at": "1616109403", "comments": 23, "commits": 3, "created_at": "1615811431", "deletions": 8, "labels": ["code-checks-approved", "fully-signed", "geometry-approved", "orp-approved", "reconstruction-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "b27fcd0bfd1ec3825a6fbc185f62e241deaef695", "merged_at": "1616109403", "merged_by": "cmsbuild", "milestone": "CMSSW_11_3_X", "number": 33181, "release-notes": [], "review_comments": 0, "state": "closed", "title": "MTD geometry/reconstruction: update tests, invert order of forward DetLayers", "updated_at": "1616109404", "user": "fabiocos"}