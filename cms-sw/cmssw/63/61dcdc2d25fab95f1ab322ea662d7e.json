{"additions": 77, "auther_ref": "psetValidationComponentMaker", "auther_sha": "7a302e01f50adadc662b02ffade172f834981ed3", "author": "makortel", "body": "#### PR description:\r\n\r\nThe https://github.com/cms-sw/cmssw/pull/39391 missed the detail that in the EventSetup the PSet validation is done via a separate plugin factory. \r\n\r\nThis PR attempts to address that deficiency by moving the PSet validation to be called from the ComponentMaker, just before the ES module is constructed. A benefit of this approach is that it makes the EventSetup side a little bit more consistent with the Event side. A downside is that more code gets mutable access to the PSet (there could be more I didn't think of).\r\n\r\nAn alternative would be to extend the module type resolving logic in some way to `edm::eventsetup::validateEventSetupParameters()`. In a later PR I'll change the\r\nhttps://github.com/cms-sw/cmssw/blob/8e73e83592119f053de85962f5be5f1333d5a786/FWCore/Framework/interface/resolveMaker.h#L16\r\nto handle the insertion of the found maker into the caches in `Factory`/`ComponentFactory` (in order to cache based on the resolved module type rather than the requested module type), and while handling this non-cached plugin can be added there with some complexity, I felt the approach of this PR to be simpler in the bigger picture.\r\n\r\n#### PR validation:\r\n\r\nFramework unit tests pass.", "branch": "master", "changed_files": 17, "closed_at": "1665316211", "comments": 16, "commits": 4, "created_at": "1664561662", "deletions": 137, "labels": ["core-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "2a0f9cebff38032b86a4f77f0ff5d6d2d22d7182", "merged_at": "1665316211", "merged_by": "cmsbuild", "milestone": "CMSSW_12_6_X", "number": 39556, "release-notes": [], "review_comments": 12, "state": "closed", "title": "Move EventSetup module PSet validation to be called from ComponentMaker", "updated_at": "1665316211", "user": "makortel"}