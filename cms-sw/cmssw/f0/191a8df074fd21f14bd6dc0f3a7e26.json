{"additions": 120, "auther_ref": "fix_alpaka_PixelClustering_150x", "auther_sha": "b0b7322e7bf05cef37c926b6f59eb8a96d4e2b7a", "author": "fwyzard", "body": "#### PR description:\r\n\r\nFix a bug in the heterogeneous pixel raw-to-cluster module:\r\n  - include in the output the last pixel of each module. The current implementation ignores the last pixel of each module, and nobody seems to know why.\r\n\r\nImplement a few small optimisations:\r\n  - use only 64 groups, instead of one per module;\r\n  - adjust the number of nearest neighbours after duplicate removal;\r\n  - restrict the domain of atomic operations to per-block;\r\n  - remove an unnecessary synchronisation.\r\n\r\nThe cumulative effect is to speed up the pixel local reconstruction by 7%.\r\n\r\nmachine type | `CMSSW_15_0_10_patch2` | with #48581 | relative difference\r\n---|---|---|---\r\n2022 HLT node (2 Milan 7763, 2 T4) | 2495  3 ev/s | 2670  6 ev/s | +7%\r\n2024 HLT node (2 Bergamo 9754, 3 L4) | 11598  23 ev/s | 12447  25 ev/s | +7%\r\n\r\nThe performance of the full HLT menu is not affected, as it is limited by the CPU part.\r\n\r\n#### PR validation:\r\n\r\nTechnical validation performed on top of CMSSW 15.0.10 running over 10k events from Run2025C.\r\nPhysics validation is required, though no changes are expected.\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nBackport of #48580, #48609 and #48644 to 15.0.x for the 2025 data taking.", "branch": "CMSSW_15_0_X", "changed_files": 2, "comments": 31, "commits": 1, "created_at": "1752868447", "deletions": 96, "labels": ["reconstruction-pending", "pending-signatures", "tests-pending", "orp-pending", "hold", "bug-fix", "backport-ok", "trk"], "milestone": "CMSSW_15_0_X", "number": 48581, "release-notes": [], "review_comments": 0, "state": "open", "title": "Improve the Phase-1 pixel raw to cluster [15.0.x]", "updated_at": "1753740632", "user": "fwyzard"}