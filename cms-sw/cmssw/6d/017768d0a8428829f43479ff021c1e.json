{"additions": 24, "auther_ref": "CMSSW_12_0_X_Patatrack_HIon_v0", "auther_sha": "49c4c70af958fbe5cf89f61cda2b1689534dcfd3", "author": "stahlleiton", "body": "#### PR description:\r\n\r\nThis PR include changes needed to run the HIon HLT menu on GPU using 2018 PbPb data.\r\n\r\nThe changes cover:\r\n- EcalRawToDigiGPU: changed to set the parameter nbytes_per_fed_max at runtime, since the current implementation was causing a std::exception error in UnpackGPU.cu, line 295, in some PbPb events which surpassed the hardcoded threshold set by  ecal::raw::nbytes_per_fed_max .\r\n- SiPixelRawToClusterCUDA: changed to set the parameter MAX_FED_WORDS at runtime, since a cudaErrorInvalidValue: invalid argument error in SiPixelRawToClusterGPUKernel.cu, line 535, appeared in some PbPb events which surpassed the threshold set by pixelgpudetails::MAX_FED_WORDS .\r\n- gpuClustering: increased the value of maxPixInModule to 6000, since a std::bad_alloc exception crash in EcalPulseShapesGPU.cc, line 11 appeared in some few PbPb events that had more than 4000 pixels (e.g. 4194 pixels) in a module.\r\n\r\nSince the default values are set to the standard pp ones, no changes are expected in the output.\r\n\r\n#### PR validation:\r\n\r\nThe changes were tested on 2018 PbPb data using the MinimumBias and HardProbe PDs.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\n@fwyzard ", "branch": "master", "changed_files": 5, "closed_at": "1627987797", "comments": 33, "commits": 1, "created_at": "1627447714", "deletions": 16, "labels": ["code-checks-approved", "fully-signed", "heterogeneous-approved", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "32f4925a299ea2bfb1dabe19f46c04eb72619fff", "merged_at": "1627987797", "merged_by": "cmsbuild", "milestone": "CMSSW_12_1_X", "number": 34664, "release-notes": [], "review_comments": 8, "state": "closed", "title": "Adapted EcalRawToDigi and SiPixelRawToCluster GPU code for HIon", "updated_at": "1627987797", "user": "stahlleiton"}