{"additions": 74, "auther_ref": "esconsumesL1TriggerL1THGCal", "auther_sha": "3b5610224aa52a7e5a094f9578b81595d393cb79", "author": "makortel", "body": "#### PR description:\r\n\r\nIn addition of using ESGetToken in HGCalTriggerGeometryESProducer (as part of #26748), this PR suggests to use raw pointers instead of `ESHandle` for the contained products in HGCalTriggerGeometryBase and derived classes.\r\n\r\nThis change does alter the behavior, as now the existence of the input products is always checked in the ESProducer (earlier it was checked at the first time when the HGCalTriggerGeometryBase or -derived class accessed the input products).\r\n\r\nThere is one caveat though. Currently the ESProducer tries to read CaloGeometry, and if either CaloGeometry is not available or does not have the expected content, the ESProducer reads 3 HGCalGeometry products. With the solution in this PR, all 4 objects would get produced in the (eventual) prefetching, which is not necessarily what we want. On the other hand, (based on my understanding of the code) memory-wise this issue would only affect HGCal < V9 geometries, but I don't know how relevant those workflows still are. In addition, in principle the `phase2_hgcalV9` modifier could be used to control the behavior of this ESProducer.\r\n\r\n#### PR validation:\r\n\r\nCode compiles.", "branch": "master", "changed_files": 10, "closed_at": "1560874401", "comments": 4, "commits": 2, "created_at": "1560874094", "deletions": 92, "labels": ["code-checks-approved", "comparison-pending", "l1-pending", "orp-pending", "pending-signatures", "tests-pending", "upgrade-pending"], "milestone": "CMSSW_11_0_X", "number": 27241, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Modernize HGCalTriggerGeometryESProducer", "updated_at": "1560874505", "user": "makortel"}