{"additions": 1, "auther_ref": "from-CMSSW_14_1_ASAN_X_2024-07-17-2300", "auther_sha": "4a8c5bad377b8ada1dcdaae12a9e2f70a4019b42", "author": "aandvalenzuela", "body": "Hello,\r\n\r\nTest `TestPerfToolsModuleAllocMonitor` is failing in ASAN IBs with:\r\n```\r\n===== Test \"TestPerfToolsModuleAllocMonitor\" ====\r\n+ LOCAL_TEST_DIR=/data/cmsbld/jenkins/workspace/ib-run-qa/CMSSW_14_1_ASAN_X_2024-07-17-2300/src/PerfTools/AllocMonitor/test\r\n+ LD_PRELOAD=libPerfToolsAllocMonitorPreload.so\r\n+ cmsRun /data/cmsbld/jenkins/workspace/ib-run-qa/CMSSW_14_1_ASAN_X_2024-07-17-2300/src/PerfTools/AllocMonitor/test/moduleAlloc_cfg.py\r\n==1927315==ASan runtime does not come first in initial library list; you should either link runtime to your application or manually preload it with LD_PRELOAD.\r\n+ die 'Failure using moduleAlloc_cfg.py' 1\r\n+ echo Failure using moduleAlloc_cfg.py: status 1\r\nFailure using moduleAlloc_cfg.py: status 1\r\n+ exit 1\r\n\r\n---> test TestPerfToolsModuleAllocMonitor had ERRORS\r\nTestTime:0\r\n^^^^ End Test TestPerfToolsModuleAllocMonitor ^^^^\r\n```\r\n\r\nAfter discussing with @smuzaffar, we propose disabling this test for ASAN since the job configures its own `LD_PRELOAD`. See https://github.com/cms-sw/cmssw/blob/master/PerfTools/AllocMonitor/test/runModuleAlloc.sh.\r\n", "branch": "master", "changed_files": 1, "comments": 4, "commits": 1, "created_at": "1721382808", "deletions": 2, "labels": ["core-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved"], "milestone": "CMSSW_14_1_X", "number": 45509, "release-notes": [], "review_comments": 0, "state": "open", "title": "Disable test `TestPerfToolsModuleAllocMonitor` for ASAN IBs", "updated_at": "1721383484", "user": "aandvalenzuela"}