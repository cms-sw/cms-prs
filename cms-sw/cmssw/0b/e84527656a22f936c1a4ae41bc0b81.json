{"additions": 15, "auther_ref": "fixExpandVisitorEmpty", "auther_sha": "c639545dbba47655fc3b19869116e120bf906052", "author": "makortel", "body": "#### PR description:\r\n\r\nIf a `cms.Sequence` holds only Tasks, the `Sequence.expandAndClone()` fails with an `IndexError` from `ExpandVisitor.result()`. There the internal list of sequenceable objects is empty, and `self.l[0]` leads to an `IndexError`. This PR fixes the error by first checking the length of the sequenceable object list, and if empty, return the sequence type with only the Task part.\r\n\r\nThe error was reported in https://hypernews.cern.ch/HyperNews/CMS/get/swDevelopment/3538.html\r\n\r\n#### PR validation:\r\n\r\nUnit tests run.", "branch": "master", "changed_files": 1, "closed_at": "1568658103", "comments": 12, "commits": 1, "created_at": "1568642294", "deletions": 4, "labels": ["bug-fix", "code-checks-approved", "comparison-available", "core-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "befda99cc75775944896f7170e05ccbd3d4374d7", "merged_at": "1568658103", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 28006, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix ExpandVisitor.result() to work also with an empty result", "updated_at": "1568658103", "user": "makortel"}