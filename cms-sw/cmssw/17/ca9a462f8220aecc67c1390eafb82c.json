{"additions": 81, "auther_ref": "convertPostLS1ToEraTranche2", "auther_sha": "912491e97516312bd380ad8c4b601a4c547e7bb1", "author": "mark-grimes", "body": "This moves the post LS1 customs for the pixels out of the `customiseRun2EraExtras` customisation function and into the `run2` era.  This follows on from #7419.\n\nNote that this doesn't affect the normal postLS1Customs function which is used by default for all post LS1 workflows.  None of these changes have any affect unless the `run2` era is explicitly used.\n\nTo use the `run2` era replace\n\n```\n--customise SLHCUpgradeSimulations/Configuration/postLS1Customs.customisePostLS1\n```\n\nwith:\n\n```\n--era run2 --customise SLHCUpgradeSimulations/Configuration/postLS1Customs.customiseRun2EraExtras\n```\n\nfor any postLS1 workflow (the `customiseRun2EraExtras` customisation is just to do the bits still left to be implemented in the `run2` era).  Note that to test this particular change a pileup should also be specified, since the modifications are dependant on the bunch spacing.\n\nThe changes in the first commit (22f41e2) are just to update for external changes to the customisations in the last week, and not strictly related to this change (but still required).\n\nFirst tested by comparing the config files after `edmConfigDump` of 1320.0 with `--pileup AVE_20_BX_25ns` added with and without this pull request - i.e. to make sure the default is unchanged.  No differences whatsoever as expected.\nNext tested the same way but with the replacement mentioned above to activate the `run2` era, and compared against when the `customisePostLS1` customisation is used.  Several differences are reported by diff but all can be explained.\n- Using the customisation function, customisations are only applied `if hasattr(process,'digitisation_step')`; hence the process.mix for any step other than digi doesn't have the changes.  Using the era the changes are always applied.\n- Using the customisation function changes only the copy in `process.mix.digitisers`.  Using the era changes the top level object before it is copied into `process.mix.digitisers` (or anywhere else).  Hence using the era the changes are in all copies.\n", "branch": "CMSSW_7_4_X", "changed_files": 2, "closed_at": "1422999067", "comments": 5, "commits": 2, "created_at": "1422883957", "deletions": 31, "labels": ["comparison-available", "pending-signatures", "simulation-pending", "tests-approved"], "merge_commit_sha": "b6a58e7cca722a0e6920a463d9168a89f36757d5", "merged_at": "1422999067", "merged_by": "davidlange6", "milestone": "Next CMSSW_7_4_X", "number": 7500, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Add pixel digitiser changes to the run2 era", "updated_at": "1423154136", "user": "mark-grimes"}