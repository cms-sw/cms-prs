{"additions": 804, "auther_ref": "UpdatedJetTools-OnTopOfImprovedPATbtagESLoading_from-CMSSW_8_0_0_pre4", "auther_sha": "b91cf04954f953ad320553713594c72ec9a024f4", "author": "cms-btv-pog", "body": "This PR builds on top of #8288 and adds the updateJetCollection() function to jetTools.py. This function allows, in a user-friendly way, to update the jet energy corrections and re-run existing or add additional b-tag discriminators. It can also be used to add TagInfos to jets. It primarily targets updating pat::Jets stored in MiniAOD. In addition, users can manually add an arbitrary set of additional userFloats.\n\nAn example cfg file `PhysicsTools/PatAlgos/test/patTuple_updateJets_fromMiniAOD_cfg.py` was also added and included in PAT unit tests.\n\nOne caveat concerns added TagInfos. They cannot be successfully retrieved from pat::Jets stored in the existing MiniAOD datasets due to a bug in the `PATJetSlimmer` which was not clearing the `tagInfoLabels_` data member of the `pat::Jet` class when dropping the TagInfos from slimmed jets. This PR therefore also includes a required bugfix for the `PATJetSlimmer`.\n\n@ahinzmann @imarches @gpetruc @arizzi\n", "branch": "CMSSW_8_0_X", "changed_files": 12, "closed_at": "1452402641", "comments": 7, "commits": 6, "created_at": "1451916134", "deletions": 395, "labels": ["analysis-pending", "comparison-available", "orp-pending", "pending-signatures", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "617deb618290823ae4c9ddaf63635a4f30487b02", "merged_at": "1452402641", "merged_by": "davidlange6", "milestone": "CMSSW_8_0_X", "number": 12863, "release-notes": [], "review_comments": 2, "state": "closed", "title": "Added updateJetCollection() function to jetTools.py and related changes to the PATJetUpdater and the pat::Jet class", "updated_at": "1453218085", "user": "ferencek"}