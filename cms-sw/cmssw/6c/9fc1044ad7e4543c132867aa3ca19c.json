{"additions": 17, "auther_ref": "fix-xdaq-removal-macosx", "auther_sha": "0c3bb4ee3c6fa72be0bb17b588de2da3f5500c20", "author": "ktf", "body": "The changes in #662, #814 break on macosx because apparently flock has a different layout there:\n\ni.e. on mac:\n\n``` C++\nstruct flock {\n        off_t   l_start;        /* starting offset */\n        off_t   l_len;          /* len = 0 means until end of file */\n        pid_t   l_pid;          /* lock owner */                                                                                                                                                                                                          \n        short   l_type;         /* lock type: read/write, etc. */\n        short   l_whence;       /* type of l_start */\n};\n```\n\nvs on linux:\n\n``` C++\nstruct flock {\n        short   l_type;\n        short   l_whence;\n        off_t   l_start;\n        off_t   l_len;                                                                                                                                                                                                                                    \n        pid_t   l_pid;\n        __ARCH_FLOCK_PAD\n};\n```\n\nthis change adds an helper which takes care of the layout.\n", "branch": "CMSSW_7_0_X", "changed_files": 1, "closed_at": "1379065742", "comments": 2, "commits": 1, "created_at": "1379056106", "deletions": 6, "labels": ["daq-pending", "pending-signatures"], "merge_commit_sha": "bd854dd491401487e6bc26f9709864870cf2e446", "merged_at": "1379065742", "merged_by": "ktf", "milestone": "CMSSW_7_0_0_pre4", "number": 821, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Macosx uses a different layout for struct flock.", "updated_at": "1381220311", "user": "ktf"}