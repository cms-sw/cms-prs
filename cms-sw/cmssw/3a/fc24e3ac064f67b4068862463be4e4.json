{"additions": 19, "auther_ref": "fix_PB_file_permissions_v2", "auther_sha": "41396fc3a86a24d3c98b5df971b14615c67dfa3d", "author": "diguida", "body": "Several fixes to the way files containing DQM `MonitorElement` encoded with `ProtocolBuffer` are created and managed:\n- in `DQMFileSaver`, protect a function member call for `FastMonitoringService` pointer by testing whether or not is is a `nullptr`; as a consequence, `ProtocolBuffer` encoded files are saved for non-empty lumisections only in real `FilterUnit` mode;\n- in `DQMFileSaver`, when faking `FilterUnit` mode, set explicitly `umask` to `0`: this is done in order to reproduce what DAQ2 services do;\n- in `DQMFileSaver`, save files containing DQM `MonitorElement` encoded with `ProtocolBuffer` by explicitly setting permissions to `0666`: in principle, this should be handled by the environment or the OS, but `ProtocolBuffer` examples seem to require explicit file permission handling (see discussion in the code);\n- in `fastHadd`, save files merged and encoded with `ProtocolBuffer` by explicitly setting permissions to `0666`: see comment above.\n", "branch": "CMSSW_7_1_X", "changed_files": 3, "closed_at": "1407239986", "comments": 9, "commits": 4, "created_at": "1407220082", "deletions": 5, "labels": ["comparison-available", "dqm-approved", "fully-signed", "orp-pending", "tests-approved"], "merge_commit_sha": "5f78b5288399fe77e31fc995a6779d93ac06841a", "merged_at": "1407239986", "merged_by": "davidlange6", "milestone": "CMSSW_7_1_X", "number": 4876, "release-notes": [], "review_comments": 9, "state": "closed", "title": "Fix file creations and permissions for DQM histograms encoded with ProtocolBuffer", "updated_at": "1408108371", "user": "diguida"}