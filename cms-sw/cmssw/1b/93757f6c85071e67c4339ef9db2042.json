{"additions": 253, "auther_ref": "MigrationToDD4hepForME0dbLoader", "auther_sha": "dcc4f56658975c527ae89a484419e712a1df75f7", "author": "slomeo", "body": "**PR description:**\r\n\r\nThis PR (only for ME0) followed what I did for GEM in the PR #32982  . \r\n\r\n**PR validation:**\r\n\r\n1) Validation by using \"cmsRun CondTools/Geometry/test/me0geometrywriter.py\" (with DDD and DD4hep):\r\nby checking printouts for both DD & DD4Hep build methods within the ME0GeometryParsFromDD Class in order to compare some DetId parameters (see below):\r\n\r\n//DDD\r\n\r\n(0) ME0GeometryParsFromDD - DDD \r\n(1) DDD, dimension dx1 109.951, dx2 263.652, dy 435.84, dz 147.5\r\n(2) DDD, tran vector 1059.4  -2.37076e-12  5393.5\r\n(3) DDD, rot matrix 2.44929e-16  -1  2.44929e-16 4.89859e-16  3.67394e-16  -1 1  -3.67394e-16  -1.22465e-16\r\n(4) DDD, Chamber DetID 704643078 Name ME0Box\r\n(1) DDD, dimension dx1 109.951, dx2 263.652, dy 435.84, dz 2.9875\r\n(2) DDD, tran vector 1059.4  -2.32539e-12  5270\r\n(3) DDD, rot matrix 2.44929e-16  -1  2.44929e-16 4.89859e-16  3.67394e-16  -1 1  -3.67394e-16  -1.22465e-16\r\n(5) DDD, Layer DetID 704643334 Name ME0L\r\n(1) DDD, dimension dx1 237.625, dx2 263.652, dy 73.803, dz 2.9875\r\n(2) DDD, tran vector 1421.44  -2.4584e-12  5270\r\n(3) DDD, rot matrix 2.44929e-16  -1  2.44929e-16 4.89859e-16  3.67394e-16  -1 1  -3.67394e-16  -1.22465e-16\r\n(6) DDD, Eta Partion DetID 704651526 Name GHA001 nStrips 384 nPads 192\r\n\r\nand so on...\r\n\r\n//DD4Hep \r\n\r\n(0) ME0GeometryParsFromDD - DD4HEP \r\n(1) DD4HEP, dimension dx1 109.951, dx2 263.652, dy 435.84, dz 147.5\r\n(2) DD4HEP, tran vector 1059.4  0  5393.5\r\n(3) DD4HEP, rot matrix -6.12323e-17  -1  -6.12323e-17 0  -1.22465e-16  -1 1  1.22465e-16  1.83697e-16\r\n(4) DD4HEP, Chamber DetID 704643078 Name ME0Box\r\n(1) DD4HEP, dimension dx1 109.951, dx2 263.652, dy 435.84, dz 2.9875\r\n(2) DD4HEP, tran vector 1059.4  -1.51244e-14  5270\r\n(3) DD4HEP, rot matrix -6.12323e-17  -1  -6.12323e-17 0  -1.22465e-16  -1 1  1.22465e-16  1.83697e-16\r\n(5) DD4HEP, Layer DetID 704643334 Name ME0L\r\n(1) DD4HEP, dimension dx1 237.625, dx2 263.652, dy 73.803, dz 2.9875\r\n(2) DD4HEP, tran vector 1421.44  2.92124e-14  5270\r\n(3) DD4HEP, rot matrix -6.12323e-17  -1  -6.12323e-17 0  -1.22465e-16  -1 1  1.22465e-16  1.83697e-16\r\n(6) DD4HEP, Eta Partion DetID 704651526 Name GHA001 nStrips 384 nPads 192\r\n\r\nand so on..\r\n\r\nThe DD part of the code has not been touched by this PR (except for the printouts). Added \"/ dd4hep::mm;\", where it was necessary, in the DD4Hep part of the code.\r\n\r\n2) Validation by using a dump script, as I did for the PRs (#32992  #32982  #32781 ), that reads  a local .mb file produced by Payload scripts has been not performed because some problems are present. Please read the FIXME comment in CondTools/Geometry/test/writehelpers/geometryExtended2026_writer.py\r\n\r\nThis second validation step will be perfomed when all the problems with Payloads will be fixed.\r\n\r\n**if this PR is a backport please specify the original PR and why you need to backport that PR:**\r\n\r\nnothing special\r\n\r\n", "branch": "master", "changed_files": 8, "closed_at": "1616069692", "comments": 15, "commits": 8, "created_at": "1615185304", "deletions": 49, "labels": ["code-checks-approved", "db-approved", "fully-signed", "geometry-approved", "orp-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "3367af4a001069bada5fcde8f335ff75d149bcbf", "merged_at": "1616069692", "merged_by": "cmsbuild", "milestone": "CMSSW_11_3_X", "number": 33098, "release-notes": [], "review_comments": 4, "state": "closed", "title": "Migration to DD4hep for ME0 db Loader", "updated_at": "1616069692", "user": "slomeo"}