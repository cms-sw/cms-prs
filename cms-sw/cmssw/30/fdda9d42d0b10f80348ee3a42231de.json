{"additions": 25, "auther_ref": "fix_FinalPath_check", "auther_sha": "db6136f4adc385ec1a64dc15c66a0dd22e326c9c", "author": "fwyzard", "body": "#### PR description:\r\n\r\nIf an `EDProducer` or `EDFilter` is inserted in a `FinalPath`, the job fails with a cryptic error:\r\n```\r\n----- Begin Fatal Exception 03-Oct-2023 15:42:41 CEST-----------------------\r\nAn exception of category 'ConfigFileReadError' occurred while\r\n   [0] Processing the python configuration file named dump.py\r\nException Message:\r\n unknown python problem occurred.\r\nAttributeError: 'str' object has no attribute 'label_'\r\n\r\nAt:\r\n  /data/user/fwyzard/CMSSW_13_3_X_2023-10-02-2300/src/FWCore/ParameterSet/python/Config.py(1292): <listcomp>\r\n  /data/user/fwyzard/CMSSW_13_3_X_2023-10-02-2300/src/FWCore/ParameterSet/python/Config.py(1292): _insertPaths\r\n  /data/user/fwyzard/CMSSW_13_3_X_2023-10-02-2300/src/FWCore/ParameterSet/python/Config.py(1490): fillProcessDesc\r\n  <string>(2): <module>\r\n\r\n----- End Fatal Exception -------------------------------------------------\r\n```\r\n\r\nWith these changes, the error is more meaningful:\r\n```\r\n----- Begin Fatal Exception 03-Oct-2023 15:46:00 CEST-----------------------\r\nAn exception of category 'ConfigFileReadError' occurred while\r\n   [0] Processing the python configuration file named dump.py\r\nException Message:\r\n unknown python problem occurred.\r\nRuntimeError: FinalPath HLTriggerFinalPath has non OutputModules HLTBool,TriggerSummaryProducerRAW\r\n\r\nAt:\r\n  /data/user/fwyzard/CMSSW_13_3_X_2023-10-02-2300/src/FWCore/ParameterSet/python/Config.py(1290): _insertPaths\r\n  /data/user/fwyzard/CMSSW_13_3_X_2023-10-02-2300/src/FWCore/ParameterSet/python/Config.py(1487): fillProcessDesc\r\n  <string>(2): <module>\r\n\r\n----- End Fatal Exception -------------------------------------------------\r\n```\r\n\r\nThe unit tests are extended to catch the error.\r\n\r\n#### PR validation:\r\n\r\nThe extended unit tests pass.\r\n", "branch": "master", "changed_files": 1, "comments": 20, "commits": 2, "created_at": "1696333912", "deletions": 6, "labels": ["core-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved"], "milestone": "CMSSW_14_0_X", "number": 42936, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix logic error in `FinalPath` checks", "updated_at": "1700724790", "user": "fwyzard"}