{"additions": 773, "auther_ref": "AvoidReadingDictionariesUnnecessarily", "auther_sha": "b60bb91b9c3a0f03e13ef88bdefbbe18734dfdf2", "author": "wmtan", "body": "This is the fix for the problem discussed at the Core Software meeting on Tuesday.  Dictionaries were read for every object that was ever in the file, rather than as needed.\nTechnically, what this pull request does is reverse what was done in April 2011, which removed EDProduct as a base class of Wrapper.  This was done because the presence of the base class caused an extra ROOT subbranch for each EDProduct.  It turns out that the extra subbranch was due to a ROOT bug, which has now been fixed.  Restoring EDProduct as a base class does not change the format of persistent files, or cause backward compatibility issues.  What it does do is remove a lot of unnecessary dictionary processing, and also reduces the amount of source code by 571 lines.  It is also absolutely necessary for ROOT 6.\nI ran all framework unit tests and the short relval matrix on this request, and everything passed.\nThe very small changes outside the framework are the minimal necessary adaptations to the framework change.\n", "branch": "CMSSW_7_2_X", "changed_files": 133, "closed_at": "1408962198", "comments": 37, "commits": 8, "created_at": "1408106626", "deletions": 1514, "labels": ["alca-pending", "analysis-pending", "comparison-available", "core-approved", "daq-pending", "generators-pending", "geometry-approved", "pending-signatures", "reconstruction-pending", "simulation-pending", "tests-rejected", "visualization-approved"], "merge_commit_sha": "e1332d3f34db396fecb9f880ee1a1a89e21a4141", "merged_at": "1408962198", "merged_by": "ktf", "milestone": "Next CMSSW_7_2_X", "number": 4958, "release-notes": [], "review_comments": 115, "state": "closed", "title": "Don't check dictionaries unnecessarily", "updated_at": "1409856618", "user": "wmtan"}