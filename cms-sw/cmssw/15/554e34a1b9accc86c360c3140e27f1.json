{"additions": 300, "auther_ref": "devel_testTriggerMonitors", "auther_sha": "444109c9f10e9bbc6f16250d4a1995dbdca4489c", "author": "missirol", "body": "#### PR description:\r\n\r\nThis PR aims to add a unit test involving most of the DQM modules (and services) running in the HLT and providing inputs to the online DQM. The test includes both DQM and harvesting steps, and it only requires that both run without errors (the unit test does not check the outputs).\r\n\r\nSmall changes are also made in the cpp implementation of a few plugins:\r\n - the parameter `FolderName` of `PSMonitor` is renamed `folderName` as done for `LumiMonitor` in #39859;\r\n - default values are added for the parameters of `LumiMonitor` that don't currently have them;\r\n - a parameter `fillEveryLumiSection` is added to `ThroughputServiceClient` in analogy with `FastTimeServiceClient`.\r\n\r\nThere are two changes that require feedback (I'm not sure they are correct):\r\n\r\n - I needed to add a call in `ThroughputService` to change the 'scope of the DQM outputs' to `RUN`, otherwise I would not see the `HLT/Throughput` folder in the harvesting output of the unit test; I copied this scope change from `FastTimerService`, and I figure that's what was needed. I'm not sure it is the correct change; clearly the `ThroughputService` outputs were already produced correctly in the online DQM (maybe in that case the default scope is somehow set differently compared to this unit test);\r\n - I removed the `PSMonitorClient`; it does not produce outputs, it can only issue a warning, and maybe this is not so useful, but also here feedback would be needed.\r\n\r\nThis PR requires #40325.\r\n\r\nMerely technical. No changes expected.\r\n\r\n#### PR validation:\r\n\r\nManual tests with new unit test.\r\n\r\n#### If this PR is a backport, please specify the original PR and why you need to backport that PR. If this PR will be backported, please specify to which release cycle the backport is meant for:\r\n\r\nN/A", "branch": "master", "changed_files": 12, "comments": 22, "commits": 6, "created_at": "1671122817", "deletions": 152, "labels": ["dqm-pending", "hlt-approved", "pending-signatures", "tests-approved", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_13_0_X", "number": 40334, "release-notes": [], "review_comments": 7, "state": "open", "title": "add unit test for HLT online-DQM plugins", "updated_at": "1673255772", "user": "missirol"}