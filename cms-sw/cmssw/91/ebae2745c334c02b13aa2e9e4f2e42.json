{"additions": 2439, "auther_ref": "MemoryPoolReload", "auther_sha": "db10a699f0a21bb9b2f73e666621cf49895dea31", "author": "VinInn", "body": "This is a new version of #37952 mostly for benchmarking purposes.\r\n\r\nIt extends the use of the new memory pool to the calorimeters (including the HostAllocator).\r\n\r\nA new feature comes from realizing that there is no reason to delay memory free in DataFormats as there is always a stream-sync before any data-format is deleted. \r\nFor those hosted on the host (sic) it's absolutely safe (either are used and better be a sync before that, or does not matter).\r\nFor those hosted on the device it can only fail for very (very) peculiar early delete patterns involving intermediate results used only on device.\r\n@makortel : could you please comment on this statement/proposal?\r\n\r\nw/r/t public benchmarks such as \r\n\r\n![image](https://user-images.githubusercontent.com/4143702/194033800-510d0adc-1a06-4ae5-8d01-a151c0c39664.png)\r\n\r\n\r\nI obtain 812Hz for 32 threads (instead of 763 above)", "branch": "CMSSW_12_4_X", "changed_files": 71, "comments": 19, "commits": 19, "created_at": "1664955545", "deletions": 912, "labels": ["reconstruction-pending", "alca-rejected", "pending-signatures", "tests-rejected", "orp-pending", "heterogeneous-pending"], "milestone": "CMSSW_12_4_X", "number": 39623, "release-notes": [], "review_comments": 0, "state": "open", "title": "[Do Not Merge] New \"CUDA\" Memory Pool [12.4.X]", "updated_at": "1671069221", "user": "VinInn"}