{"additions": 91, "auther_ref": "unifyPixelDigi", "auther_sha": "3612a7a99f1ae38e2850c456fe0ad63921c81eb5", "author": "makortel", "body": "The motivation for this PR is to add support for #22465 in premixing stage2. This is done by making `PreMixingSiPixelWorker` to use `SiPixelDigitizerAlgorithm` as much as possible so that in the future new features of `SiPixelDigitizerAlgorithm` would be available in the premixing as well. There is room for further cleanup (which I did not attempt in order to improve chances of getting this in pre6).\r\n\r\nTested in CMSSW_10_2_0_pre5. Expecting random changes in phase0/1 premixing workflows because of changed random number sequence.\r\n\r\nThere is a way to make this PR fully reproducible though. It requires commenting out these lines\r\nhttps://github.com/cms-sw/cmssw/blob/c45eeb56348604cb5f094701b45b2c2192792394/SimTracker/SiPixelDigitizer/plugins/SiPixelDigitizerAlgorithm.cc#L1687-L1698\r\n(as already noted in #22465), and setting `mixData.workers.pixel.NoiseInElectrons = -1` to disable these\r\nhttps://github.com/cms-sw/cmssw/blob/c45eeb56348604cb5f094701b45b2c2192792394/SimTracker/SiPixelDigitizer/plugins/SiPixelDigitizerAlgorithm.cc#L778-L810\r\n\r\n@mdhildreth @veszpv @boudoul @tsusa @tvami ", "branch": "master", "changed_files": 4, "comments": 9, "commits": 1, "created_at": "1528716691", "deletions": 464, "labels": ["code-checks-approved", "comparison-pending", "orp-pending", "pending-signatures", "simulation-pending", "tests-approved"], "milestone": "CMSSW_10_2_X", "number": 23556, "release-notes": [], "review_comments": 1, "state": "open", "title": "Reduce copy-paste by making PreMixingSiPixelWorker to use SiPixelDigitizerAlgorithm", "updated_at": "1528726359", "user": "makortel"}