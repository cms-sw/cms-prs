{"additions": 33, "auther_ref": "fix-typeid-expression", "auther_sha": "49964c2a88c98bf7db133f50254d5510139c1abc", "author": "davidlt", "body": "Clang warns if expression inside `typeid()` or `sizeof()` could create\nunwanted side effects.\n\nTwo warnings were in this package. Full message:\n\n```\nwarning: expression with side effects will be evaluated despite being\nused as an operand to 'typeid' [-Wpotentially-evaluated-expression]\n```\n\nI couldn't find code in CMSSW using `getAs<>()`. They are only tested in\nprivate tests (different package), but it's not executed in CMSSW\ntestsuite. In addition to that test input file is not present.\n\nThe pieces generating message were tested manually in a standalone\ntestcase.\n\nTested on GCC (4.9.1) and Clang (pre-3.6).\n\nIf it's impossible to demangle symbols at run-time, message will be:\n\n```\nYou can't convert a 'N3edm3PtrI10Candidate2EE' to a '9Candidate'\nNote: you can use 'c++filt -t' command to convert the above in human readable types.\n```\n\nThis is a light update to old one. Also mention `-t` option, as `c++filt`\ndoes not demangle type symbols by default.\n\nIf we can demangle symbols at run-time, message will be:\n\n```\nYou can't convert a 'Candidate2' to a 'Candidate'\n```\n\nNotice that instead of printing `edm::Ptr<Candidate>` it talks about\nactual type in `edm::Ptr<>`.\n\nSigned-off-by: David Abdurachmanov David.Abdurachmanov@cern.ch\n", "branch": "CMSSW_7_5_X", "changed_files": 2, "closed_at": "1433768891", "comments": 7, "commits": 1, "created_at": "1432989886", "deletions": 7, "labels": ["analysis-approved", "comparison-available", "fully-signed", "tests-approved"], "merge_commit_sha": "747659869eb0649426773362df0c5309b83850d7", "merged_at": "1433768891", "merged_by": "cmsbuild", "milestone": "CMSSW_7_5_X", "number": 9355, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix -Wpotentially-evaluated-expression warnings", "updated_at": "1433768891", "user": "davidlt"}