{"additions": 346, "auther_ref": "mc-SimCluValidation", "auther_sha": "482a96dbf0c114cb2726e52cbb8c771c067a6b18", "author": "casarsa", "body": "#### PR description:\r\n\r\nThis PR builds the SIM clusters associated to the reconstructed BTL and ETL clusters and fills new monitoring histograms with:\r\n- time, energy and position resolutions for BTL and ETL clusters;\r\n- cluster time pulls vs energy and eta;\r\n- Y vs X of the cluster local coordinates.\r\n\r\n(@fabiocos , @parbol , @gsorrentino18 )\r\n\r\n#### PR validation:\r\n\r\nThe new code has been validated with the TTbar WFs 34634.0 and 34834.0 with CMSSW_12_0_X_2021-06-21-1100.\r\n\r\n--------------------------------------------------------------------------------------\r\n\r\n**current code**\r\n\r\nstep 3 (WF 34634.0)\r\n\r\nMemoryReport> Peak virtual size 6372.39 Mbytes\r\n Key events increasing vsize: \r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[1] run: 1 lumi: 1 event: 1  vsize = 6372.34 deltaVsize = 0 rss = 3253.47 delta = 0\r\n[2] run: 1 lumi: 1 event: 2  vsize = 6372.39 deltaVsize = 0.046875 rss = 3338.56 delta = 85.0898\r\n[8] run: 1 lumi: 1 event: 8  vsize = 6372.39 deltaVsize = 0.0078125 rss = 3397.37 delta = 58.8047\r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[10] run: 1 lumi: 1 event: 10  vsize = 6372.39 deltaVsize = 0 rss = 3408.45 delta = 11.0859\r\n[9] run: 1 lumi: 1 event: 9  vsize = 6372.39 deltaVsize = 0 rss = 3405.04 delta = 7.66797\r\n[8] run: 1 lumi: 1 event: 8  vsize = 6372.39 deltaVsize = 0.0078125 rss = 3397.37 delta = 58.8047\r\nTimeReport> Time report complete in 281.325 seconds\r\n Time Summary: \r\n - Min event:   2.63794\r\n - Max event:   17.0326\r\n - Avg event:   5.85748\r\n - Total loop:  122.119\r\n - Total init:  154.509\r\n - Total job:   281.325\r\n - EventSetup Lock:   0\r\n - EventSetup Get:   0\r\n Event Throughput: 0.0818873 ev/s\r\n CPU Summary: \r\n - Total loop:  115.4\r\n - Total init:  156.349\r\n - Total extra: 0\r\n - Total job:   275.98\r\n Processing Summary: \r\n - Number of Events:  10\r\n - Number of Global Begin Lumi Calls:  1\r\n - Number of Global Begin Run Calls: 1\r\n\r\nstep 3 (WF 34834.0)\r\n\r\n MemoryReport> Peak virtual size 10830.3 Mbytes\r\n Key events increasing vsize: \r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[1] run: 1 lumi: 1 event: 1  vsize = 9805.86 deltaVsize = 0 rss = 7058.96 delta = 0\r\n[2] run: 1 lumi: 1 event: 2  vsize = 10830.3 deltaVsize = 1024.49 rss = 7500.25 delta = 441.285\r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[4] run: 1 lumi: 1 event: 4  vsize = 10830.3 deltaVsize = 0 rss = 7134.74 delta = -365.512\r\n[3] run: 1 lumi: 1 event: 3  vsize = 10830.3 deltaVsize = 0 rss = 7416.19 delta = -84.0586\r\n[2] run: 1 lumi: 1 event: 2  vsize = 10830.3 deltaVsize = 1024.49 rss = 7500.25 delta = 441.285\r\nTimeReport> Time report complete in 2298.29 seconds\r\n Time Summary: \r\n - Min event:   141.309\r\n - Max event:   332.148\r\n - Avg event:   186.191\r\n - Total loop:  2040.3\r\n - Total init:  252.703\r\n - Total job:   2298.29\r\n - EventSetup Lock:   0\r\n - EventSetup Get:   0\r\n Event Throughput: 0.00490124 ev/s\r\n CPU Summary: \r\n - Total loop:  1494.69\r\n - Total init:  102.663\r\n - Total extra: 0\r\n - Total job:   1602.19\r\n Processing Summary: \r\n - Number of Events:  10\r\n - Number of Global Begin Lumi Calls:  1\r\n - Number of Global Begin Run Calls: 1\r\n\r\n--------------------------------------------------------------------------------------\r\n\r\n**new code**\r\n\r\nstep 3 (WF 34634.0)\r\n\r\nMemoryReport> Peak virtual size 6374.41 Mbytes\r\n Key events increasing vsize: \r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[1] run: 1 lumi: 1 event: 1  vsize = 6374.36 deltaVsize = 0 rss = 3375.52 delta = 0\r\n[2] run: 1 lumi: 1 event: 2  vsize = 6374.41 deltaVsize = 0.046875 rss = 3448.57 delta = 73.0586\r\n[8] run: 1 lumi: 1 event: 8  vsize = 6374.41 deltaVsize = 0.0078125 rss = 3500.94 delta = 52.3633\r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[10] run: 1 lumi: 1 event: 10  vsize = 6374.41 deltaVsize = 0 rss = 3509.6 delta = 8.66016\r\n[9] run: 1 lumi: 1 event: 9  vsize = 6374.41 deltaVsize = 0 rss = 3513.95 delta = 13.0078\r\n[8] run: 1 lumi: 1 event: 8  vsize = 6374.41 deltaVsize = 0.0078125 rss = 3500.94 delta = 52.3633\r\nTimeReport> Time report complete in 219.515 seconds\r\n Time Summary: \r\n - Min event:   2.40397\r\n - Max event:   16.8583\r\n - Avg event:   5.15732\r\n - Total loop:  106.134\r\n - Total init:  109.03\r\n - Total job:   219.515\r\n - EventSetup Lock:   0\r\n - EventSetup Get:   0\r\n Event Throughput: 0.0942203 ev/s\r\n CPU Summary: \r\n - Total loop:  100.611\r\n - Total init:  135.833\r\n - Total extra: 0\r\n - Total job:   240.449\r\n Processing Summary: \r\n - Number of Events:  10\r\n - Number of Global Begin Lumi Calls:  1\r\n - Number of Global Begin Run Calls: 1\r\n\r\nstep 3 (WF 34834.0)\r\n\r\nMemoryReport> Peak virtual size 10829.4 Mbytes\r\n Key events increasing vsize: \r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[1] run: 1 lumi: 1 event: 1  vsize = 9804.88 deltaVsize = 0 rss = 6334.34 delta = 0\r\n[2] run: 1 lumi: 1 event: 2  vsize = 10829.4 deltaVsize = 1024.49 rss = 6906.25 delta = 571.91\r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[0] run: 0 lumi: 0 event: 0  vsize = 0 deltaVsize = 0 rss = 0 delta = 0\r\n[4] run: 1 lumi: 1 event: 4  vsize = 10829.4 deltaVsize = 0 rss = 6600.7 delta = -305.551\r\n[3] run: 1 lumi: 1 event: 3  vsize = 10829.4 deltaVsize = 0 rss = 6856.95 delta = -49.3008\r\n[2] run: 1 lumi: 1 event: 2  vsize = 10829.4 deltaVsize = 1024.49 rss = 6906.25 delta = 571.91\r\nTimeReport> Time report complete in 2217.3 seconds\r\n Time Summary: \r\n - Min event:   143.84\r\n - Max event:   377.531\r\n - Avg event:   193.618\r\n - Total loop:  2092.58\r\n - Total init:  119.324\r\n - Total job:   2217.3\r\n - EventSetup Lock:   0\r\n - EventSetup Get:   0\r\n Event Throughput: 0.00477879 ev/s\r\n CPU Summary: \r\n - Total loop:  1516.13\r\n - Total init:  96.4185\r\n - Total extra: 0\r\n - Total job:   1617.48\r\n Processing Summary: \r\n - Number of Events:  10\r\n - Number of Global Begin Lumi Calls:  1\r\n - Number of Global Begin Run Calls: 1\r\n\r\n--------------------------------------------------------------------------------------\r\n\r\n**DQM file size**\r\ncurrent:\r\n1129.74 KiB      MTD/ETL\r\n239.63 KiB       MTD/BTL\r\n\r\nnew:\r\n1535.33 KiB      MTD/ETL\r\n560.66 KiB       MTD/BTL\r\n", "branch": "master", "changed_files": 2, "closed_at": "1624572680", "comments": 14, "commits": 6, "created_at": "1624359805", "deletions": 20, "labels": ["code-checks-approved", "dqm-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "4dc30552dd57a082db88922529d708ad2edbac48", "merged_at": "1624572680", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 34207, "release-notes": [], "review_comments": 5, "state": "closed", "title": "MTD Validation: SIM clusters", "updated_at": "1624572681", "user": "casarsa"}