{"additions": 4, "auther_ref": "cc8-unittest-conddb", "auther_sha": "ebb94c9db66dabb8444dcba6741f4c46c184b036", "author": "smuzaffar", "body": "#### PR description:\r\n\r\nThese unit tests are failing in CC8 IBs. Using non-static ServiceToken and Registry fixes these.\r\n@Dr15Jones , could it be that there is some double delete going on in ServiceToken/Registry? The error we get is\r\n```\r\n==== Test \"testFrontier\" ====\r\n# Connecting with db in frontier://FrontierProd/CMS_CONDITIONS\r\nLoaded size=90714\r\nfree(): corrupted unsorted chunks\r\n/bin/sh: line 1: 18858 Aborted                 testFrontier\r\n\r\n---&gt; test testFrontier had ERRORS\r\n```\r\n\r\n<!-- Please replace this text with a description of the feature proposed or problem addressed, what changes are expected in the output if any, what other PRs or externals it depends upon if any -->\r\n\r\n#### PR validation:\r\n\r\nLocally build/run and all unit tests of this package now runs successfully for CentOS8\r\n```\r\nSingularity> cat logs/cc8_amd64_gcc8/testing.log | grep '^---> test '\r\n---> test testReadWritePayloads succeeded\r\n---> test testRunInfo succeeded\r\n---> test testGroupSelection succeeded\r\n---> test testFrontier succeeded\r\n---> test testConditionDatabase_2 succeeded\r\n---> test testPayloadProxy succeeded\r\n---> test testRootStreaming succeeded\r\n---> test testConditionDatabase_0 succeeded\r\n---> test testConnectionPool had ERRORS\r\n---> test testConditionDatabase_1 succeeded\r\n---> test condTestRegression succeeded\r\n```", "branch": "master", "changed_files": 2, "closed_at": "1574239978", "comments": 13, "commits": 1, "created_at": "1574169306", "deletions": 4, "labels": ["code-checks-approved", "comparison-available", "db-pending", "orp-approved", "pending-signatures", "tests-approved"], "merge_commit_sha": "28d024a4f6aa3ae7a0329e303b854b8736169c1f", "merged_at": "1574239978", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 28425, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[CC8] unit test fixed, no need to use static ServiceToken and Registry", "updated_at": "1574239978", "user": "smuzaffar"}