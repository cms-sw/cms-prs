{"additions": 1044, "auther_ref": "CMSSW_10_6_X_tau-pog_deadECAL", "auther_sha": "a1006bed8d0c9c36ca3e411423c3637bb89497c5", "author": "cms-tau-pog", "body": "#### PR description:\r\nRestructured code of againstElectronDeadECAL discriminator to run on either AOD or miniAOD inputs (backport of #29627):\r\n- add a version of the discriminant to run on top of pat::Taus to be used with miniAOD data samples;\r\n- use eta and phi of impact position of the leading PFChargedHadron on ECal surface instead of eta and phi of tau at the vertex (taking bending of track in the magnetic field and the zVertex into account) - feature **disabled by default** for backwards compatibility; \r\n- restructure the code in the way that both AOD and miniAOD version of the discriminant call the same algorithm to avoid code duplication;\r\n- move code performing the extrapolation to the ECal surface from the againstElectronMVA algorithm to an auxiliary helper class which avoids code duplication;\r\n- add output of the againstElectronDeadECAL discriminant produced with AOD inputs (with the extrapolation to ECal surface) to miniAOD workflows for future reMiniAOD with `run2_miniAOD_devel` era (https://github.com/cms-sw/cmssw/issues/27889)\r\n\r\nExpected some differences:\r\n- none with default workflows,\r\n- new tauID embedded into slimmedTaus and slimmedTausBoosted in miniAOD with `run2_miniAOD_devel` era.\r\n\r\n#### PR validation:\r\n\r\n`runTheMatrix.py -l limited -i all` passed successfully except a few failed due to problem with inputs (DAS_ERROR).\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nIt is backport of #29627", "branch": "CMSSW_10_6_X", "changed_files": 15, "closed_at": "1590641920", "comments": 27, "commits": 10, "created_at": "1588681867", "deletions": 880, "labels": ["analysis-approved", "backport-ok", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "aa544ff912ed21644aa1becc30788ab84af707f6", "merged_at": "1590641920", "merged_by": "cmsbuild", "milestone": "CMSSW_10_6_X", "number": 29739, "release-notes": [], "review_comments": 3, "state": "closed", "title": "Restructured code of againstElectronDeadECAL tauID (10_6_X)", "updated_at": "1590641921", "user": "mbluj"}