{"additions": 279, "auther_ref": "from-CMSSW_9_3_X_2017-07-29-1100-bmtf-save-segments", "auther_sha": "5d869e75c9cb4646d0e235b12f1b3a8a200b504c", "author": "dildick", "body": "Slight modification to BMTF so that it writes `L1MuBMTrack`, `L1MuBMTrackSegEta` and `L1MuBMTrackSegPhi` to EDM output file. This is needed to know exactly which L1 segments were used to build the `RegionalMuonCand` at the analysis stage. At the moment there is a missing link between `RegionalMuonCand` and `L1MuDTChambPhContainer`. A deltaR match between `RegionalMuonCand` and `L1MuBMTrack` would resolve that problem. There are no changes made to the BMTF logic or emulator algorithms. The performance should therefore be the same before and after this update.\r\n\r\nI tested it with WF 20434.0 only so far. \r\n\r\nThe extra collections are written out into the ROOT file as you can see below. \r\n\r\n<PRE>\r\n-bash-4.1$ edmEventSize -a -v step2.root | grep BM\r\nl1tRegionalMuonCandBXVector_simBmtfDigis_UnsortedBMTF_HLT. 400.2 294.1\r\nl1tRegionalMuonCandBXVector_simBmtfDigis_BMTF_HLT. 363.2 277\r\nl1tMuonBXVector_simGmtStage2Digis_imdMuonsBMTF_HLT. 348.2 276.4\r\nL1MuBMTracks_simBmtfDigis_BMTF_HLT. 339.7 264.5\r\nL1MuBMTrackSegPhis_simBmtfDigis_BMTF_HLT. 313.3 260.9\r\nL1MuBMTrackSegEtas_simBmtfDigis_BMTF_HLT. 279.7 251.9\r\n</PRE>\r\n\r\n@tahuang1991, @demarley FYI", "branch": "master", "changed_files": 45, "closed_at": "1503586283", "comments": 62, "commits": 7, "created_at": "1501582889", "deletions": 180, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "l1-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "ba3f89c11509183fd4fed9191f0182c8a3d17bfe", "merged_at": "1503586283", "merged_by": "cmsbuild", "milestone": "CMSSW_9_3_X", "number": 19990, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Save transient BMTF objects to EDM output file", "updated_at": "1504721892", "user": "dildick"}