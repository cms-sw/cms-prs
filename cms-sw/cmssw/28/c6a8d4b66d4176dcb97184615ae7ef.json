{"additions": 808, "auther_ref": "dd4hep-merge-geometry-v0", "auther_sha": "265b2c5c37e27641e251988fb684c5d7bbdefcb7", "author": "ianna", "body": "#### PR description:\r\n\r\nDD4hep based DT reco geometry producer performance is satisfactory: 2.3 s vs 1.2 s\r\nGoing ahead with the migration, so keeping all DD4hep code in one package is no longer necessary. Thus, the code has been restructured to facilitate future migration steps by DPGs.\r\nThe DT Geometry builder can be taken as an example.\r\n\r\n* EventSetup geometry-related records have been moved to a Geometry/Records package\r\n* Muon numbering related code has been moved to Geometry/MuonNumbering package\r\n\r\nNote for discussion: in order to keep both DD CMS and DD4hep based code in the same package the latter classes are placed as follows:\r\n```\r\nGeometry/MuonNumbering/interface/DD4hep_DTNumberingScheme.h\r\nGeometry/MuonNumbering/interface/DD4hep_MuonNumbering.h\r\n```\r\nAlternative suggestions are welcome.\r\n\r\n#### PR validation:\r\n\r\nThe RelVal tests and the unit tests are run by default\r\n\r\nAdditional DT Geometry validation plugin is added. To run it:\r\n```\r\ncmsRun Geometry/DTGeometryBuilder/test/python/validateDTGeometry_cfg.py\r\n```\r\n@fabiocos - please, see the attached histograms. The wire X differences should be investigated. However, it's not a showstopper for this PR to be merged.\r\n\r\n@slomeo - FYI.\r\n\r\n@smuzaffar - FYI, DetectorDescription/RecoGeometry package is empty now and can be deleted.\r\n\r\n#### if this PR is a backport please specify the original PR:\r\n\r\nThere is no need to back-port it.\r\n\r\nHere is an updated plot using *float* values in validation:\r\n\r\n![Screenshot 2019-03-29 10 13 38](https://user-images.githubusercontent.com/1390682/55226600-a8b90780-5215-11e9-93d7-597a6c07f411.png)\r\n\r\n\r\n![Screenshot 2019-03-22 17 26 24](https://user-images.githubusercontent.com/1390682/54838095-1f12b280-4cc8-11e9-81f9-24380468b36d.png)\r\n![Screenshot 2019-03-22 17 26 40](https://user-images.githubusercontent.com/1390682/54838096-1f12b280-4cc8-11e9-941a-97d4864b7c52.png)\r\n![Screenshot 2019-03-22 17 26 49](https://user-images.githubusercontent.com/1390682/54838098-1f12b280-4cc8-11e9-8aa1-bfeaddccc018.png)\r\n![Screenshot 2019-03-22 17 26 58](https://user-images.githubusercontent.com/1390682/54838099-1fab4900-4cc8-11e9-8a54-cb8b4978718f.png)\r\n![Screenshot 2019-03-22 17 27 06](https://user-images.githubusercontent.com/1390682/54838100-1fab4900-4cc8-11e9-9f1f-c6d72d6fe13b.png)\r\n![Screenshot 2019-03-22 17 22 00](https://user-images.githubusercontent.com/1390682/54838161-3d78ae00-4cc8-11e9-90d9-aa03260b9b76.png)\r\n![Screenshot 2019-03-22 17 22 11](https://user-images.githubusercontent.com/1390682/54838162-3d78ae00-4cc8-11e9-9660-3d27988fde51.png)\r\n![Screenshot 2019-03-22 17 22 21](https://user-images.githubusercontent.com/1390682/54838163-3d78ae00-4cc8-11e9-8921-bad40d3c6cbc.png)\r\n![Screenshot 2019-03-22 17 22 32](https://user-images.githubusercontent.com/1390682/54838164-3e114480-4cc8-11e9-8251-0001a38ee992.png)\r\n![Screenshot 2019-03-22 17 22 42](https://user-images.githubusercontent.com/1390682/54838166-3e114480-4cc8-11e9-80ec-8c7bc79e3320.png)\r\n", "branch": "master", "changed_files": 51, "closed_at": "1554746289", "comments": 90, "commits": 9, "created_at": "1553183355", "deletions": 322, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "geometry-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "418ada8686cce038beec5cfbcf605ba217493d64", "merged_at": "1554746289", "merged_by": "cmsbuild", "milestone": "CMSSW_10_6_X", "number": 26231, "release-notes": [], "review_comments": 15, "state": "closed", "title": "DD4hep: Merge Development to a Usual Geometry Structure", "updated_at": "1554746290", "user": "ianna"}