{"additions": 832, "auther_ref": "met_validation", "auther_sha": "62694821315102cd46480272a9a9cd8f2d6904b3", "author": "cms-ngt-hlt", "body": "#### PR description\r\n\r\nIntroduce MET Validation at HLT, for Phase-2. The plots are added under ```DQMData/Run 1/HLT/Run summary/JetMET/METValidation/``` and ```DQMData/Run 1/HLT/Run summary/JetMET/TurnOnValidation/```. The quantities being validated in the first folder are standard kinematic variables plus the MET resolution, response and significance, considering ```hltPFMET```, ```hltPFPuppiMET``` and ```hltPFPuppiMETTypeOne```. The second folder contains turn-on curves of Jet and MET triggers.\r\n\r\nThe PR follows #48722 and #48786.\r\n\r\n#### PR validation\r\n\r\nTested with:\r\n\r\n```bash\r\nNEVENTS=1000\r\nGEOM=\"ExtendedRun4D110\"\r\nERA=\"Phase2C17I13M9\"\r\nCONDS=\"auto:phase2_realistic_T33\"\r\nPROCMODS=\"ticl_v5\" # ticl_barrel, alpaka\r\nVALIDSEQ=\"@hltValidation\"\r\nHLTSEQ=\"75e33\" # NGTScouting\r\n\r\nfunction mystep2() {\r\n    cmsDriver.py step2 -s L1P2GT,HLT:\"${HLTSEQ}\",DQM:trackingMonitorHLT,VALIDATION:\"${VALIDSEQ}\" \\\r\n\t\t\t\t --conditions \"${CONDS}\" \\\r\n\t\t\t\t --procModifier \"${PROCMODS}\" \\\r\n\t\t\t\t --datatier GEN-SIM-DIGI-RAW,DQMIO \\\r\n\t\t\t\t -n ${NEVENTS} \\\r\n\t\t\t\t --eventcontent FEVTDEBUGHLT,DQMIO \\\r\n\t\t\t\t --geometry \"${GEOM}\" \\\r\n\t\t\t\t --era \"${ERA}\" \\\r\n\t\t\t\t --customise SLHCUpgradeSimulations/Configuration/aging.customise_aging_1000 \\\r\n\t\t\t\t --filein file:/eos/cms/store/relval/CMSSW_15_1_0_pre5/RelValWprimeToLNu_M2000_14TeV/GEN-SIM-DIGI-RAW/PU_150X_mcRun4_realistic_v1_STD_Run4D110_PU-v1/2580000/00013e0f-1c5d-4097-8882-78035be2f856.root, ...\r\n\t\t\t\t --fileout file:step2.root \\\r\n\t\t\t\t --nThreads 24 \\\r\n\t\t\t\t --hltProcess HLTX \\\r\n\t\t\t\t --processName HLTX \\\r\n\t\t\t\t --pileup AVE_200_BX_25ns \\\r\n\t\t\t\t --pileup_input das:/RelValMinBias_14TeV/CMSSW_15_1_0_pre5-150X_mcRun4_realistic_v1_STD_MinBias_Run4D110_GenSim-v1/GEN-SIM \\\r\n\t\t\t\t --inputCommands='keep *, drop *_hlt*_*_HLT, drop triggerTriggerFilterObjectWithRefs_l1t*_*_HLT' \r\n}\r\n\r\nfunction mystep3() {\r\n    cmsDriver.py step3 -s HARVESTING:\"${VALIDSEQ}\" \\\r\n\t\t\t\t --conditions \"${CONDS}\" \\\r\n\t\t\t\t --procModifier \"${PROCMODS}\" \\\r\n\t\t\t\t --mc \\\r\n\t\t\t\t --geometry \"${GEOM}\" \\\r\n\t\t\t\t --scenario pp \\\r\n\t\t\t\t --filetype DQM \\\r\n\t\t\t\t --era \"${ERA}\" \\\r\n\t\t\t\t -n ${NEVENTS} \\\r\n\t\t\t\t --hltProcess HLTX \\\r\n\t\t\t\t --filein file:step2_inDQM.root \\\r\n\t\t\t\t --fileout file:step3.root\r\n}\r\n\r\nmystep2 && mystep3\r\n```\r\n\r\nwhere the files correspond to 200PU Wprime RelVal samples produced under ```CMSSW_15_1_0_pre4```.\r\n\r\n#### Plotting\r\n\r\nThe outputs shown [here](https://bfontana.web.cern.ch/bfontana/MET_Valid_TICLv5/Wprime/) can be produced with:\r\n\r\n```bash\r\nfor amet in \"hltPFMET\" \"hltPFPuppiMET\" \"hltPFPuppiMETTypeOne\"; do python3 Validation/RecoMET/scripts/makeHLTMETValidationPlots.py --file Run/DQM_1000_QCD.root --odir /eos/user/b/bfontana/www/MET_Valid_TICLv5/QCD -l QCD --met ${amet}; done\r\n```\r\n\r\n", "branch": "master", "changed_files": 18, "comments": 14, "commits": 38, "created_at": "1755264190", "deletions": 710, "labels": ["dqm-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-approved", "ngt"], "milestone": "CMSSW_15_1_X", "number": 48745, "release-notes": [], "review_comments": 10, "state": "open", "title": "Met Validation for Phase-2 HLT", "updated_at": "1757414474", "user": "bfonta"}