{"additions": 969, "auther_ref": "met_validation", "auther_sha": "8f68d29e7ea0758b8e9a2a9b1325005fa1b1268f", "author": "cms-ngt-hlt", "body": "#### PR description\r\n\r\nIntroduce MET Validation at HLT, for Phase-2. The plots are added under ```DQMData/Run 1/HLT/Run summary/JetMET/METValidation/``` and ```DQMData/Run 1/HLT/Run summary/JetMET/TurnOnValidation/```. The quantities being validated in the first folder are standard kinematic variables plus the MET resolution, response and significance, considering ```hltPFMET```, ```hltPFPuppiMET``` and ```hltPFPuppiMETTypeOne```. The second folder contains turn-on curves of Jet and MET triggers.\r\n\r\nThe PR follows #48722 and #48786.\r\n\r\n#### PR validation\r\n\r\nTested under ```CMSSW_16_0_X_2025-09-23-2300```:\r\n\r\n```bash\r\nNEVENTS=1000\r\nGEOM=\"ExtendedRun4D110\"\r\nERA=\"Phase2C17I13M9\"\r\nCONDS=\"auto:phase2_realistic_T33\"\r\nPROCMODS=\"ticl_v5\" # ticl_barrel, alpaka\r\nVALIDSEQ=\"@hltValidation\"\r\nHLTSEQ=\"75e33\" # NGTScouting\r\n\r\nfunction mystep2() {\r\n    cmsDriver.py step2 -s L1P2GT,HLT:\"${HLTSEQ}\",DQM:trackingMonitorHLT,VALIDATION:\"${VALIDSEQ}\" \\\r\n\t\t\t\t --conditions \"${CONDS}\" \\\r\n\t\t\t\t --procModifier \"${PROCMODS}\" \\\r\n\t\t\t\t --datatier GEN-SIM-DIGI-RAW,DQMIO \\\r\n\t\t\t\t -n ${NEVENTS} \\\r\n\t\t\t\t --eventcontent FEVTDEBUGHLT,DQMIO \\\r\n\t\t\t\t --geometry \"${GEOM}\" \\\r\n\t\t\t\t --era \"${ERA}\" \\\r\n\t\t\t\t --customise SLHCUpgradeSimulations/Configuration/aging.customise_aging_1000 \\\r\n\t\t\t\t --filein file:/eos/cms/store/relval/CMSSW_15_1_0_pre6/RelValWprimeToLNu_M2000_14TeV/GEN-SIM-DIGI-RAW/PU_150X_mcRun4_realistic_v1_STD_Run4D110_PU-v1/2590000/00fe6605-af26-41e7-9f7f-d5ac749bdbaf.root00013e0f-1c5d-4097-8882-78035be2f856.root, ...\r\n\t\t\t\t --fileout file:step2.root \\\r\n\t\t\t\t --nThreads 24 \\\r\n\t\t\t\t --hltProcess HLTX \\\r\n\t\t\t\t --processName HLTX \\\r\n\t\t\t\t --inputCommands='keep *, drop *_hlt*_*_HLT, drop triggerTriggerFilterObjectWithRefs_l1t*_*_HLT' \r\n}\r\n\r\nfunction mystep3() {\r\n    cmsDriver.py step3 -s HARVESTING:\"${VALIDSEQ}\" \\\r\n\t\t\t\t --conditions \"${CONDS}\" \\\r\n\t\t\t\t --procModifier \"${PROCMODS}\" \\\r\n\t\t\t\t --mc \\\r\n\t\t\t\t --geometry \"${GEOM}\" \\\r\n\t\t\t\t --scenario pp \\\r\n\t\t\t\t --filetype DQM \\\r\n\t\t\t\t --era \"${ERA}\" \\\r\n\t\t\t\t -n ${NEVENTS} \\\r\n\t\t\t\t --hltProcess HLTX \\\r\n\t\t\t\t --filein file:step2_inDQM.root \\\r\n\t\t\t\t --fileout file:step3.root\r\n}\r\n\r\nmystep2 && mystep3\r\n```\r\n\r\nwhere the files correspond to 200PU Wprime RelVal samples produced under ```CMSSW_15_1_0_pre6```.\r\n\r\n#### Plots\r\n\r\nThe outputs are produced with the ```makeHLTMETValidationPlots.py``` script:\r\n\r\n+ individual MET collections with the ```RelValQCD_FlatPt_15_3000HS_14``` sample [here](https://bfontana.web.cern.ch/bfontana/MET_Valid_TICLv5/QCD/)\r\n  + (in the same folder) overlayed comparisons [here](https://bfontana.web.cern.ch/bfontana/MET_Valid_TICLv5/QCD/ComparisonCollections_hltPFMET_hltPFPuppiMET_hltPFPuppiMETTypeOne/)\r\n+ same content for the ```RelValWprimeToLNu_M2000_14TeV``` sample [here](https://bfontana.web.cern.ch/bfontana/MET_Valid_TICLv5/Wprime/)\r\n+ TICL v4 vs. TICL v5 comparisons [here](https://bfontana.web.cern.ch/bfontana/MET_Valid_TICL_Comparison/) for the same ```Wprime``` and ```QCD``` samples.\r\n\r\n", "branch": "master", "changed_files": 19, "comments": 26, "commits": 19, "created_at": "1755264190", "deletions": 746, "labels": ["dqm-pending", "pending-signatures", "tests-approved", "orp-pending", "code-checks-approved", "ngt", "allow-bfonta"], "milestone": "CMSSW_16_0_X", "number": 48745, "release-notes": [], "review_comments": 10, "state": "open", "title": "Met Validation for Phase-2 HLT", "updated_at": "1759144412", "user": "bfonta"}