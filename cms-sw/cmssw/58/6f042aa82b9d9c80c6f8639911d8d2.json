{"additions": 437, "auther_ref": "MuonSensitiveDetectorBuilder", "auther_sha": "bbb6b508f10e1e19062ec2735688d38cb56c5f6a", "author": "Dr15Jones", "body": "#### PR description:\r\n\r\nThis implements  a path towards handling esConsumes in OscarMTProducer. The idea is\r\n- split reading the EventSetup out of the SensitiveDetectors themselves\r\n- implement custom 'builders' for each SensitiveDetector type\r\n  - these register what EventSetup data products will be consumed\r\n  - acquire the data products in the `beginRun` method\r\n  - build the actual SensitiveDetector when needed\r\n  - all builders are loaded in the module constructor (although there is a future expansion option to use the ParameterSet to restrict the allowed set)\r\n\r\nThis change modifies all the infrastructure to support this change and rewrites the MuonSensitiveDetector as an example for how this should be done.\r\n\r\nNOTE: further esConsumes calls are needed in OscarMTProducer, however all the remaining ones should be knowable at construction time.\r\n\r\n#### PR validation:\r\n\r\nThe code compiles and workflow 1.0 runs fine.", "branch": "master", "changed_files": 77, "closed_at": "1623363386", "comments": 22, "commits": 17, "created_at": "1623170317", "deletions": 165, "labels": ["code-checks-approved", "fully-signed", "orp-approved", "simulation-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "7e6486962533e761935cc3d407a2b394c2f04f7b", "merged_at": "1623363386", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 34031, "release-notes": [], "review_comments": 11, "state": "closed", "title": "Template for migrating Sensitive Detectors to esConsumes", "updated_at": "1623363386", "user": "Dr15Jones"}