{"additions": 38, "auther_ref": "nostartinghit_noca", "auther_sha": "cf719ca19c3bb0ebd3683294626aeb46ede9b96c", "author": "AdrianoDee", "body": "#### PR description:\r\n\r\nThis PR proposes a small improvement for the CA seeding (inspired by the debugging of https://github.com/cms-sw/cmssw/issues/49186, in which many events have no hits on BPix1). As is, when BPix1 is empty, we run the CA anyway, even if all the starting pairs have BPix1 as the inner layer. This is useless and not easy to spot. Instead of running the CA, now a `LogWarning` is printed. In principle, it would make sense to generalize this to all the possible starting layers (I wouldn't push this in this PR since it would need non-trivial changes).\r\n\r\nFor the sake of curiosity I've run a vanilla TTBar wf running pixel quadruplets on GPU with `runTheMatrix.py -w upgrade -l 16834.402 ` with `--conditions 150X_mcRun3_2025_realistic_Candidate_2025_10_24_20_44_54`(BPix Layer 1 off) [*] and as expected at `step3` I get:\r\n\r\n```\r\nBegin processing the 1st record. Run 1, Event 1, LumiSection 1 on stream 0 at 21-Nov-2025 15:24:59.285 CET\r\n%MSG-w SiPixelCompareRecHits:   SiPixelPhase1CompareRecHits:hltSiPixelPhase1CompareRecHits  21-Nov-2025 15:24:59 CET Run: 1 Event: 1\r\nreference rechits not found; target rechits not found; the comparison will not run.\r\n%MSG\r\n%MSG-w CAHitNtupletAlpaka:  CAHitNtupletAlpakaPhase1@alpaka:pixelTracksAlpaka  21-Nov-2025 15:25:00 CET Run: 1 Event: 1\r\nNo hit on BPix1 (0) and all the starting pairs has BPix1 as inner layer.\r\nIt's useless to run the CA. Returning with 0 tracks!\r\n%MSG\r\n21-Nov-2025 15:25:00 CET  Closed file file:step2.root\r\n```\r\n\r\n----------\r\n\r\n[*] the full setup\r\n\r\n```\r\n# in: /data/user/adiflori/cmssw_prs/PR_NoCANoGraph/dev dryRun for 'cd 16834.402_TTbar_14TeV+2025_Patatrack_PixelOnlyAlpaka\r\n cmsDriver.py TTbar_14TeV_TuneCP5_cfi  -s GEN,SIM -n 1 --conditions 150X_mcRun3_2025_realistic_Candidate_2025_10_24_20_44_54 --beamspot DBrealistic --datatier GEN-SIM --eventcontent FEVTDEBUG --geometry DB:Extended --era Run3_2025 --relval 9000,100 --fileout file:step1.root  > step1_TTbar_14TeV+2025_Patatrack_PixelOnlyAlpaka.log  2>&1\r\n\r\n\r\n# in: /data/user/adiflori/cmssw_prs/PR_NoCANoGraph/dev dryRun for 'cd 16834.402_TTbar_14TeV+2025_Patatrack_PixelOnlyAlpaka\r\n cmsDriver.py step2  -s DIGI:pdigi_valid,L1,DIGI2RAW,HLT:@relval2025 --conditions 150X_mcRun3_2025_realistic_Candidate_2025_10_24_20_44_54 --datatier GEN-SIM-DIGI-RAW -n 1 --eventcontent FEVTDEBUGHLT --geometry DB:Extended --era Run3_2025 --procModifiers alpaka --customise HeterogeneousCore/AlpakaServices/customiseAlpakaServiceMemoryFilling.customiseAlpakaServiceMemoryFilling --filein  file:step1.root  --fileout file:step2.root  > step2_TTbar_14TeV+2025_Patatrack_PixelOnlyAlpaka.log  2>&1\r\n\r\n\r\n# in: /data/user/adiflori/cmssw_prs/PR_NoCANoGraph/dev dryRun for 'cd 16834.402_TTbar_14TeV+2025_Patatrack_PixelOnlyAlpaka\r\n cmsDriver.py step3  -s RAW2DIGI:RawToDigi_pixelOnly,RECO:reconstruction_pixelTrackingOnly,VALIDATION:@pixelTrackingOnlyValidation,DQM:@pixelTrackingOnlyDQM+@hltGPUvsCPU --conditions 150X_mcRun3_2025_realistic_Candidate_2025_10_24_20_44_54 --datatier GEN-SIM-RECO,MINIAODSIM,NANOAODSIM,DQMIO -n 1 --eventcontent RECOSIM,MINIAODSIM,NANOEDMAODSIM,DQM --geometry DB:Extended --era Run3_2025 --procModifiers alpaka --customise HeterogeneousCore/AlpakaServices/customiseAlpakaServiceMemoryFilling.customiseAlpakaServiceMemoryFilling --filein  file:step2.root  --fileout file:step3.root  > step3_TTbar_14TeV+2025_Patatrack_PixelOnlyAlpaka.log  2>&1\r\n\r\n\r\n# in: /data/user/adiflori/cmssw_prs/PR_NoCANoGraph/dev dryRun for 'cd 16834.402_TTbar_14TeV+2025_Patatrack_PixelOnlyAlpaka\r\n cmsDriver.py step4  -s HARVESTING:@trackingOnlyValidation+@pixelTrackingOnlyDQM+@hltGPUvsCPU --conditions 150X_mcRun3_2025_realistic_Candidate_2025_10_24_20_44_54 --mc  --geometry DB:Extended --scenario pp --filetype DQM --era Run3_2025 -n 1  --filein file:step3_inDQM.root --fileout file:step4.root  > step4_TTbar_14TeV+2025_Patatrack_PixelOnlyAlpaka.log  2>&1\r\n ```\r\n", "branch": "master", "changed_files": 2, "comments": 23, "commits": 1, "created_at": "1762156568", "deletions": 9, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-pending", "code-checks-approved", "tracking"], "milestone": "CMSSW_16_0_X", "number": 49286, "release-notes": [], "review_comments": 1, "state": "open", "title": "Not Running the CA When Starting Layers are Empty", "updated_at": "1763800169", "user": "AdrianoDee"}