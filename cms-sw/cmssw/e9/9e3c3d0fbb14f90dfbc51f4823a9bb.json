{"additions": 206, "auther_ref": "addBPixMapsToLorentzAngleHarvester", "auther_sha": "ea87669d60f5326bd00666ae121f0f1805ffc621", "author": "CMSTrackerDPG", "body": "#### PR description:\r\n\r\nThis PR collects a series of improvements coming from the commissioning of the `SiPixelLorentzAngle` PCL workflow being commissioned at https://github.com/dmwm/T0/pull/4635 and builds on top of PRs https://github.com/cms-sw/cmssw/pull/36565 and https://github.com/cms-sw/cmssw/pull/36538:\r\n   * adds output LorentzAngle maps to `SiPixelLorentzAnglePCLHarvester` (6f7e47f064bfe050d983032e3ee7e06c19cd3e09 and ea87669d60f5326bd00666ae121f0f1805ffc621)\r\n   * layer-dependent cluster y-size cut in `SiPixelLorentzAnglePCLWorker` (e0df5ae8f661a7751a60f7b7d997d29737f6b7e5)\r\n   * add `SiPixelLorentzAngleFullMapCompare` to Pixel Payload Inspector (6dcc84e14c7a25e6c70d017d59c25ddc3ed15aaf), triggers also DQM signature\r\n\r\n#### PR validation:\r\n\r\nPrivately run \r\n\r\n```console\r\n cmsDriver.py testReAlCa -s ALCA:PromptCalibProdSiPixelLorentzAngle --conditions 121X_dataRun3_Express_TIER0_REPLAY_Run2_v1 --scenario pp --data --era Run2_2018 --datatier ALCARECO --eventcontent ALCARECO --processName=ReAlCa -n 100000 --dasquery='file dataset=/StreamExpress/Tier0_REPLAY_2021-SiPixelCalSingleMuon-Express-v1/ALCARECO' --customise_commands='process.ALCARECOCalSignleMuonFilterForSiPixelLorentzAngle.TriggerResultsTag = cms.InputTag ( \"TriggerResults\",\"\",\"HLT\" ) ; process.ALCARECOCalSignleMuonFilterForSiPixelLorentzAngle.HLTPaths = [\"*\"]' --nThreads=4 \r\n```\r\n\r\nfollowed by:\r\n\r\n```console\r\n cmsDriver.py stepHarvest -s ALCAHARVEST:SiPixelLA --conditions 121X_dataRun3_Express_TIER0_REPLAY_Run2_v1 --scenario pp --data --era Run2_2018 --filein file:PromptCalibProdSiPixelLorentzAngle.root -n -1\r\n```\r\n\r\nFor what concerns the PI update (6dcc84e14c7a25e6c70d017d59c25ddc3ed15aaf), here's an example of plot obtainable (using the results of the Tier-0 replay):\r\n\r\n![badaa251-0920-4125-a57a-99d80cf368f4](https://user-images.githubusercontent.com/5082376/152005875-9653685b-9e34-4135-adfa-9251cefdd1b4.png)\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nWIll be backported to `CMSSW_12_2_X`\r\n", "branch": "master", "changed_files": 7, "closed_at": "1643781237", "comments": 9, "commits": 5, "created_at": "1643728399", "deletions": 19, "labels": ["alca-approved", "dqm-approved", "fully-signed", "tests-approved", "db-approved", "orp-approved", "urgent", "code-checks-approved"], "merge_commit_sha": "d3944b6a663f016a046006fdb978f18cd02bce1f", "merged_at": "1643781237", "merged_by": "cmsbuild", "milestone": "CMSSW_12_3_X", "number": 36853, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Improvements on `SiPixelLorentzAngle` PCL workflow: layer-dependent cluster size cut and output maps ", "updated_at": "1643823682", "user": "mmusich"}