{"additions": 5, "auther_ref": "LHESource_fix_many_files", "auther_sha": "2183765fd615b6402cb80c36f50ef0baa3fb6d92", "author": "matz-e", "body": "Currently, the LHESource reads by calling nextEvent(), which in turn\ncalls LHEReader::next().  The latter method returns an empty reference\nat the end of a file [1](http://cmslxr.fnal.gov/lxr/source/GeneratorInterface/LHEInterface/src/LHEReader.cc#0491).\n\nWhen reading an event in a fourth file, nextEvent() is first called in\nthe constructor of LHESource [2](http://cmslxr.fnal.gov/lxr/source/GeneratorInterface/LHEInterface/plugins/LHESource.cc#0042), returning an empty reference at the\nend of the fist file.  The other calls to nextEvent(), [3](http://cmslxr.fnal.gov/lxr/source/GeneratorInterface/LHEInterface/plugins/LHESource.cc?v=CMSSW_7_4_0_pre5#0166) and [4](http://cmslxr.fnal.gov/lxr/source/GeneratorInterface/LHEInterface/plugins/LHESource.cc?v=CMSSW_7_4_0_pre5#0169),\nreturn an empty reference at the end of the second and third file.\nBut there is a check after [4](http://cmslxr.fnal.gov/lxr/source/GeneratorInterface/LHEInterface/plugins/LHESource.cc?v=CMSSW_7_4_0_pre5#0169), and LHESource quits reading files\nwithout attempting to open the fourth file.\n\nTry to address the situation by keeping reading files as long as new\nfiles are opened and empty events are returned.  This potentially also\nremoves the need for the check after [4](http://cmslxr.fnal.gov/lxr/source/GeneratorInterface/LHEInterface/plugins/LHESource.cc?v=CMSSW_7_4_0_pre5#0169).\n\nAlso pertains to dmwm/CRABServer#4659.\n", "branch": "CMSSW_7_4_X", "changed_files": 1, "closed_at": "1424240763", "comments": 5, "commits": 1, "created_at": "1423515034", "deletions": 2, "labels": ["comparison-available", "generators-pending", "orp-pending", "pending-signatures", "tests-approved"], "milestone": "Next CMSSW_7_4_X", "number": 7642, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Allow for more than 3 skipped LHE files.", "updated_at": "1505480588", "user": "matz-e"}