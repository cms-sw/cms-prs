{"additions": 302, "auther_ref": "particle-net-ak4", "auther_sha": "bfb6873bce2a59e773f5fa72787658d2f6d8af28", "author": "hqucms", "body": "#### PR description:\r\n\r\nThis PR adds the ParticleNet tagger for AK4 jets. `ParticleNetAK4` is a multi-class tagger for \r\n - jet flavour tagging (b, c vs light jets)\r\n - quark/gluon tagging \r\n - pileup jet identification\r\n\r\nThe current version is trained on standard AK4 CHS jets using UL18 MC. The tagger is based on the [ParticleNet](https://arxiv.org/abs/1902.08570) graph neural network architecture, which is also used in CMSSW for boosted AK8 jet tagging. \r\n\r\nThe new `ParticleNetAK4` tagger shows significant performance improvements:\r\n - large improvements in b-/c-tagging compared to DeepJet, particularly at high pT\r\n - large improvements in q/g-tagging compared to quark-gluon likelihood, similar/better than DeepJet q/g discriminant\r\n - similar/better performance in PU rejection than pileup jet ID\r\n\r\nMore details and comparisons can be found in the presentations in the BTV [[1](https://indico.cern.ch/event/916809/contributions/3995352/attachments/2095427/3521933/ParticleNet_AK4_BTVWG_20200902_H_Qu.pdf), [2](https://indico.cern.ch/event/953344/contributions/4013944/attachments/2106180/3542103/ParticleNet_AK4_BTV_20200921_H_Qu.pdf)] and the JME [[1](https://indico.cern.ch/event/942994/contributions/3964881/attachments/2084240/3501195/ParticleNet_AK4_JMAR_20200803_H_Qu.pdf), [2](https://indico.cern.ch/event/956305/contributions/4027291/attachments/2111830/3552486/ParticleNet_AK4_JMAR_20200929_H_Qu.pdf)) groups.\r\n\r\n#### Requires:\r\n\r\nhttps://github.com/cms-data/RecoBTag-Combined/pull/35\r\n\r\n#### PR validation:\r\n\r\nImplementation of this PR has been verified with the training framework and shows consistent results.\r\n\r\n*[Timing]*\r\nEvaluated by running 1k ttbar events using `RecoBTag/ONNXRuntime/test/test_particle_net_ak4_cfg.py`.\r\n```\r\nTimeReport   0.000065     0.000065     0.000065  pfParticleNetAK4DiscriminatorsJetTags\r\nTimeReport   0.036854     0.036854     0.036854  pfParticleNetAK4JetTags\r\nTimeReport   0.002803     0.002803     0.002803  pfParticleNetAK4TagInfos\r\n```\r\n\r\nFor comparison, below is for DeepJet:\r\n```\r\nTimeReport   0.009825     0.009825     0.009825  pfDeepFlavourJetTags\r\nTimeReport   0.000764     0.000764     0.000764  pfDeepFlavourTagInfos\r\n```\r\n\r\n*[Timing for 1325.518]*: https://github.com/cms-sw/cmssw/pull/31570#issuecomment-699823805\r\nTiming for UL reMINIAOD workflow 1325.518 increases by ~6% (0.453879 s/ev -> 0.471795 s/ev).\r\n\r\n\r\n*[Memory]*\r\n\r\nModel init (1.8MB) + execution (3.5MB):\r\n - http://hqu.web.cern.ch/hqu/dev/cgi-bin/igprof-navigator/ParticleNetAK4-TTHad-CMSSW_11_2_0_pre6-PR31570-MEM_LIVE_99/796\r\n - http://hqu.web.cern.ch/hqu/dev/cgi-bin/igprof-navigator/ParticleNetAK4-TTHad-CMSSW_11_2_0_pre6-PR31570-MEM_LIVE_99/493\r\n\r\n\r\n\r\nFYI @camclean @alefisico", "branch": "master", "changed_files": 8, "closed_at": "1601405555", "comments": 29, "commits": 2, "created_at": "1600954182", "deletions": 28, "labels": ["analysis-approved", "code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "requires-external", "tests-approved", "urgent"], "merge_commit_sha": "b8ac8cffde55905b28b428142d82f10710b51d5e", "merged_at": "1601405555", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 31570, "release-notes": [], "review_comments": 0, "state": "closed", "title": "ParticleNetAK4 jet tagger", "updated_at": "1601817400", "user": "hqucms"}