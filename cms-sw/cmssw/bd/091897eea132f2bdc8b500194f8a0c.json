{"additions": 5622, "auther_ref": "v10_v11_decoupling", "auther_sha": "95aca85d07a3eca6baa4a70235d9bc0fe0294b1e", "author": "vlimant", "body": "#### PR description:\r\n\r\nThis is work in progress, but I'd like to have initial feedback on some of the changes in ConfigBuilder.\r\n\r\nThe aim with this changes is to be able to support both V10 and V11(in development) in 12.6, in a sustainable way.\r\nThe current process is to add whatever NANO feature to master/12.6 for V11, and \"remove it\" by customisation \"back to\" V10 ; which obviously is extremely error prone.\r\n\r\nThe proposal here is copying most configuration under the V10 directory to avoid touching it while putting new features in V11 (master) ; there are however, it seems some dependencies still to be removed in this initial PR. We might have to dump some of the module configs in V10 directory to fully decouple.\r\n\r\n#### PR validation:\r\n\r\nfor NANO, these commands run and produce runable configurations\r\nfor the V11 configuration `cmsDriver.py nanoMaster --step NANO --datatier NANOAOD --eventcontent NANOAOD --conditions 124X_dataRun3_Prompt_v4 --era Run3 --no_exec --data --filein \"file:86c32527-92dd-4ec9-9e72-aba8878ab893.root\" --fileout nanoMaster.root -n 100` \r\n\r\nfor the V10 configuration `cmsDriver.py nanoV10 --step NANO:PhysicsTools/NanoAOD/V10/nano_cff --datatier NANOAOD --eventcontent NANOAOD --conditions 124X_dataRun3_Prompt_v4 --era Run3 --no_exec --data --filein \"file:86c32527-92dd-4ec9-9e72-aba8878ab893.root\" --fileout nanoV10.root -n 100 `\r\n\r\nConfigBuilder was tested with `runTheMatrix.py -l limited -j 0` that managed to configure all 50 workflows steps (except for dad queries) ; that indicates that I have not majorly broken cmsDriver\r\n\r\nEDITS (30/9/22): \r\nThe change in ConfigBuilder is done to allow `STEP:<a specific path to configuration>` without having to specify the actual Sequence to be used, and hence pick up the default ones defined in ConfigBuilder.\r\nThe new ERA is not mandatory in this PR, but will be later on #39452 and fits well in here.\r\n", "branch": "master", "changed_files": 33, "closed_at": "1664892416", "comments": 47, "commits": 15, "created_at": "1662548537", "deletions": 144, "labels": ["operations-approved", "fully-signed", "tests-approved", "orp-approved", "urgent", "code-checks-approved", "xpog-approved"], "merge_commit_sha": "aa85daa2734bcc715b2dbe46297197c032da6c0b", "merged_at": "1664892416", "merged_by": "rappoccio", "milestone": "CMSSW_12_6_X", "number": 39337, "release-notes": [], "review_comments": 17, "state": "closed", "title": "decoupling NANO V10 and V11 [WIP]", "updated_at": "1664905358", "user": "vlimant"}