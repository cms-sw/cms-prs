{"additions": 9301, "auther_ref": "fastsim-newcfg-premix-rb", "auther_sha": "fc69434327098e300e8429d308ad6f13f4d4614f", "author": "lveldere", "body": "This pr is far from ready for merging, but is opened to bookkeep discussions.\n\nRestructuring FastSim cfg to mirror better the FullSim/Reco cfg,\nand to make changes with respect to FullSim/Reco cfg more transparent.\n\nFastSim gets the same steps as FullSim/Reco\n\nEach step X is now configured for FastSim in a file\nFastSimulation/Configuration/python/X_cff.py,\nwhich imports all objects from the corresponding FullSim/Reco cfg file\nConfiguration/StandardSequences/python/X_cff.py\nand then edits those objects according to FastSim's needs.\n# Exceptions:\n- Simideal_cff does not import the corresponding FullSim file, since no objects are shared\n- Reconstruction_BefMix_cff configures the part of reconstruction to be done before pileup mixing (i.e. iterative tracking)\n- Reconstrcution_AftMix_cff imports Configuration/StandardSequences/python/Reconstruction_cff.py and removes all reconstruction sequences to be run before mixing (i.e. iterative tracking)\n# Test this pr for classic mixing:\n\n```\ncmsRun FastSimulation/Configuration/test/minbias_fast_cfg.py              # generate minbias events, simulate and do fast track reconstruction\ncmsRun FastSimulation/Configuration/test/test_mix_allsteps_cfg.py       # generate ttbar events, simulate, do fast track reconstruction, mix with pu / digitize, ... , reconstruction \n```\n# Test this pr for premixing:\n\n```\ncmsRun FastSimulation/Configuration/test/minbias_fast_cfg.py                   # generate minbias events, simulate and do fast track reconstruction\ncmsRun FastSimulation/Configuration/test/minbias_premixed_fast_cfg.py  # premix the minbias events\ncmsRun FastSimulation/Configuration/test/test_premix_allsteps_cfg.py      # generate ttbar events, simulate, do fast track reconstruction, mix with premixed pu, ... , reconstruction \n```\n# Issues:\n\nin cmsRun FastSimulation/Configuration/test/test_mix_allsteps_cfg.py\n- several warnings in reconstruction and digitization to be understodd\n- a few reconstruction models were disabled because they cause crashes\n# todos\n- include Validation and HLT steps\n- carefully compare dumped cfgs before and after these changes\n", "branch": "CMSSW_7_5_X", "changed_files": 120, "closed_at": "1426774641", "comments": 8, "commits": 72, "created_at": "1425476583", "deletions": 11591, "labels": ["comparison-pending", "fastsim-pending", "orp-pending", "pdmv-pending", "pending-signatures", "simulation-pending", "tests-rejected"], "milestone": "CMSSW_7_5_X", "number": 8068, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fastsim: new cfg structure, premixing", "updated_at": "1436781677", "user": "lveldere"}