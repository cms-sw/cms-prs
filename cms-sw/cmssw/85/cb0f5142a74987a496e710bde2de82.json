{"additions": 24, "auther_ref": "rivet_fastjet_contrib_update", "auther_sha": "313863a4e924cc86be64f63856f0ba0fc0b014fb", "author": "intrepid42", "body": "#### PR description:\r\n\r\nMulti-threading in nanoaod step was broken due to new multi-thread feature in the recent Rivet update 3.1.2, see #30836\r\n\r\nSeems to work fine when initialization is done for the first event of each thread in `produce`.\r\n\r\n~As a bonus, the producers run as edm::stream modules now.~\r\nProducers remain edm::one modules until Rivet becomes fully thread-safe.\r\n\r\n#### PR validation:\r\n\r\n* Standalone tests of ParticleLevelProducer and HTXS successful with 4 threads.\r\n* Workflow 1302.18 with 2 threads in step5 (nanoaod)", "branch": "master", "changed_files": 3, "closed_at": "1598962689", "comments": 51, "commits": 9, "created_at": "1595516197", "deletions": 21, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "generators-approved", "orp-approved", "tests-approved"], "merge_commit_sha": "2f3e951bf8bdeac41816367c250e352e59c54a92", "merged_at": "1598962689", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 30888, "release-notes": [], "review_comments": 14, "state": "closed", "title": "Rivet ParticleLevelProducer and HTXS multi-threading", "updated_at": "1598962689", "user": "intrepid42"}