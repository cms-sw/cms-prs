{"additions": 104, "auther_ref": "PixelMatchSpeedups_1100pre12", "auther_sha": "af38f9ea68dc2407a42fabe0e0314e39459f9ac4", "author": "Sam-Harper", "body": "#### PR description:\r\n\r\nThis PR speeds up the E/gamma HLT pixel matching. It uses work done by Calib Fangmeier to allow the pixel matching to run on triplet cleaned doublets which at a small efficiency cost will greatly increase speed (the path needs to enable this so its of for now). \r\n\r\nAdditionally it does some optimization where expensive variables are now computed outside a loop, it also uses parametric b field for speed where appropriate and finally adds a minimum et cut for superclusters to pixel match. \r\n\r\nThis benefits Run2/Run3 configs but the real reason is for PhaseII 200PU where the e/gamma hlt pixel matching was taking ~30mins an event. It now takes ~2seconds and could be further optimised.\r\n\r\nNo / very small changes are expected for existing HLT workflows although the timing is reduced. \r\n\r\nI validated this on an electron gun sample for 2021 MC conditions (the samples used for the Run3 projections) using /dev/CMSSW_11_0_0/GRun/V10\r\n\r\n![image](https://user-images.githubusercontent.com/5021403/68960414-6bb77a80-07d0-11ea-8e2d-15c676af96a0.png)\r\n\r\nTiming:\r\nTimeReport   0.015958     0.032457     0.032457  hltEgammaElectronPixelSeeds\r\ngoes to\r\nTimeReport   0.007012     0.014263     0.014263  hltEgammaElectronPixelSeeds\r\n\r\nDoing a full timing study  on 2018 data I see a drop from 240ms to 236ms with the drops happening in electron paths as expected.\r\n\r\n\r\n", "branch": "master", "changed_files": 4, "closed_at": "1574281426", "comments": 15, "commits": 4, "created_at": "1573833112", "deletions": 50, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "hlt-approved", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "63e24eb17b88a380391470999536c5958cb2fde3", "merged_at": "1574281426", "merged_by": "cmsbuild", "milestone": "CMSSW_11_0_X", "number": 28408, "release-notes": [], "review_comments": 0, "state": "closed", "title": "E/g HLT Pixel match Speedups: 11_0_X", "updated_at": "1574281426", "user": "Sam-Harper"}