{"additions": 144, "auther_ref": "esConsumesMuonServiceProxy2", "auther_sha": "65ec28cea1afca8f1efd04cc76a02efa1f2fa1fc", "author": "wddgit", "body": "#### PR description:\r\n\r\nThis completes the migration of MuonServiceProxy to call\r\nconsumes for the EventSetup products it gets. An earlier\r\ncommit added support for this if a new constructor was\r\ncalled, but the old constructor still existed and most clients\r\nwere still using the old constructor. This commit migrates all\r\nclients to use the new constructor and deletes the old one.\r\n\r\nThe main change is that a ConsumesCollector needs to\r\nbe passed to the MuonServiceProxy constructor as an argument.\r\nAnother change is that MuonServiceProxy now allows calling\r\nupdate at beginRun because a few modules were doing that\r\ninstead of calling update during the event.\r\n\r\nNote some modules were constructing and updating a MuonServiceProxy\r\nobject, but then never using it. Instead of migrating those, I deleted\r\nMuonServiceProxy from those modules.\r\n\r\nNote that this deletes the old constructor. This will break code\r\noutside the repository that uses MuonServiceProxy, but eventually\r\nsupport for that mode will be dropped by the Framework anyway.\r\n\r\n#### PR validation:\r\n\r\nRelies on existing tests. Nothing should change in the output.\r\n", "branch": "master", "changed_files": 60, "closed_at": "1581406673", "comments": 17, "commits": 1, "created_at": "1580481434", "deletions": 199, "labels": ["alca-approved", "code-checks-approved", "comparison-available", "dqm-approved", "fastsim-pending", "hlt-approved", "orp-approved", "pending-signatures", "reconstruction-approved", "tests-approved", "urgent"], "merge_commit_sha": "6ba826d71058bcc4456e66ad7dc2c01edc542626", "merged_at": "1581406673", "merged_by": "cmsbuild", "milestone": "CMSSW_11_1_X", "number": 28840, "release-notes": [], "review_comments": 2, "state": "closed", "title": "EventSetup consumes migration for MuonServiceProxy", "updated_at": "1581406674", "user": "wddgit"}