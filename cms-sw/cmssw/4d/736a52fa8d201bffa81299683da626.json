{"additions": 365, "auther_ref": "mlpf_v2_CMSSW_12_1_0_pre3_updated", "auther_sha": "539f7444dc5d7bde727be670be8d22937bfa4a73", "author": "jpata", "body": "#### PR description:\r\n\r\nFollowing the presentation at the [PPD general meeting](https://indico.cern.ch/event/1094349/contributions/4602823/attachments/2344166/3996970/cms_mlpf_acat2021.pdf), at [ACAT2021](https://indico.cern.ch/event/855454/contributions/4597457/), and as outlined in the [PPD workshop](https://indico.cern.ch/event/1103515/#17-mlpf-status-plans-and-ideas), we are updating the MLPF integration in CMSSW to facilitate further development and scrutiny.\r\n\r\nNote that MLPF is **off by default** and thus no changes are expected in any of the standard workflows.\r\n\r\nThis PR mainly updates the ML model and switches the inference to ONNX from tensorflow. MLPF-specific event content is removed, as now MLPF produces PFCandidates instead of (rather than in parallel to) PFAlgo, when enabled.\r\n\r\nHere are the igprof results:\r\n- memory: https://jpata.web.cern.ch/jpata/cgi-bin/igprof-navigator/mlpf_v2/ig_mem\r\n- CPU: https://jpata.web.cern.ch/jpata/cgi-bin/igprof-navigator/mlpf_v2/ig_cpu\r\n\r\n#### PR validation:\r\n\r\nFor physics validation, please see the slides linked above. The integration can be tested in the workflows 11843.13 and 11834.13.", "branch": "master", "changed_files": 11, "closed_at": "1644583702", "comments": 21, "commits": 11, "created_at": "1643618837", "deletions": 148, "labels": ["dqm-approved", "reconstruction-approved", "fully-signed", "tests-approved", "pdmv-approved", "orp-approved", "upgrade-approved", "requires-external", "code-checks-approved"], "merge_commit_sha": "18d26b4481722f6ffdc5732d0bcacef40bb03219", "merged_at": "1644583702", "merged_by": "cmsbuild", "milestone": "CMSSW_12_3_X", "number": 36841, "release-notes": [], "review_comments": 5, "state": "closed", "title": "Updated MLPF producer with ONNX", "updated_at": "1644583702", "user": "jpata"}