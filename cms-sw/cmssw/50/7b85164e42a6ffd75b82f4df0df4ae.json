{"additions": 71, "auther_ref": "mm_updateMtdSimCluster", "auther_sha": "3c20791029f6f5a025306ffea89f50cbc2f356de", "author": "martinamalberti", "body": "#### PR description:\r\nThis PR changes the ids of the hits in MtdSimCluster for MTD BTL hits: the unique id in MtdTruthAccumulator.cc is now built using the BTL DeitId of the sensor module, row, column (instead of BTL DetID of the crystal, row, column). This change brings the advantage to have the same treatment for  BTL and ETL  and  aligns with the reconstruction geometry which is based on the sensor DetId both for BTL and ETL (sensor module for BTL, LGAD for ETL).\r\n\r\nBackward compatibility is implemented trough a new class version of MtdSimCluster in classes_def.xml specifying a IO rule, which allows interpreting some bits of the same variable, mtdHits_, in a different way in the two versions.\r\nNotice the discussion on the class versioning ongoing in this thread:\r\nhttps://cms-talk.web.cern.ch/t/issue-with-class-versioning/33471\r\nAt the moment, the IO rule gets applied up to class version 4. On class version 4 (current version) it has no effect, i.e. bits that should be re-interpreted stay unchanged.\r\n\r\n#### PR validation:\r\n\r\nThe code was tested on:\r\n- runTheMatrix workflow 24807 \r\n- existing RelVal samples (to test backward compatibility): /store//relval/CMSSW_14_0_0_pre2/RelValSingleMuPt10/GEN-SIM-RECO/133X_mcRun4_realistic_v1_STD_2026D98_noPU-v1/2590000/1095a786-6fc3-4cd1-a159-8\r\n9175f5c868a.root\r\n\r\n", "branch": "master", "changed_files": 3, "closed_at": "1705943782", "comments": 5, "commits": 1, "created_at": "1705924075", "deletions": 2, "labels": ["simulation-pending", "pending-signatures", "tests-rejected", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_14_0_X", "number": 43764, "release-notes": [], "review_comments": 1, "state": "closed", "title": "[MTD simulation] Update MtdSimCluster hit Ids", "updated_at": "1705943782", "user": "martinamalberti"}