{"additions": 62, "auther_ref": "modifyBS_flat", "auther_sha": "6472d4dbe2cc1c845f4a684759e286867eeacec0", "author": "mark-grimes", "body": "This is a slight change to pull request #11868, where the `bsStudyStep1` and `bsStudyStep2` functions are merged into one `bsStudy` function, with `hasattr` guards to select the right parts.  This should make it easier to use.\n\nI'll start the auto tests, but they don't use the new customisation functions so I've already tested privately with:\n\n```\ncmsDriver.py FourMuPt_1_200_cfi --conditions PH2_1K_FB_V6::All -n 10 --eventcontent FEVTDEBUG --relval 10000,100 -s GEN,SIM --datatier GEN-SIM --beamspot Flat --customise RecoParticleFlow/PandoraTranslator/customizeHGCalPandora_cff.cust_2023HGCalPandoraMuon,SLHCUpgradeSimulations/Configuration/combinedCustoms.customise_bsStudy_15 --geometry Extended2023HGCalMuon,Extended2023HGCalMuonReco --magField 38T_PostLS1 --no_exec --fileout file:step1.root\ncmsDriver.py step2 --conditions PH2_1K_FB_V6::All -n 10 --eventcontent FEVTDEBUGHLT -s DIGI:pdigi_valid,L1,DIGI2RAW --datatier GEN-SIM-DIGI-RAW --customise RecoParticleFlow/PandoraTranslator/customizeHGCalPandora_cff.cust_2023HGCalPandoraMuon,SLHCUpgradeSimulations/Configuration/combinedCustoms.customise_bsStudy_15 --geometry Extended2023HGCalMuon,Extended2023HGCalMuonReco --magField 38T_PostLS1 --no_exec --filein file:step1.root --fileout file:step2.root\ncmsDriver.py step3 --conditions PH2_1K_FB_V6::All -n 10 --eventcontent RECOSIM -s RAW2DIGI,L1Reco,RECO --datatier GEN-SIM-RECO --customise RecoParticleFlow/PandoraTranslator/customizeHGCalPandora_cff.cust_2023HGCalPandoraMuon,SLHCUpgradeSimulations/Configuration/combinedCustoms.customise_bsStudy_15 --geometry Extended2023HGCalMuon,Extended2023HGCalMuonReco --magField 38T_PostLS1 --no_exec --filein file:step2.root --fileout file:step3.root\n```\n\n(basically upgrade workflow 15600 but with `customise_bsStudy_15` customisation and the beamspot set to `Flat`).  And:\n\n```\nrunTheMatrix.py -w upgrade -l 12200 --command=\"--beamspot Flat --customise SLHCUpgradeSimulations/Configuration/combinedCustoms.cust_2023HGCalMuon,SLHCUpgradeSimulations/Configuration/combinedCustoms.customise_bsStudy_15\"\n```\n\n(`cust_2023HGCalMuon` has to be respecified, since the new customise command overrides the original).  Everything runs fine and the correct parameters are changed.\n\n@boudoul \n", "branch": "CMSSW_6_2_X_SLHC", "changed_files": 2, "closed_at": "1445414202", "comments": 7, "commits": 2, "created_at": "1445353550", "deletions": 42, "labels": ["comparison-pending", "orp-pending", "pdmv-pending", "pending-signatures", "simulation-pending", "tests-approved"], "merge_commit_sha": "d020dc81dbc2a6c60a149e569f89da6f15a51feb", "merged_at": "1445414202", "merged_by": "cmsbuild", "milestone": "Next CMSSW_6_2_X_SLHC", "number": 11998, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Modification to #11868 (configuring flat BS + DQM GUI)", "updated_at": "1445414240", "user": "mark-grimes"}