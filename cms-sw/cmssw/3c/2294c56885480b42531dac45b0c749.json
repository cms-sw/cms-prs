{"additions": 15, "auther_ref": "from-CMSSW_14_1_X_2024-06-13-2300_EMTFUnpackerTao", "auther_sha": "aa0a7a974a38497ed5bfd5ce80e763681278cf8a", "author": "tahuang1991", "body": "With this fix, EMTF unpacker could correctly unpacker GEM trigger data and EMTF could correctly use them if GEM data is enabled for usage.\r\n\r\n#### PR description:\r\n1. change the GEM chamber mapping in EMTF packer when \r\nthe unpacker unpacks the GEM trigger data readout by EMTF (EventFilter/L1TRawToDigi/plugins/implementations_stage2/EMTFBlockGEM.cc and EventFilter/L1TRawToDigi/plugins/implementations_stage2/EMTFUnpackerTools.cc)\r\n3. in GEM part of EMTF unpacker, GEM layer for the GEM trigger data is derived from GEM cluster ID: 0-3 and 8-11 are for layer 1 while 4-7 and 12-15 are for layer 2\r\n\r\n\r\n#### PR validation:\r\nPatrick did intense studies to verify the GEM chamber mapping in EMTF unpacker with the fix.  As GEM sends the trigger data to both CSC OTMB and EMTF, and the GEM-CSC are linked by one to one pair,  Patrick compared the GEM trigger data unpacked form CSC OTMB data and from EMTF unpacker. The comparison would check the GEM chamber number and layer for the same GEM clusters found in CSC OTMB data and EMTF data. \r\n\r\n[Patrick_gemchambermatching617.pdf](https://github.com/user-attachments/files/15922165/Patrick_gemchambermatching617.pdf)\r\n\r\n\r\nThe GEM chamber mapping based on the GEM-EMTF linking system is provided by GEM experts:\r\nhttps://docs.google.com/spreadsheets/d/1bWUo22-ukRrHlQgXDRnll3qRam2v46FjfmIOsgamgHk/edit?gid=0#gid=0\r\n\r\n\r\n\r\n\r\n\r\n\r\n", "branch": "master", "changed_files": 2, "comments": 1, "commits": 1, "created_at": "1718931392", "deletions": 23, "labels": ["l1-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-pending"], "milestone": "CMSSW_14_1_X", "number": 45281, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix GEM chamber mapping inside EMTF unpacker.", "updated_at": "1718931418", "user": "tahuang1991"}