{"additions": 609, "auther_ref": "pps-diam_geom_fixes-11_2_X", "auther_sha": "ccc9158f6495f6b64c4e0fb6dbdaec07e4b8517c", "author": "forthommel", "body": "#### PR description:\r\n\r\nThis PR prepares the ground for future developments in PPS timing detectors offline SW. It includes a new set of DDLs for 2021 scenario (new timing station), with its corresponding `cfi`-file for testing before integration to on/offline conditions DBs.\r\nThe geometry parser is hence modified to \"accept seamlessly\" this additional station, better exploiting the hierarchy used in geometry definition.\r\n\r\nAs a side development, the track reconstruction plugin is adapted to dynamically create a track fitting algorithm for each new pot/station observed in the rechits stream (i.e. timing pots are not hardcoded anymore in plugin implementation).\r\nAlgorithms being stored as an associative container (single pot detid  algorithm) of this latter, a hash function is defined for the `CTPPSDetId` object used as an index.\r\n\r\n#### PR validation:\r\n\r\nFor the new station definition, a [simple test](https://github.com/cms-sw/cmssw/files/4782517/print_geometry_info_XML_cfg.py.txt) can be used (with the new 2021 geometry scenario) to dump all sensors/readout channels positions. No problem observed for the additional station.\r\n\r\nFor the tracking plugin, ran over 8626 events covering 4 LS of run 319524 (2018C), no difference observed in any of \"critical\" attributes in track collection.\r\n![xpos](https://user-images.githubusercontent.com/330969/84696902-83650600-af4d-11ea-9506-e32bd5e7ab2f.png)![time](https://user-images.githubusercontent.com/330969/84696935-8f50c800-af4d-11ea-8024-99db67d369f3.png)\r\n(black solid line is 11_2_X_2020-06-15-1100, red crosses include this PR)\r\nMatrix tests ongoing.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR: N/A\r\n\r\nBefore submitting your pull requests, make sure you followed this checklist:\r\n- [x] verify that the PR is really intended for the chosen branch\r\n- [x] verify that changes follow [CMS Naming, Coding, And Style Rules](http://cms-sw.github.io/cms_coding_rules.html)\r\n- [x] verify that the PR passes the basic test procedure suggested in the [CMSSW PR instructions](https://cms-sw.github.io/PRWorkflow.html)\r\n", "branch": "master", "changed_files": 16, "closed_at": "1600175048", "comments": 131, "commits": 37, "created_at": "1592242206", "deletions": 72, "labels": ["code-checks-rejected", "comparison-pending", "dqm-pending", "geometry-pending", "hold", "orp-pending", "pending-signatures", "reconstruction-pending", "simulation-pending", "tests-pending"], "milestone": "CMSSW_11_2_X", "number": 30252, "release-notes": [], "review_comments": 3, "state": "closed", "title": "[PPS] Timing detector preparation for 2021 conditions", "updated_at": "1600175049", "user": "forthommel"}