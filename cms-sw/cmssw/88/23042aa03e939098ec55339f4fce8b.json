{"additions": 384, "auther_ref": "trackerTopologyHitPattern", "auther_sha": "1c0883cf997177a856d1005b3fd1878d3bc84e1a", "author": "makortel", "body": "This PR migrates HitPattern to use TrackerTopology instead of the tracker DetId classes. There were two kind of use-cases for filling HitPattern from DetIds:\n1. DetId originates from a hit\n2. DetId is constructed on the fly from another packed HitPattern-like format\n   1. Old HitPattern (pre-#4455)\n   2. PackedCandidate\n\nCase 1 was straightforward to solve by percolating TrackerTopology to all necessary places to be passed to HitPattern.\n\nCase 2 was more tricky, as it was not possible/practical to percolate TrackerTopology. Instead, I decided to skip the creation of a \"dummy\" DetId altogether, and added a new function to deliver the required information (subdet, layer, stereo bit) to HitPattern (`appendTrackerHit()` for tracker, corresponding `appendMuonHit()` still employs DetId to encode the information as that seemed to be the simplest solution for now).\n\nTested for 1 and 2.ii in CMSSW_7_5_X_2015-06-14-2300 + #9630 with wf 11325 (#9630/#9801 needed to verify 2.ii, i.e. CMSSW_7_6_X_2015-06-29-1100 or later). Case 2.i was tested separately with a file from /RelValTTbar_13/CMSSW_7_1_0-POSTLS171_V15-v1/GEN-SIM-RECO (predating #4455 so that the iorule is activated) by printing out all properties of HitPattern first in the IB, then in the IB+this branch, and finally making a diff of the two printouts (showing no differences).\n\n@rovere @VinInn \n", "branch": "CMSSW_7_6_X", "changed_files": 39, "closed_at": "1435848455", "comments": 10, "commits": 5, "created_at": "1435637258", "deletions": 242, "labels": ["analysis-pending", "comparison-available", "dqm-approved", "fastsim-approved", "orp-pending", "pending-signatures", "reconstruction-approved", "simulation-pending", "tests-approved"], "merge_commit_sha": "65214bafd810931f1e13cb5b001a0d4d3dbe83de", "merged_at": "1435848455", "merged_by": "davidlange6", "milestone": "CMSSW_7_6_X", "number": 9959, "release-notes": [], "review_comments": 1, "state": "closed", "title": "Migrate HitPattern to use TrackerTopology", "updated_at": "1476956425", "user": "makortel"}