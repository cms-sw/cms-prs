{"additions": 11, "auther_ref": "CMSSW_14_1_0_pre7/omniClusterFast", "auther_sha": "aa44a2b5a9bcc06642c7f0d43e0ee9ab79907c17", "author": "slava77", "body": "this was motivated by inspection of `SiStripRecHitConverterAlgorithm` in the HLT context (runs without matching; expected to be used in HLT in combination with mkFit)\r\n\r\nThe overhead of making the `OmniClusterRef` via `edmNew::DetSet::makeRefTo` appeared too costly due to mostly trivial calls cluttered by unnecessary out-of-line calls that prevented the compiler optimization.\r\n- In the setup with mkFit in HLT the speedup in `SiStripRecHitConverter::produce` is around 6% (relative); \r\n- the change in the offline setup is mostly negligible due to running rphi-stereo matching which dominates `SiStripRecHitConverter`\r\n\r\nNo physics changes are expected.\r\n\r\nThere are probably benefits from using a similar `OmniClusterRef` constructor in other places, like `SiPixelRecHitFromSoAAlpaka`, but it's not a significant contributor to the total cost.\r\n\r\n@cms-sw/tracking-pog-l2 @cms-sw/trk-dpg-l2 ", "branch": "master", "changed_files": 3, "comments": 7, "commits": 2, "created_at": "1737671580", "deletions": 2, "labels": ["core-pending", "reconstruction-approved", "pending-signatures", "tests-pending", "orp-pending", "code-checks-pending", "tracking", "trk"], "milestone": "CMSSW_15_0_X", "number": 47174, "release-notes": [], "review_comments": 3, "state": "open", "title": "use faster variant of OmniClusterRef and RefCoreWithIndex initialization", "updated_at": "1737731308", "user": "slava77"}