{"additions": 325, "auther_ref": "BeamSpot_PayloadInspector_ParametersDiff", "auther_sha": "8c57f57f4a5273cc7f92986ee40c7c3ddc31b8b4", "author": "mmusich", "body": "#### PR description:\r\n\r\nThe goal of this PR is to introduce a new type of class for the BeamSpot Payload Inspector that allows to compare the BeamSpot parameters for two different payloads, either two different IOVs form the same tag, or from two different tags . \r\nThis is done via a novel templated `DisplayParametersDiff` class that will accept both `BeamSpotObjects` and `BeamSpotOnlineObjects` data types.\r\nThe unit tests of the package `CondCore/BeamSpotPlugins` are enhanced in order to test the newly added functionality.\r\n\r\n#### PR validation:\r\n\r\nTested with the following commands:\r\n```console\r\ngetPayloadData.py \\\r\n    --plugin pluginBeamSpot_PayloadInspector \\\r\n    --plot plot_BeamSpotParametersDiffSingleTag \\\r\n    --tag BeamSpotObjects_PCL_byLumi_v0_prompt \\\r\n    --time_type Lumi \\\r\n    --iovs '{\"start_iov\": \"1406859487477814\", \"end_iov\": \"1488257707672138\"}' \\\r\n    --db Prod \\\r\n    --test ;\r\n```\r\nand:\r\n\r\n```console\r\ngetPayloadData.py \\\r\n    --plugin pluginBeamSpot_PayloadInspector \\\r\n    --plot plot_BeamSpotParametersDiffTwoTags \\\r\n    --tag BeamSpotObjects_Realistic25ns_900GeV_2021PilotBeams_v2_mc \\\r\n    --time_type Run \\\r\n    --iovs '{\"start_iov\": \"1\", \"end_iov\": \"1\"}' \\\r\n    --tagtwo BeamSpotObjects_Realistic25ns_900GeV_2021PilotBeams_v1_mc \\\r\n    --iovstwo '{\"start_iov\": \"1\", \"end_iov\": \"1\"}' \\\r\n    --db Prod \\\r\n    --test ;\r\n```\r\n\r\nand obtained the following plots:\r\n\r\n| BeamSpotParametersDiffSingleTag  | BeamSpotParametersDiffTwoTags |\r\n| ------------- | ------------- |\r\n|  ![7022e9d6-5ff1-4aed-bcd2-9dd30d352dfd](https://user-images.githubusercontent.com/5082376/156789849-ba4f297d-4e98-473f-b68b-9edc7e046f0f.png) |  ![35067cfa-0358-4943-b86a-2df1c6ee7f99](https://user-images.githubusercontent.com/5082376/156789872-388840a2-da42-49c4-ac96-9e953a08b081.png) |\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nN/A", "branch": "master", "changed_files": 5, "closed_at": "1646609919", "comments": 17, "commits": 5, "created_at": "1646403878", "deletions": 16, "labels": ["fully-signed", "tests-approved", "db-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "88392cae8e6ac22755ece82d68f88dd4f32aab5f", "merged_at": "1646609919", "merged_by": "cmsbuild", "milestone": "CMSSW_12_3_X", "number": 37143, "release-notes": [], "review_comments": 0, "state": "closed", "title": "`BeamSpot` Payload Inspector: introduce payload parameters comparator", "updated_at": "1646609920", "user": "mmusich"}