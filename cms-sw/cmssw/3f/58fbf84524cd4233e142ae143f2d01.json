{"additions": 5, "auther_ref": "fix_last_lumi_number_in_Time.cc", "auther_sha": "5c19154db5500823979a50cc3d3d0664c32e9e14", "author": "fwyzard", "body": "#### PR description:\r\n\r\nUse `edm::LuminosityBlockID::maxLuminosityBlockNumber()` instead of `edm::EventID::maxEventNumber()` as the last luimisection number for the run.\r\n\r\nFixes the overflow errors reported by gcc 13 while testing the `-fimplicit-constexpr` option:\r\n```\r\nsrc/CondCore/CondDB/src/Time.cc: In function 'edm::IOVSyncValue cond::time::limitedIOVSyncValue(Time_t, TimeType)':\r\nsrc/CondCore/CondDB/src/Time.cc:117:83: error: conversion from 'long long unsigned int' to 'edm::LuminosityBlockNumber_t' {aka 'unsigned int'} changes value from '18446744073709551615' to '4294967295' [-Werror=overflow]\r\n  117 |           return edm::IOVSyncValue(edm::EventID(time, edm::EventID::maxEventNumber(), edm::EventID::maxEventNumber()));\r\n      |                                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~\r\nsrc/CondCore/CondDB/src/Time.cc: In function 'edm::IOVSyncValue cond::time::limitedIOVSyncValue(const edm::IOVSyncValue&, TimeType)':\r\nsrc/CondCore/CondDB/src/Time.cc:136:78: error: conversion from 'long long unsigned int' to 'edm::LuminosityBlockNumber_t' {aka 'unsigned int'} changes value from '18446744073709551615' to '4294967295' [-Werror=overflow]\r\n  136 |               edm::EventID(time.eventID().run(), edm::EventID::maxEventNumber(), edm::EventID::maxEventNumber()));\r\n      |                                                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~\r\n```\r\n\r\n#### PR validation:\r\n\r\nThe code compiles.", "branch": "master", "changed_files": 1, "comments": 8, "commits": 1, "created_at": "1738507619", "deletions": 3, "labels": ["fully-signed", "tests-approved", "orp-pending", "db-approved", "bug-fix", "code-checks-approved"], "milestone": "CMSSW_15_0_X", "number": 47241, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix the number for the last lumisection of the run", "updated_at": "1738739140", "user": "fwyzard"}