{"additions": 68, "auther_ref": "gartung-RecoVertex-PrimaryVertexProduce-DAClasturizeInZ_vect_loop_opt", "auther_sha": "217f66eb306b54f38818c1a7562049c33d31ece9", "author": "gartung", "body": "#### PR description:\r\nAttempt auto-vectorization of additional loops in DAClusterizerInZ_vect.cc  and DAClusterizerInZT_vect.cc\r\n\r\nWithout PR\r\n```\r\nTimeReport   2.788299     2.788299     2.788299  unsortedOfflinePrimaryVertices\r\nTimeReport   3.190056     3.190056     3.190056  unsortedOfflinePrimaryVertices4D\r\nTimeReport   2.398358     2.398358     2.398358  unsortedOfflinePrimaryVertices4DnoPID\r\n\r\n MemoryReport> Peak virtual size 16747.1 Mbytes\r\n Key events increasing vsize: \r\n[5] run: 1 lumi: 1 event: 6  vsize = 12483.1 deltaVsize = 680 rss = 7707.91 delta = 1096.84\r\n[6] run: 1 lumi: 1 event: 2  vsize = 13507.1 deltaVsize = 1024 rss = 7626.52 delta = -81.3906\r\n[11] run: 1 lumi: 1 event: 13  vsize = 15043.1 deltaVsize = 1536 rss = 7504.27 delta = -122.246\r\n[51] run: 1 lumi: 1 event: 54  vsize = 16107.1 deltaVsize = 320 rss = 7668.46 delta = 164.191\r\n[58] run: 1 lumi: 1 event: 59  vsize = 16427.1 deltaVsize = 320 rss = 8162.55 delta = 494.09\r\n[88] run: 1 lumi: 1 event: 90  vsize = 16747.1 deltaVsize = 0 rss = 7822.57 delta = 143.547\r\n[87] run: 1 lumi: 1 event: 91  vsize = 16747.1 deltaVsize = 0 rss = 7898.27 delta = 219.254\r\n[86] run: 1 lumi: 1 event: 87  vsize = 16747.1 deltaVsize = 320 rss = 7679.02 delta = -483.535\r\nTimeReport> Time report complete in 3095.72 seconds\r\n Time Summary: \r\n - Min event:   74.3302\r\n - Max event:   191.179\r\n - Avg event:   117.212\r\n - Total loop:  3024.91\r\n - Total init:  70.7418\r\n - Total job:   3095.72\r\n - EventSetup Lock:   0\r\n - EventSetup Get:   0\r\n Event Throughput: 0.0330588 ev/s\r\n CPU Summary: \r\n - Total loop:  11994.8\r\n - Total init:  44.139\r\n - Total extra: 0\r\n - Total job:   12039\r\n Processing Summary: \r\n - Number of Events:  100\r\n - Number of Global Begin Lumi Calls:  1\r\n - Number of Global Begin Run Calls: 1\r\n```\r\n\r\nWith PR\r\n```\r\nTimeReport   2.013439     2.013439     2.013439  unsortedOfflinePrimaryVertices\r\nTimeReport   2.584140     2.584140     2.584140  unsortedOfflinePrimaryVertices4D\r\nTimeReport   2.014434     2.014434     2.014434  unsortedOfflinePrimaryVertices4DnoPID\r\n\r\n\r\nMemoryReport> Peak virtual size 17949.1 Mbytes\r\n Key events increasing vsize: \r\n[5] run: 1 lumi: 1 event: 6  vsize = 12299.1 deltaVsize = 392 rss = 6973.43 delta = -2.40625\r\n[10] run: 1 lumi: 1 event: 10  vsize = 14291.1 deltaVsize = 1760 rss = 7732.62 delta = 759.191\r\n[60] run: 1 lumi: 1 event: 60  vsize = 16915.1 deltaVsize = 1792 rss = 8339.93 delta = 607.312\r\n[74] run: 1 lumi: 1 event: 76  vsize = 17629.1 deltaVsize = 394 rss = 7647.1 delta = -692.828\r\n[73] run: 1 lumi: 1 event: 74  vsize = 17235.1 deltaVsize = 320 rss = 7778.42 delta = -561.508\r\n[90] run: 1 lumi: 1 event: 88  vsize = 17949.1 deltaVsize = 0 rss = 8104.79 delta = 51.6758\r\n[89] run: 1 lumi: 1 event: 86  vsize = 17949.1 deltaVsize = 0 rss = 9214.53 delta = 1161.41\r\n[88] run: 1 lumi: 1 event: 90  vsize = 17949.1 deltaVsize = 320 rss = 8053.12 delta = 406.016\r\nTimeReport> Time report complete in 3048.08 seconds\r\n Time Summary: \r\n - Min event:   74.2096\r\n - Max event:   176.864\r\n - Avg event:   114.387\r\n - Total loop:  2976.79\r\n - Total init:  71.1336\r\n - Total job:   3048.08\r\n - EventSetup Lock:   0\r\n - EventSetup Get:   0\r\n Event Throughput: 0.0335933 ev/s\r\n CPU Summary: \r\n - Total loop:  11720.9\r\n - Total init:  44.1082\r\n - Total extra: 0\r\n - Total job:   11765.2\r\n Processing Summary: \r\n - Number of Events:  100\r\n - Number of Global Begin Lumi Calls:  1\r\n - Number of Global Begin Run Calls: 1\r\n```\r\n\r\nUnrelated module timings\r\nWithout PR\r\n```\r\nTimeReport   9.909124     9.909124     9.909124  trackExtenderWithMTD\r\nTimeReport   0.952976     0.952976     0.952976  trackExtrapolator\r\nTimeReport   0.000000     0.000000     0.000000  trackRefsForJets\r\nTimeReport   0.005173     0.005173     0.005173  trackRefsForJetsBeforeSorting\r\nTimeReport   0.005251     0.005251     0.005251  trackRefsForJetsBeforeSorting4D\r\nTimeReport   0.005086     0.005086     0.005086  trackRefsForJetsBeforeSorting4DnoPID\r\nTimeReport   0.093366     0.093366     0.093366  trackTimeValueMapProducer\r\nTimeReport   0.623982     0.623982     0.623982  trackVertexArbitrator\r\n```\r\nWith PR\r\n```\r\nTimeReport   9.879723     9.879723     9.879723  trackExtenderWithMTD\r\nTimeReport   0.947713     0.947713     0.947713  trackExtrapolator\r\nTimeReport   0.000000     0.000000     0.000000  trackRefsForJets\r\nTimeReport   0.004885     0.004885     0.004885  trackRefsForJetsBeforeSorting\r\nTimeReport   0.005151     0.005151     0.005151  trackRefsForJetsBeforeSorting4D\r\nTimeReport   0.004899     0.004899     0.004899  trackRefsForJetsBeforeSorting4DnoPID\r\nTimeReport   0.093137     0.093137     0.093137  trackTimeValueMapProducer\r\nTimeReport   0.628552     0.628552     0.628552  trackVertexArbitrator\r\n\r\n```", "branch": "master", "changed_files": 2, "closed_at": "1595398501", "comments": 180, "commits": 27, "created_at": "1593201889", "deletions": 36, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "159943685845cd5a51886f7c117583d4b2fb13aa", "merged_at": "1595398501", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 30437, "release-notes": [], "review_comments": 53, "state": "closed", "title": "RecoVertex/PrimaryVertexProducer: Attempt auto-vectorization of additional loops in DAClusterizerInZ_vect.cc  and DAClusterizerInZT_vect.cc ", "updated_at": "1595398502", "user": "gartung"}