{"additions": 141, "auther_ref": "dqm-add-run-numbers-pre7", "auther_sha": "e0cb078505c01ab12a046c1799a26dcc53465b37", "author": "schneiml", "body": "This is an attempt to fix the long-standing issue of mislabeled DQM plots on meeting slides. (Once discussion here settles, this should also be backported to 80X.) \n\nThe solution is to simply put the run number onto the plot itself. However this is not that easy in the obvious place (the DQM GUI) since the rendering is not aware of runs and such. So, I tried a simple solution here: just add it to the histogram title in an additional harvesting step.\n\nAt the moment this is only applied to tracker-related plots, but we might want to turn it on for everything. (Nothing obviously breaks from changing all histogram titles, but probably something will.)\n\nImplemetation issues are that the run number in the ME seems to be 0 in the relevant places (is this only used for step1 or multi-run harvesting or something?) and that dqmEndJob does not know the run, with the usual fix of storing the value in endLumi. Another is that this plugin should run once at the very end of the harvesting sequence, which I don't see how to do. The current solution works but is not optimal.\n\nThe change to the `DQMStore` is needed to access the `getContents` method via the `IGetter`, which I would call a bug fix. My solution is moderately elegant, others are possible but not much better.\n", "branch": "CMSSW_8_1_X", "changed_files": 6, "closed_at": "1466508786", "comments": 19, "commits": 6, "created_at": "1466061120", "deletions": 4, "labels": ["comparison-available", "dqm-approved", "hold", "orp-pending", "pending-signatures", "tests-approved"], "milestone": "Next CMSSW_8_1_X", "number": 14899, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Add run numbers to DQM output", "updated_at": "1466508786", "user": "schneiml"}