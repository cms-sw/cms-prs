{"additions": 168, "auther_ref": "jc_LHCInfoPerLS_PopCon_IOV_misalignment_fix", "auther_sha": "dbe2cd10401c3313923b294e84ebc2e29efea89b", "author": "CTPPS", "body": "#### PR description:\r\n\r\nFixes a bug in `LHCInfoPerLS` PopCon: before it was writing a payload on a wrong IOV (corresponding to a different lumisection) or skipping a payload in these cases:\r\n* `start_time` of lumisection in OMS greater or equal to `DIP_UPDATE_TIME` in PPS DB\r\n* lumisection missing in OMS\r\n\r\nAdditionally it introduces logs monitoring payload quality to `LHCInfoPerLS` PopCon. It logs payloads with invalid values of beta star and crossing angle as well as missing records in the PPS DB.\r\n\r\n#### PR validation:\r\n\r\nAdded validation of writing correct number of payloads for fill 7967 to the `CondToolsLHCInfoNewPopConTest` unit test. Before the fix payload on IOV 7119284725528657920 was skipped.\r\n\r\n#### Backporting\r\n\r\nI suspect it should be backproted back to 13_0_X but please confirm it.", "branch": "master", "changed_files": 6, "comments": 9, "commits": 1, "created_at": "1692715021", "deletions": 62, "labels": ["db-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-pending"], "milestone": "CMSSW_13_3_X", "number": 42629, "release-notes": [], "review_comments": 4, "state": "open", "title": "Fix LHCInfoPerLS PopCon incorrectly matching LS between OMS and PPS db", "updated_at": "1693291975", "user": "JanChyczynski"}