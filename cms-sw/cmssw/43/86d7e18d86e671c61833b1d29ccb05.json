{"additions": 1, "auther_ref": "HcalTasks-rawtask-bad-event-protection", "auther_sha": "312d6f351705ec47116521831aca9d71ae43bf23", "author": "dan131riley", "body": "RawTask::_process() doesn't check the validity of the HcalHTRData from getSpigotData(), which can result in invalid memory accesses if the data are corrupt or missing.  This is seen in valgrind for some IB workflows, e.g. 134.703, and is suspected of causing intermittent crashes in the threaded IBs.  Details are in issue #14898.  This PR proposes a minimal point fix, copying a pattern used elsewhere in the HCAL DQM.\n\nFrom the IB log files, it looks like the input file (from step2) for this workflow is missing most of the collections needed by step3; perhaps there ought to be some higher level check that would skip processing missing data altogether, but that's out of scope for this PR.\n", "branch": "CMSSW_8_1_X", "changed_files": 1, "closed_at": "1470483775", "comments": 7, "commits": 1, "created_at": "1466695575", "deletions": 1, "labels": ["comparison-available", "dqm-pending", "orp-pending", "pending-signatures", "tests-approved"], "merge_commit_sha": "00855a1da379b8c92de7879d73e44300b92e03ca", "merged_at": "1470483775", "merged_by": "davidlange6", "milestone": "Next CMSSW_8_1_X", "number": 14963, "release-notes": [], "review_comments": 0, "state": "closed", "title": "protect RawTask::_process from processing bad HcalHTRData", "updated_at": "1507556381", "user": "dan131riley"}