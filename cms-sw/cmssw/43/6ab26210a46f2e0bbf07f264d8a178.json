{"additions": 81, "auther_ref": "fix_hex_geom_pt2", "auther_sha": "2e312d45820c22a554736263d7c711a41f1dd694", "author": "lgray", "body": "Continuation of #13038.\n\nThis PR fixes a hex wafer numbering bug arising from having used a map to store a list of wafer copy numbers. This meant that wafer indices did not contiguously span a given layer, and that property was assumed elsewhere in the code. This led to numerous out-of-bounds det ids in certain regions of the HGCal.\n\nPart two of the fix was then to realize that \"contiguous set of det ids\" is not well defined in this geometry since the inner and outer radii are changing in the layers. The valid det ids in each layer are now indexed by a hash map.\n\nThe out-of-bounds detids no longer appear even in large samples, but there are a few cases where the sim and reco geometries do not map to each other correctly. That will come in another round of fixes.\n\n@bsunanda\n", "branch": "CMSSW_8_0_X", "changed_files": 8, "closed_at": "1454056668", "comments": 26, "commits": 2, "created_at": "1453795907", "deletions": 52, "labels": ["comparison-available", "fully-signed", "geometry-approved", "orp-approved", "simulation-approved", "tests-approved"], "merge_commit_sha": "38c19739f4ab340ccdf0f7746053e81ec785f8bc", "merged_at": "1454056668", "merged_by": "cmsbuild", "milestone": "CMSSW_8_0_X", "number": 13069, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fixing HGCal Hexagonal Geometry Round 2", "updated_at": "1454056668", "user": "lgray"}