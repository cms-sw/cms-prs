{"additions": 256, "auther_ref": "IanStubFix2pre1", "auther_sha": "b2180aab6a8b607b7cf59517e63ab694af6c0f3c", "author": "tomalin", "body": "#### PR description:\r\n\r\nThis fixes several issues with simulation of truncation of stubs in the front-end tracker chips in the TTStubBuilder. (N.B. Until this PR, truncation has always been disabled by default, so these issues had no effect on official MC production).\r\n\r\n1) It eliminates a bug that was introduced in CMSSW 11.0\r\n2) It updates the list of which tracker modules have 10Gb/s vs 5Gb/s opto-link readout.\r\n3) It moves truncated stubs to the \"StubRejected\" collection (in case needed for debugging), whereas previously they were left in the \"StubAccepted\" collection, meaning they could incorrectly be used for L1 tracking.\r\n4) It adds a new collection \"ClusterRejected\" of clusters associated to the \"StubRejected\" stubs.\r\n5) It cleans up and shortens the code.\r\n6) Python cfg now enables FE stub truncation by default (leads to parts per mille change in L1 tracking performance).\r\n\r\nN.B. At some point in the future, we should update further to take opto-link speed from DB.\r\n\r\n#### PR validation:\r\n\r\nHave created stubs in multithreaded job and run L1 tracking on them.\r\n\r\n", "branch": "master", "changed_files": 5, "closed_at": "1594388172", "comments": 4, "commits": 3, "created_at": "1594387313", "deletions": 310, "labels": ["code-checks-rejected", "comparison-pending", "l1-pending", "orp-pending", "pending-signatures", "simulation-pending", "tests-pending", "upgrade-pending"], "milestone": "CMSSW_11_2_X", "number": 30637, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix FE chip stub truncation in TTStubBuilder", "updated_at": "1594388172", "user": "tomalin"}