{"additions": 129, "auther_ref": "portFrom130XTo126X_PuppiInQGLTagger", "auther_sha": "193817fe31af48abbc9cef833c8e54879e81d990", "author": "nurfikri89", "body": "Backport from #40667 \r\n\r\n#### Original PR description:\r\n\r\nThe main goal of this PR is to modify QGTagger producer (used to compute Quark-Gluon (QG) Likelihood) so that it is compatible with PUPPI jets. The `QGTagger` calculates three input variables, used to compute the likelihood, from PF constituents of jets. The changes in this PR allows the QGTagger to compute the input variables with PUPPI weights applied on the PF constituents by accessing the weights from the provided `ValueMap<float>`. This can also be done for any constituents weights, not just PUPPI.  Additionally, this PR makes it optional to not compute the likelihood and calculate just the three input variables for users who wants only them. \r\n\r\nWith these modifications of the QGTagger, it should not affect CHS jets so we do not expect to see any change to the output of workflows. The QGTagger is currently scheduled to run only for AK4 CHS jets at the MiniAOD and (Run-2) NanoAOD production level.\r\n\r\nOther changes:\r\n- some fixes for JMENanoAOD. \r\n- fine-tune histograms in nanoDQM for JMENano.\r\n\r\n#### Backport PR validation:\r\n- Validation plots comparing the input variables before and after the fix can be found in this JMAR meeting [contribution](https://indico.cern.ch/event/1245910/#7-virtual-quark-gluon-likeliho). \r\n- passes reMiniAOD and reNanoAOD workflows: `runTheMatrix.py -i all --ibeos -l 1325.518,2500.312`\r\n- passes the JMENano workflows: `runTheMatrix.py -i all --ibeos -l 10224.15,11024.15,25202.15,11634.15`", "branch": "CMSSW_12_6_X", "changed_files": 6, "comments": 7, "commits": 8, "created_at": "1676011779", "deletions": 95, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-pending", "xpog-approved"], "milestone": "CMSSW_12_6_X", "number": 40740, "release-notes": [], "review_comments": 0, "state": "open", "title": "[QGL, JMENanoAOD] Backport of #40667 (PUPPI-compatible QGTagger producer) to 12_6_X ", "updated_at": "1676360854", "user": "nurfikri89"}