{"additions": 70, "auther_ref": "150X_duplicate_hits_alpaka", "auther_sha": "08200b0a041cf23ac35322c70f4fc84295fd2631", "author": "CMSTrackerDPG", "body": "#### PR description:\r\n\r\nFixes a bug in the heterogeneous pixel raw-to-cluster module:\r\n - Include in the output the last pixel of each module. The current implementation ignores the last pixel of each module, and nobody seems to know why.\r\n\r\nImplements a few small optimisations:\r\n- Adjust the number of nearest neighbours after duplicate removal.\r\n- Remove an unnecessary synchronisation.\r\n\r\nSmall changes in Phase-1 workflows are expected.\r\n\r\n#### PR validation:\r\n\r\n`runTheMatrix` tests are finished with\r\n\r\n```\r\n49 44 42 38 18 1 1 1 1 1 1 tests passed, 1 4 0 0 0 0 0 0 0 0 0 failed\r\n```\r\n\r\nThe failed wfs all failed because of eos issues with errors such as\r\n```\r\nException Message:\r\nFailed to open the file 'root://xrootd-cms.infn.it//store/relval/CMSSW_10_6_0/RelValMinBias_13/GEN-SIM/106X_upgrade2018_realistic_v4-v1/10000/48654250-08E9-1D43-AE35-5DF5D6101B2F.root'\r\n```\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nBackport of [#48580](https://github.com/cms-sw/cmssw/pull/48580) and [#48609](https://github.com/cms-sw/cmssw/pull/48609).\r\n\r\nThe backport of [#48580](https://github.com/cms-sw/cmssw/pull/48580) was previously attempted in [#48581](https://github.com/cms-sw/cmssw/pull/48581), but was blocked after the original PR had already been merged to master. The reason was that it would allow the first instances of duplicate pixel hits to be clustered.\r\n\r\nThis issue was addressed by [#48609](https://github.com/cms-sw/cmssw/pull/48609), which effectively reverts that part of [#48580](https://github.com/cms-sw/cmssw/pull/48580).\r\n\r\nThis PR backports both PRs together, to maintain consistency with master while avoiding the unintended behavior from [#48580](https://github.com/cms-sw/cmssw/pull/48580) alone.\r\n", "branch": "CMSSW_15_0_X", "changed_files": 1, "comments": 2, "commits": 3, "created_at": "1753340440", "deletions": 64, "labels": ["reconstruction-pending", "pending-signatures", "tests-pending", "orp-pending", "trk"], "milestone": "CMSSW_15_0_X", "number": 48625, "release-notes": [], "review_comments": 0, "state": "open", "title": "[15.0.X] Restore removal of all duplicate pixel hits in Phase-1 pixel raw to cluster", "updated_at": "1753340468", "user": "mroguljic"}