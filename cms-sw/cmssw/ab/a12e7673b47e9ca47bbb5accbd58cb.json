{"additions": 87, "auther_ref": "hitPairEDProducerAbortEarlier_131x", "auther_sha": "73dc586dddfa1e76e78a5503cd124906407a8522", "author": "makortel", "body": "#### PR description:\r\n\r\nThis PR is an attempt to reduce memory usage in the case reported in https://github.com/cms-sw/cmssw/issues/41457 following my question in https://github.com/cms-sw/cmssw/issues/41457#issuecomment-1532312159. It adds a configuration option `putEmptyIfMaxElementReached` (better name welcome)  to `HitPairEDProducer` (defaults to `false`), that will make the `HitPairEDProducer` to \"abort\" the processing and put empty data products into the Event also in the case where any layer pair yields more doublets than the `maxElement` threshold, in addition of the condition of the total number of doublets from all layer pairs reaching `maxElementTotal`.\r\n\r\n#### PR validation:\r\n\r\nIn addition to https://github.com/cms-sw/cmssw/pull/41514, code compiles\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nBackport of https://github.com/cms-sw/cmssw/pull/41561", "branch": "CMSSW_13_1_X", "changed_files": 6, "closed_at": "1687365457", "comments": 7, "commits": 1, "created_at": "1683293844", "deletions": 53, "labels": ["reconstruction-rejected", "pending-signatures", "tests-rejected", "orp-pending", "backport-ok", "tracking"], "milestone": "CMSSW_13_1_X", "number": 41562, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[13_1_X] Add an option to HitPairEDProducer to put empty data products if number of hit pairs for any layer pair go over the limit", "updated_at": "1687365460", "user": "makortel"}