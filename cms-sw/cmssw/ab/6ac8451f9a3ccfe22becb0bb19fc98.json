{"additions": 1718, "auther_ref": "RedoPoolSource", "auther_sha": "b0371c1187c522c1367eedb6779230e74805c535", "author": "wmtan", "body": "PoolSource and the related class RootInputFIleSequence have become cumbersome and difficult to maintain.  In particular, PoolSource is used for both a primary input source and a secondary input source, and contains almost no code that is common to both cases.  It should be two separate classes.\nRootInputFileSequence is even worse.  It should be three separate classes.\nThis PR does the refactoring.  Also, this PR reduces the depth of the inheritance of both sources.\nThere is no change whatever to the external interface of PoolSource used as a primary source.\nThe interface for the secondary input source is modified and improved.  In particular, the class used is EmbeddedRootSource, rather than PoolSource.  Also, the function interface is streamlined.\nThis PR adapts all the users of the secondary input source in CMSSW to the change.\nThere are only two places outside the framework where the C++ interface to the secondary source is used, but quite a few configuration files that are minimally changed.\nAlso, to implement a suggestion from Chris Jones, the use of the product registry in constructing the input sources is simplified to uniformly use a std::shared_ptr, for simplicity and consistency.\n", "branch": "CMSSW_7_5_X", "changed_files": 116, "closed_at": "1433434291", "comments": 21, "commits": 1, "created_at": "1433201614", "deletions": 1227, "labels": ["comparison-pending", "core-approved", "dqm-approved", "fully-signed", "geometry-approved", "orp-pending", "simulation-approved", "tests-rejected"], "merge_commit_sha": "2195e23ec7e4949b6ed05e48716ea541dac9f200", "merged_at": "1433434291", "merged_by": "davidlange6", "milestone": "CMSSW_7_5_X", "number": 9397, "release-notes": [], "review_comments": 14, "state": "closed", "title": "Refactoring of PoolSource", "updated_at": "1433526210", "user": "wmtan"}