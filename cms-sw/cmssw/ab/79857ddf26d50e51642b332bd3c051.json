{"additions": 14, "auther_ref": "remove-titerator", "auther_sha": "0e1ee7a4b68be6762e7a141b20dc586b14d73efa", "author": "iarspider", "body": "#### PR description:\r\n\r\nThis PR fixes warnings observed in ROOT6_X IBs:[1](https://cmssdt.cern.ch/SDT/cgi-bin/buildlogs/el8_amd64_gcc12/CMSSW_14_0_ROOT6_X_2023-11-22-2300/PhysicsTools/TagAndProbe), [2](https://cmssdt.cern.ch/SDT/cgi-bin/buildlogs/el8_amd64_gcc12/CMSSW_14_0_ROOT6_X_2023-11-22-2300/PhysicsTools/Utilities):\r\n\r\n```\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/TagAndProbe/src/TagProbeFitter.cc: In member function 'std::string TagProbeFitter::calculateEfficiency(std::string, const std::vector<std::__cxx11::basic_string<char> >&, const std::vector<std::__cxx11::basic_string<char> >&, std::vector<std::__cxx11::basic_string<char> >&, std::map<std::__cxx11::basic_string<char>, std::vector<double> >&, std::map<std::__cxx11::basic_string<char>, std::vector<std::__cxx11::basic_string<char> > >&, std::vector<std::__cxx11::basic_string<char> >&)':\r\n  /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/TagAndProbe/src/TagProbeFitter.cc:332:46: warning: 'TIterator* RooAbsCollection::createIterator(bool) const' is deprecated: will be removed in ROOT v6.34: begin(), end() and range-based for loops. [-Wdeprecated-declarations]\r\n   332 |     TIterator* iter = dataVars.createIterator();\r\n      |                       ~~~~~~~~~~~~~~~~~~~~~~~^~\r\nIn file included from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooArgSet.h:19,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooWorkspace.h:20,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/TagAndProbe/interface/TagProbeFitter.h:7,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/TagAndProbe/src/TagProbeFitter.cc:1:\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooAbsCollection.h:227:21: note: declared here\r\n  227 |   inline TIterator* createIterator(bool dir = kIterForward) const\r\n      |                     ^~~~~~~~~~~~~~\r\n  /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/TagAndProbe/src/TagProbeFitter.cc:483:55: warning: 'RooLinkedListIter RooAbsCollection::iterator(bool) const' is deprecated: will be removed in ROOT v6.34: begin(), end() and range-based for loops. [-Wdeprecated-declarations]\r\n   483 |       RooLinkedListIter vit = binnedVariables.iterator();\r\n      |                               ~~~~~~~~~~~~~~~~~~~~~~~~^~\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooAbsCollection.h:235:21: note: declared here\r\n  235 |   RooLinkedListIter iterator(bool dir = kIterForward) const\r\n      |                     ^~~~~~~~\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/TagAndProbe/src/TagProbeFitter.cc: In member function 'void TagProbeFitter::saveFitPlot(RooWorkspace*)':\r\n  /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/TagAndProbe/src/TagProbeFitter.cc:791:39: warning: 'RooLinkedListIter RooAbsCollection::iterator(bool) const' is deprecated: will be removed in ROOT v6.34: begin(), end() and range-based for loops. [-Wdeprecated-declarations]\r\n   791 |   RooLinkedListIter it = obs->iterator();\r\n      |                          ~~~~~~~~~~~~~^~\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooAbsCollection.h:235:21: note: declared here\r\n  235 |   RooLinkedListIter iterator(bool dir = kIterForward) const\r\n      |                     ^~~~~~~~\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/TagAndProbe/src/TagProbeFitter.cc: In member function 'void TagProbeFitter::saveDistributionsPlot(RooWorkspace*)':\r\n  /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/TagAndProbe/src/TagProbeFitter.cc:870:40: warning: 'RooLinkedListIter RooAbsCollection::iterator(bool) const' is deprecated: will be removed in ROOT v6.34: begin(), end() and range-based for loops. [-Wdeprecated-declarations]\r\n   870 |   RooLinkedListIter it = vars->iterator();\r\n      |                          ~~~~~~~~~~~~~~^~\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooAbsCollection.h:235:21: note: declared here\r\n  235 |   RooLinkedListIter iterator(bool dir = kIterForward) const\r\n      |                     ^~~~~~~~\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/TagAndProbe/src/TagProbeFitter.cc: In member function 'void TagProbeFitter::saveEfficiencyPlots(RooDataSet&, const TString&, RooArgSet&, RooArgSet&)':\r\n  /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/TagAndProbe/src/TagProbeFitter.cc:912:52: warning: 'RooLinkedListIter RooAbsCollection::iterator(bool) const' is deprecated: will be removed in ROOT v6.34: begin(), end() and range-based for loops. [-Wdeprecated-declarations]\r\n   912 |   RooLinkedListIter v1it = binnedVariables.iterator();\r\n      |                            ~~~~~~~~~~~~~~~~~~~~~~~~^~\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooAbsCollection.h:235:21: note: declared here\r\n  235 |   RooLinkedListIter iterator(bool dir = kIterForward) const\r\n      |                     ^~~~~~~~\r\n  /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/TagAndProbe/src/TagProbeFitter.cc:919:54: warning: 'RooLinkedListIter RooAbsCollection::iterator(bool) const' is deprecated: will be removed in ROOT v6.34: begin(), end() and range-based for loops. [-Wdeprecated-declarations]\r\n   919 |     RooLinkedListIter v2it = binnedVariables.iterator();\r\n      |                              ~~~~~~~~~~~~~~~~~~~~~~~~^~\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooAbsCollection.h:235:21: note: declared here\r\n  235 |   RooLinkedListIter iterator(bool dir = kIterForward) const\r\n      |                     ^~~~~~~~\r\n  /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/TagAndProbe/src/TagProbeFitter.cc:929:56: warning: 'RooLinkedListIter RooAbsCollection::iterator(bool) const' is deprecated: will be removed in ROOT v6.34: begin(), end() and range-based for loops. [-Wdeprecated-declarations]\r\n   929 |       RooLinkedListIter v3it = binnedVariables.iterator();\r\n      |                                ~~~~~~~~~~~~~~~~~~~~~~~~^~\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooAbsCollection.h:235:21: note: declared here\r\n  235 |   RooLinkedListIter iterator(bool dir = kIterForward) const\r\n      |                     ^~~~~~~~\r\n```\r\n\r\n```\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/Utilities/src/SideBandSubtraction.cc: In member function 'int SideBandSubtract::doSubtraction(RooRealVar*, Double_t, Int_t)':\r\n  /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/Utilities/src/SideBandSubtraction.cc:101:60: warning: 'TIterator* RooAbsCollection::createIterator(bool) const' is deprecated: will be removed in ROOT v6.34: begin(), end() and range-based for loops. [-Wdeprecated-declarations]\r\n   101 |   TIterator* iter = (TIterator*)Data->get()->createIterator();\r\n      |                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~\r\nIn file included from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooArgSet.h:19,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooAbsReal.h:22,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooAbsRealLValue.h:24,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooRealVar.h:19,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/Utilities/interface/SideBandSubtraction.h:5,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/Utilities/src/SideBandSubtraction.cc:13:\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooAbsCollection.h:227:21: note: declared here\r\n  227 |   inline TIterator* createIterator(bool dir = kIterForward) const\r\n      |                     ^~~~~~~~~~~~~~\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/Utilities/src/SideBandSubtraction.cc: In member function 'int SideBandSubtract::doGlobalFit()':\r\n  /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/69cb71416398349c2ccc9f39dc38e469/opt/cmssw/el8_amd64_gcc12/cms/cmssw/CMSSW_14_0_ROOT6_X_2023-11-22-2300/src/PhysicsTools/Utilities/src/SideBandSubtraction.cc:434:60: warning: 'TIterator* RooAbsCollection::createIterator(bool) const' is deprecated: will be removed in ROOT v6.34: begin(), end() and range-based for loops. [-Wdeprecated-declarations]\r\n   434 |   TIterator* iter = (TIterator*)Data->get()->createIterator();\r\n      |                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~^~\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/lcg/root/6.31.01-00fbbfcc467ea63cb3d71a5375f62eb9/include/RooAbsCollection.h:227:21: note: declared here\r\n  227 |   inline TIterator* createIterator(bool dir = kIterForward) const\r\n      |                     ^~~~~~~~~~~~~~\r\n```\r\n#### PR validation:\r\n\r\nBot tests\r\n", "branch": "master", "changed_files": 2, "comments": 8, "commits": 2, "created_at": "1700743625", "deletions": 26, "labels": ["analysis-pending", "pending-signatures", "tests-approved", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_14_0_X", "number": 43373, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix usage of deprecated methods returning TIterator (replace with range loops or begin/end)", "updated_at": "1700759859", "user": "iarspider"}