{"additions": 3, "auther_ref": "CMSSW_7_4_X-eorfix", "auther_sha": "6283f73d27a4a4889dd9a648f07579783d1dd16d", "author": "smorovic", "body": "In case of multiple pending lumisections in builder unit (ramdisk), recently forced behavior is to cycle the framework through each LS (previously source was skipping to the last one having raw data that needs to be processed). This change uncovered a loophole in logic allowing run to end prematurely if end of run file (written by BU) is in ramdisk, and there are still at least two empty lumisections followed by a LS with some raw data to process.\nFix is to allow the run to be closed only if no new files/lumisections have been discovered by source after EoR file has already been written to the input directory.\n", "branch": "CMSSW_7_4_X", "changed_files": 1, "closed_at": "1442387204", "comments": 10, "commits": 1, "created_at": "1441481695", "deletions": 1, "labels": ["comparison-available", "daq-approved", "fully-signed", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "66e38cd8d2f0d02544517d8b251939f1a6294a13", "merged_at": "1442387204", "merged_by": "cmsbuild", "milestone": "Next CMSSW_7_4_X", "number": 11156, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix premature end of run in DAQ (74X)", "updated_at": "1447408311", "user": "smorovic"}