{"additions": 50, "auther_ref": "alca-Include_Ecal_CC_timing_labelled_tags", "auther_sha": "6482871a187490bb4c14b3a4eef4691e1ec79ac4", "author": "saumyaphor4252", "body": "#### PR description:\r\nThis PR is mostly a follow-up to https://github.com/cms-sw/cmssw/pull/42928 and adds the Ecal Timing `CC` labelled tags to\r\n- Run3 Express, Prompt, offline data GTs\r\n- Run3 MC GTs, and\r\n- Phase2 MC GT\r\n\r\nas follows: \r\n\r\n**For MC**\r\n\r\n|Rcd | Label | Tag |\r\n| -- | -- | -- | \r\n| EcalTimeOffsetConstantRcd\t| -\t| EcalTimeOffsetConstant_v01_mc | \r\n| EcalTimeCalibConstantsRcd\t| -\t| EcalTimeCalibConstants_mc |  \r\n| EcalTimeOffsetConstantRcd\t| CC | EcalTimeOffsetConstant_cctiming_v01_mc |\r\n| EcalTimeCalibConstantsRcd | CC | EcalTimeCalibConstants_mc |  \r\n\r\n**For Data**: \r\n\r\n|Rcd | Label | HLT | Express | Prompt |\r\n| -- | -- | -- | -- | -- | \r\n| EcalTimeOffsetConstantRcd\t| -\t| EcalTimeOffsetConstant_v01_hlt | EcalTimeOffsetConstant_v01_hlt | EcalTimeOffsetConstant_v01_hlt | \r\n| EcalTimeCalibConstantsRcd\t| -\t| EcalTimeCalibConstants_v3_hlt | EcalTimeCalibConstants_v3_hlt | EcalTimeCalibConstants_v3_hlt | \r\n| EcalTimeOffsetConstantRcd\t| CC | - | EcalTimeOffsetConstant_v01_express | EcalTimeOffsetConstant_v01_express | \r\n| EcalTimeCalibConstantsRcd | CC | - | EcalTimeCalibConstants_v1_Express | EcalTimeCalibConstants_v01_prompt | \r\n\r\n| Rcd | Label | PromptAnalysis | Offline | \r\n| -- | -- | -- | -- | \r\n| EcalTimeOffsetConstantRcd\t| -\t| EcalTimeOffsetConstant_v01_express | EcalTimeOffsetConstant_v01_offline |\r\n| EcalTimeCalibConstantsRcd\t| -\t| EcalTimeCalibConstants_v01_prompt | EcalTimeCalibConstants_Run1_Run2_Run3_v03_offline | \r\n| EcalTimeOffsetConstantRcd\t| CC | EcalTimeOffsetConstant_v01_express | EcalTimeOffsetConstant_cctiming_v01_offline |\r\n| EcalTimeCalibConstantsRcd | CC | EcalTimeCalibConstants_v01_prompt | EcalTimeCalibConstants_Run1_Run2_Run3_v03_offline |\r\n\r\nThe relevant CMS Talk posts and links for the mentioned changes are [1][2][3]\r\n\r\n[1] https://indico.cern.ch/event/1329876/\r\n[2] https://cms-talk.web.cern.ch/t/queues-133x-mc-and-data-queues-opened/29683\r\n[3] https://cms-talk.web.cern.ch/t/full-track-validation-ecal-time-calibration-conditions-for-cc-timing-algorithm/28247 \r\n\r\nIn addition, it also introduces a new key `run3_data_PromptAnalysis` to the `autoCond`. The corresponding GT is for the offline reprocessing happening with Prompt GTs. So far, the GT has conditions used for the 2022FG reprocessing and was last done in 130X cycle [4] with `130X_dataRun3_PromptAnalysis_v1`. The difference between the 133X GT with the 130X GT used for nanov12 [4] is only the addition of the ECAL Timing `CC` labelled tags. (See in the diffs below). No workflow is testing this GT for now. We leave that to PdMV to include the relevant workflows at some point. \r\n\r\n[4] https://cms-talk.web.cern.ch/t/mc-offline-rereco-gts-for-2022-remini-nano-v12-in-130x/29645\r\n\r\nApart from that it also does some minor changes: \r\n - Updates the Run-3 data offline GT to fix the ES channel status tag \r\n - Resnapshots the Run3 HLT GT\r\n - Syncs the Express and Prompt GTs with current data-taking GTs\r\n - Formats text\r\n \r\n**GT Differences with the last ones are here**:\r\n\r\n- **Run3 data HLT** : No change, just updated snapshot time\r\n  - Diff with last GT: https://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/132X_dataRun3_HLT_frozen_v1/133X_dataRun3_HLT_frozen_v1\r\n  - Diff from Current HLT GT: https://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/132X_dataRun3_HLT_v2/133X_dataRun3_HLT_frozen_v1\r\n\t\r\n- **Run3 data Express** : Includes Ecal Timing CC labelled tags, and updates as per the current Express GT with new snapshot time \r\n  - Diff with last GT: https://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_dataRun3_Express_frozen_v1/132X_dataRun3_Express_frozen_v1\r\n  - Diff from Current Express GT: https://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_dataRun3_Express_frozen_v1/132X_dataRun3_Express_v4\r\n\r\n- **Run3 data Prompt** : Includes Ecal Timing CC labelled tags, and updates as per the current Prompt GT with new snapshot time \r\n  - Diff with last GT: https://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_dataRun3_Prompt_frozen_v1/132X_dataRun3_Prompt_frozen_v1\r\n  - Diff from Current Prompt GT: https://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_dataRun3_Prompt_frozen_v1/132X_dataRun3_Prompt_v4\r\n\r\n- **Run3 data Offline** : Includes Ecal Timing CC labelled tags and updates the ES Channel status tag to fix the wrong IOV upload 375472 instead of 374572\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_dataRun3_v3/132X_dataRun3_v1\r\n\r\n- **Run3 data PromptAnalysis** : New key for offline reprocessing with Prompt GTs; Includes Ecal Timing CC labelled tags from the last GT used for NANOv12 `130X_dataRun3_PromptAnalysis_v1`\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_dataRun3_PromptAnalysis_v1/130X_dataRun3_PromptAnalysis_v1\r\n\r\n- **Phase1 2022 design** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun3_2022_design_v1/132X_mcRun3_2022_design_v1\r\n\r\n- **Phase1 2022 realistic** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun3_2022_realistic_v1/132X_mcRun3_2022_realistic_v2\r\n\r\n- **Phase1 2022 realistic postEE** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun3_2022_realistic_postEE_v1/132X_mcRun3_2022_realistic_postEE_v2\r\n\r\n- **Phase1 2022 cosmics** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun3_2022cosmics_realistic_deco_v1/132X_mcRun3_2022cosmics_realistic_deco_v2\r\n\r\n- **Phase1 2022 cosmics design** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun3_2022cosmics_design_deco_v1/132X_mcRun3_2022cosmics_design_deco_v1\r\n\r\n- **Phase1 2022 realistic hi** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun3_2022_realistic_HI_v1/132X_mcRun3_2022_realistic_HI_v1\r\n\r\n- **Phase1 2023 design** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun3_2023_design_v1/132X_mcRun3_2023_design_v1\r\n\r\n- **Phase1 2023 realistic** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun3_2023_realistic_v1/132X_mcRun3_2023_realistic_v4\r\n\t\r\n- **Phase1 2023 realistic postBPix** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun3_2023_realistic_postBPix_v1/132X_mcRun3_2023_realistic_postBPix_v3\r\n\r\n- **Phase1 2023 cosmics reaslistic** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun3_2023cosmics_realistic_deco_v1/132X_mcRun3_2023cosmics_realistic_deco_v3\r\n\r\n- **Phase1 2023 cosmics design** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun3_2023cosmics_design_deco_v1/132X_mcRun3_2023cosmics_design_deco_v1\r\n\r\n- **Phase1 2023 realistic hi** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun3_2023_realistic_HI_v1/132X_mcRun3_2023_realistic_HI_v2\r\n\r\n- **Phase1 2024 realistic** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun3_2024_realistic_v1/132X_mcRun3_2024_realistic_v2\r\n\r\n- **Phase2** : Includes Ecal Timing CC labelled tags\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/133X_mcRun4_realistic_v1/132X_mcRun4_realistic_v2\r\n\r\n#### PR validation:\r\nTested successfully with the PR https://github.com/cms-sw/cmssw/pull/42928 using\r\n- `runTheMatrix.py -l 138.2,138.4,138.5,139.001,141.002,141.003,159.1,160.1,312.0,12034.0,12434.0,12834.0,11601.0,23234.0 -j10 --ibeos` \r\n- `runTheMatrix.py -l 12430.0,12440.0 --what upgrade -j 8 --ibeos`\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\nNot a backport. Backport will be followed up for 132X and 131X to go with:\r\n- https://github.com/cms-sw/cmssw/pull/42946\r\n- https://github.com/cms-sw/cmssw/pull/42947\r\n\r\n", "branch": "master", "changed_files": 1, "comments": 13, "commits": 1, "created_at": "1696520717", "deletions": 48, "labels": ["alca-pending", "pending-signatures", "tests-rejected", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_13_3_X", "number": 42958, "release-notes": [], "review_comments": 0, "state": "open", "title": "Include ECAL Timing CC labelled tags in Run3 data and MC GTs", "updated_at": "1696603592", "user": "saumyaphor4252"}