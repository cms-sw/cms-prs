{"additions": 44, "auther_ref": "alca-update-relval-gts", "auther_sha": "f9b641cc3da719dd39b11bd365a99c20f79705b9", "author": "christopheralanwest", "body": "#### PR description:\r\n\r\nThis PR makes several changes to the online GTs to bring several up-to-date and simplify maintenance.\r\n\r\n- The `run1_hlt` key is replaced by a `run1_hlt_relval` key as the only usage of this key is in Run 1 addOnTests in which the L1T menu is intended to be fixed, as in relvals\r\n- The `run2_hlt` key has been removed, as it is not used anywhere in CMSSW\r\n- A new HLT autoCond key, `run3_hlt` has been introduced and is intended to be kept up-to-date with the actual HLT GT. This key is used by the `DQM/Integration` package and is also used in the legacy `autoCond['hltonline']` key (intended to represent the online HLT). There are no other uses of this key in CMSSW.\r\n- The GT represented by the value of key `run2_hlt_relval` has been brought up-to-date with respect to the current online GT. It now is equivalent to the online HLT key, aside from a fixed snapshot time and L1T trigger menu\r\n- The `run2_hlt_relval_hi` key was superfluous. It differs from the `run2_hlt_relval` key only by the L1 trigger menu. Since only usage was in `autoCondHLT`, which overrides the trigger menu, I have modified the relevant entry to use the `run2_hlt_relval` key and removed the `run2_hlt_relval_hi` key.\r\n- `run2_hlt_hi` is used only by workflow 140.55, representing 2015 HI data and requires a special tag `SiStripFullPedestals_GR10_v1_hlt` and a special L1T menu. Since this is a very special scenario, this GT has been represented by a symbolic GT that implements these changes on top of the `run2_hlt_relval` key.\r\n\r\nDuring the course of preparing this PR, I discovered that an the `PFCalibrationRcd` with label \"HLT\" was incorrect in the HLT, Express and Prompt GTs. The corrected tag is now used.\r\n\r\nThe GT diffs are as follows:\r\n\r\n**Run 2 HLT RelVals**\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/112X_dataRun2_HLT_relval_v4/112X_dataRun2_HLT_relval_v5\r\n\r\n**Run 3 data (express)**\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/112X_dataRun3_Express_v3/112X_dataRun3_Express_v4\r\n\r\n**Run 3 data (prompt)**\r\nhttps://cms-conddb.cern.ch/cmsDbBrowser/diff/Prod/gts/112X_dataRun3_Prompt_v3/112X_dataRun3_Prompt_v4\r\n\r\nThe large number of EGM calibration records that are present in old Run 2 HLT relvals are not consumed (or else a crash would result in various tests).\r\n\r\nAttn: @mmusich @Martin-Grunewald \r\n\r\n#### PR validation:\r\n\r\nThis PR is mainly technical and has been validated with:\r\n\r\n- runTheMatrix.py -l 138.1,138.2,140.55 --ibeos\r\n- addOnTests.py -j 8\r\n- scram b runtests\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\n<!-- Please replace this text with any link to  -->\r\n\r\nSince this PR affects GTs in the 112X release, a backport to 11_2_X is intended.\r\n", "branch": "master", "changed_files": 8, "closed_at": "1616595624", "comments": 17, "commits": 6, "created_at": "1616012371", "deletions": 24, "labels": ["alca-approved", "code-checks-approved", "db-approved", "dqm-approved", "fully-signed", "hlt-approved", "orp-approved", "pdmv-approved", "tests-approved", "upgrade-approved"], "merge_commit_sha": "1f939c821a5a80992f5744d7dd323d8a656a0768", "merged_at": "1616595624", "merged_by": "cmsbuild", "milestone": "CMSSW_11_3_X", "number": 33206, "release-notes": [], "review_comments": 11, "state": "closed", "title": "Update HLT/HLT relval/Express/Prompt GTs", "updated_at": "1616595624", "user": "christopheralanwest"}