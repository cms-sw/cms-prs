{"additions": 39, "auther_ref": "throwEsConsumesOutsideConstructor", "auther_sha": "4dd952a4195c87642c5a5744c6d116537a07cd56", "author": "makortel", "body": "#### PR description:\r\n\r\nhttps://github.com/cms-sw/cmssw/pull/32093#discussion_r528866406 reported an assertion failure inside framework code. Closer inspection revealed that the user code was calling `esConsumes()` outside of the constructor (or `registerLateConsumes()`). It would be more helpful for users to get a clear exception message (like in ED `consumes()` case) instead of an assertion failure. This PR adds such an exception for `esConsumes()`.\r\n\r\n#### PR validation:\r\n\r\nFramework unit tests run.", "branch": "master", "changed_files": 4, "closed_at": "1606314556", "comments": 12, "commits": 1, "created_at": "1606254068", "deletions": 0, "labels": ["code-checks-approved", "comparison-available", "core-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "aacba62ede821ba146d1da8e8102faa368808b73", "merged_at": "1606314556", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 32270, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Throw an exception if esConsumes() is called outside EDModule constructors", "updated_at": "1606314556", "user": "makortel"}