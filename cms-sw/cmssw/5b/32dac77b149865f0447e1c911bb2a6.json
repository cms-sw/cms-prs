{"additions": 6, "auther_ref": "fixTestRandomService", "auther_sha": "65c73e000345c9961155877dd7c07a37cb05bb13", "author": "makortel", "body": "If the multistream test doesn't run any event on stream 2, the file `StashStateStream.data_2` is not created. The logic in the test script looks like it should fall back to `StashStateStream.data_1` (and `..._0`), but the subsequent tests are done agains `StashStateFork.data_1` (and `..._0`). This PR fixes the unit test by replacing all `StashStateFork` with `StashStateStream`. I tested that the fix works by manually removing the `..._2/1/0` files (within the script).\r\n\r\nI can only wonder why we haven't seen this case before the PR tests #22069 (where it has failed twice; or maybe we have seen it and it has just been though transient and ignored).\r\n\r\nTested in CMSSW_10_1_X_2018-02-08-2300, no changes expected.", "branch": "master", "changed_files": 1, "closed_at": "1518709607", "comments": 13, "commits": 1, "created_at": "1518683212", "deletions": 6, "labels": ["code-checks-approved", "comparison-available", "core-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "c452143e5e653c5b8fcfaaa9f2dbf2ab58c94f80", "merged_at": "1518709607", "merged_by": "cmsbuild", "milestone": "CMSSW_10_1_X", "number": 22231, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Fix testRandomService.sh unit test", "updated_at": "1518709608", "user": "makortel"}