{"additions": 1, "auther_ref": "fix-asan-AtomicId", "auther_sha": "2d369dcccaaf502c6dd9d83c67b9069d04547eef", "author": "smuzaffar", "body": "We moved ASAN IBs to use GCC10 and got build error [a]. Looks like we are allocating `strlen()+1` ( https://github.com/cms-sw/cmssw/blob/master/PhysicsTools/MVAComputer/src/AtomicId.cc#L43 ) but deallocating `strlen()` only (https://github.com/cms-sw/cmssw/blob/master/PhysicsTools/MVAComputer/src/AtomicId.cc#L33 ). This PR proposes to use `strlen()+1` for deallocation too. \r\n\r\nLocal tests with ASAN build shows no errors. \r\n\r\n[a] https://cmssdt.cern.ch/SDT/cgi-bin/buildlogs/slc7_amd64_gcc10/CMSSW_12_0_ASAN_X_2021-06-23-2300/RecoBTag/CTagging\r\n```\r\n==31351==ERROR: AddressSanitizer: new-delete-type-mismatch on 0x602000027ef0 in thread T0:\r\n  object passed to delete has wrong type:\r\n  size of the allocated type:   8 bytes;\r\n  size of the deallocated type: 7 bytes.\r\n    #0 0x2b0cc4a881f7 in operator delete(void*, unsigned long) ../../../../libsanitizer/asan/asan_new_delete.cpp:172\r\n    #1 0x2b0ccf73d144 in (anonymous namespace)::IdCache::~IdCache() (CMSSW_12_0_ASAN_X_2021-06-23-2300/lib/slc7_amd64_gcc10/libPhysicsToolsMVAComputer.so+0x22144)\r\n    #2 0x2b0cc7802d38 in __run_exit_handlers (/lib64/libc.so.6+0x39d38)\r\n    #3 0x2b0cc7802d86 in exit (/lib64/libc.so.6+0x39d86)\r\n    #4 0x2b0cc77eb55b in __libc_start_main (/lib64/libc.so.6+0x2255b)\r\n    #5 0x40bb98  (CMSSW_12_0_ASAN_X_2021-06-23-2300/bin/slc7_amd64_gcc10/edmWriteConfigs+0x40bb98)\r\n```", "branch": "master", "changed_files": 1, "closed_at": "1624572389", "comments": 10, "commits": 2, "created_at": "1624514713", "deletions": 1, "labels": ["analysis-approved", "code-checks-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "f49be4f9475995c3e383366eb0b8f355c3ae840e", "merged_at": "1624572389", "merged_by": "cmsbuild", "milestone": "CMSSW_12_0_X", "number": 34234, "release-notes": [], "review_comments": 0, "state": "closed", "title": "fix allocation/deallocation mismatch issue in ASAN", "updated_at": "1624860612", "user": "smuzaffar"}