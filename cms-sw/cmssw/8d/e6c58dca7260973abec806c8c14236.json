{"additions": 4, "auther_ref": "py312-use-getframe", "auther_sha": "44467d0efb9873060305555242f4cc625a3b349a", "author": "smuzaffar", "body": "In PY312 IBs, few unit tests fail due to timeout (not finishing with in an hour). Debugging shows that call to https://github.com/cms-sw/cmssw/blob/master/FWCore/ParameterSet/python/Mixins.py#L733-L737 (which uses `inspect.getframeinfo`) is very slow.  As we are only interested in filename and line number, so this PR proposes to use `sys._getframe` directly.\r\n\r\nNote that `sys._getframe`  is still much slower in `python 3.12` as compare to `python 3.9`. A unit test e.g. `TestConfigDP_12` from `Configuration/DataProcessing` packages takes on avg `145sec` in DEFAULT IBs but takes over `380s` for PY312 IBs\r\n \r\n[a]https://cmssdt.cern.ch/SDT/cgi-bin/logreader/el8_amd64_gcc13/CMSSW_16_0_PY312_X_2025-11-09-2300/unitTestLogs/Configuration/DataProcessing#/\r\n```\r\nRetrieved Scenario: cosmicsHybridEra_Run2_2018\r\nUsing Global Tag: GLOBALTAG\r\nConfiguring to Write out FEVT\r\nConfiguring to Write out DQMIO\r\nConfiguring to Write out ALCARECO\r\nremoving ENDJOB from steps since not compatible with DQMIO dataTier\r\nentry tobeoverwritten.xyz\r\nWarning: The default GeometryRecoDB_cff is being used; however, the DB geometry is not applied. You may need to verify your cmsDriver.\r\nStep: RAW2DIGI Spec: \r\nStep: L1Reco Spec: \r\nStep: RECO Spec: \r\nStep: ALCAPRODUCER Spec: ['TkAlMinBias', 'SiStripCalMinBias']\r\n\r\n---> test TestConfigDP_2 had ERRORS\r\nTestTime:3600\r\n```", "branch": "master", "changed_files": 1, "comments": 5, "commits": 1, "created_at": "1762769815", "deletions": 4, "labels": ["core-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved"], "milestone": "CMSSW_16_0_X", "number": 49352, "release-notes": [], "review_comments": 0, "state": "open", "title": "Py312: use sys._getframe instead of slow inspect.getframeinfo", "updated_at": "1762769963", "user": "smuzaffar"}