{"additions": 17, "auther_ref": "RecoEgamma-PhotonIdentification-clang-warn-fix", "auther_sha": "2c94e8fda59f790ff428a03c599aa0f9c006a5cc", "author": "gartung", "body": "\r\n\r\nstd::vector<>&&  is implied in return values of the functions used for assignment.\r\n\r\n/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/llvm/5.0.0-jpkldn/bin/clang++ -c -DGNU_GCC -D_GNU_SOURCE -DEIGEN_DONT_PARALLELIZE -DTBB_USE_GLIBCXX_VERSION=60300 -DBOOST_SPIRIT_THREADSAFE -DPHOENIX_THREADSAFE -DCMSSW_GIT_HASH='CMSSW_10_1_CLANG_X_2018-03-27-2300' -DPROJECT_NAME='CMSSW' -DPROJECT_VERSION='CMSSW_10_1_CLANG_X_2018-03-27-2300' -I/build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/cms/coral/CORAL_2_3_21-jpkldn/include/LCG -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/lcg/root/6.10.09-jpkldn/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/boost/1.63.0-jpkldn/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/pcre/8.37-oenich/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/bz2lib/1.0.6/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/clhep/2.4.0.0-jpkldn/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/gsl/2.2.1/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/hepmc/2.06.07-oenich/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/libuuid/2.22.2/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/openssl/1.0.2d/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/python/2.7.11-jpkldn/include/python2.7 -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/sigcpp/2.6.2-oenich/include/sigc++-2.0 -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/tbb/2018_U1/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/cms/vdt/0.4.0/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/xerces-c/3.1.3/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/xz/5.2.2-oenich/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/zlib-x86_64/1.2.11/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/eigen/1ae2849542a7892089f81f2ee460b510cdb0a16d/include/eigen3 -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/md5/1.0.0/include -I/build/cmsbld/jenkins/workspace/build-any-ib/w/slc6_amd64_gcc630/external/tinyxml/2.5.3-jpkldn/include -O2 -pthread -pipe -Werror=main -Werror=pointer-arith -Werror=overlength-strings -Wno-vla -Werror=overflow -std=c++1z -ftree-vectorize -Wstrict-overflow -Werror=array-bounds -Werror=type-limits -fvisibility-inlines-hidden -fno-math-errno --param vect-max-version-for-alias-checks=50 -Xassembler --compress-debug-sections -msse3 -felide-constructors -fmessage-length=0 -Wall -Wno-long-long -Wreturn-type -Wunused -Wparentheses -Wno-deprecated -Werror=return-type -Werror=missing-braces -Werror=unused-value -Werror=address -Werror=format -Werror=sign-compare -Werror=write-strings -Werror=delete-non-virtual-dtor -Werror=strict-aliasing -Werror=narrowing -Werror=uninitialized -Werror=reorder -Werror=unused-variable -Werror=conversion-null -Werror=switch -fdiagnostics-show-option -Wno-unused-local-typedefs -Wno-attributes -Wno-c99-extensions -Wno-c++11-narrowing -D__STRICT_ANSI__ -Wno-unused-private-field -Wno-unknown-pragmas -Wno-unused-command-line-argument -Wno-unknown-warning-option -ftemplate-depth=512 -Wno-error=potentially-evaluated-expression -Wno-error=unused-variable -Wno-error=unused-variable -Wno-error=unused-variable -DBOOST_DISABLE_ASSERTS   -fPIC      -MMD -MF tmp/slc6_amd64_gcc630/src/RecoEgamma/PhotonIdentification/plugins/RecoEgammaPhotonIdentificationPlugins/PhotonMVAValueMapProducer.d /build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAValueMapProducer.cc -o tmp/slc6_amd64_gcc630/src/RecoEgamma/PhotonIdentification/plugins/RecoEgammaPhotonIdentificationPlugins/PhotonMVAValueMapProducer.o\r\n  /build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRun2Phys14NonTrig.cc:55:35: warning: moving a temporary object prevents copy elision [-Wpessimizing-move]\r\n   const std::vector<float> vars = std::move( fillMVAVariables( particle, iEvent ) );\r\n                                  ^\r\n/build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRun2Phys14NonTrig.cc:55:35: note: remove std::move call here\r\n  const std::vector<float> vars = std::move( fillMVAVariables( particle, iEvent ) );\r\n                                  ^~~~~~~~~~~                                     ~\r\n  /build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRun2Phys14NonTrig.cc:309:12: warning: moving a temporary object prevents copy elision [-Wpessimizing-move]\r\n     vars = std::move( packMVAVariables(allMVAVars.varPhi,\r\n           ^\r\n/build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRun2Phys14NonTrig.cc:309:12: note: remove std::move call here\r\n    vars = std::move( packMVAVariables(allMVAVars.varPhi,\r\n           ^~~~~~~~~~~\r\n  /build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRun2Phys14NonTrig.cc:331:12: warning: moving a temporary object prevents copy elision [-Wpessimizing-move]\r\n     vars = std::move( packMVAVariables(allMVAVars.varPhi,\r\n           ^\r\n/build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRun2Phys14NonTrig.cc:331:12: note: remove std::move call here\r\n    vars = std::move( packMVAVariables(allMVAVars.varPhi,\r\n           ^~~~~~~~~~~\r\n  /build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRun2Spring15NonTrig.cc:62:35: warning: moving a temporary object prevents copy elision [-Wpessimizing-move]\r\n   const std::vector<float> vars = std::move( fillMVAVariables( particle, iEvent ) );\r\n                                  ^\r\n/build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRun2Spring15NonTrig.cc:62:35: note: remove std::move call here\r\n  const std::vector<float> vars = std::move( fillMVAVariables( particle, iEvent ) );\r\n                                  ^~~~~~~~~~~                                     ~\r\n  /build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRun2Spring15NonTrig.cc:321:12: warning: moving a temporary object prevents copy elision [-Wpessimizing-move]\r\n     vars = std::move( packMVAVariables(allMVAVars.varPhi,\r\n           ^\r\n/build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRun2Spring15NonTrig.cc:321:12: note: remove std::move call here\r\n    vars = std::move( packMVAVariables(allMVAVars.varPhi,\r\n           ^~~~~~~~~~~\r\n  /build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRun2Spring15NonTrig.cc:343:12: warning: moving a temporary object prevents copy elision [-Wpessimizing-move]\r\n     vars = std::move( packMVAVariables(allMVAVars.varPhi,\r\n           ^\r\n/build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRun2Spring15NonTrig.cc:343:12: note: remove std::move call here\r\n    vars = std::move( packMVAVariables(allMVAVars.varPhi,\r\n           ^~~~~~~~~~~\r\nIn file included from /build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRunIIFall17.cc:1:\r\n  /build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRunIIFall17.h:64:9: warning: 'mvaValue' overrides a member function but is not marked 'override' [-Winconsistent-missing-override]\r\n   float mvaValue( const edm::Ptr<reco::Candidate>& particle, const edm::Event&) const;\r\n        ^\r\n/build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/EgammaTools/interface/AnyMVAEstimatorRun2Base.h:22:17: note: overridden virtual function is here\r\n  virtual float mvaValue( const edm::Ptr<reco::Candidate>& particle, const edm::Event&) const = 0;\r\n                ^\r\nIn file included from /build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRunIIFall17.cc:1:\r\n  /build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/PhotonIdentification/plugins/PhotonMVAEstimatorRunIIFall17.h:69:15: warning: 'getNCategories' overrides a member function but is not marked 'override' [-Winconsistent-missing-override]\r\n   virtual int getNCategories() const { return nCategories; }\r\n              ^\r\n/build/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/82a05c04338ac50120cfd99cab7eced5/opt/cmssw/slc6_amd64_gcc630/cms/cmssw/CMSSW_10_1_CLANG_X_2018-03-27-2300/src/RecoEgamma/EgammaTools/interface/AnyMVAEstimatorRun2Base.h:32:15: note: overridden virtual function is here\r\n  virtual int getNCategories() const = 0;\r\n              ^", "branch": "master", "changed_files": 4, "closed_at": "1522680761", "comments": 11, "commits": 1, "created_at": "1522255932", "deletions": 17, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "80ba363e1c8f8d6aaba9f910cdaf88e78e4f6b63", "merged_at": "1522680761", "merged_by": "cmsbuild", "milestone": "CMSSW_10_2_X", "number": 22786, "release-notes": [], "review_comments": 0, "state": "closed", "title": "RecoEgamma/PhotonIdentification: fix clang warnings: -Wpessimizing-move, -Winconsistent-missing-override", "updated_at": "1522680761", "user": "gartung"}