{"additions": 64, "auther_ref": "mm_dev_fix_L1Tstage1Dependencies", "auther_sha": "fe46246e44fbac0a69747078acf9ac64a72d68e1", "author": "mmusich", "body": "#### PR description:\r\n\r\nIn the ticket [CMSALCAFAST-94](https://its.cern.ch/jira/browse/CMSALCAFAST-94), while testing a new Global Tag candidate meant for a general cleaning of unused / previous runs unmaintained records, few online DQM clients (`dt4ml`, `dt`, `ecal`, and `hlt`) encountered issues and failed).\r\nThe reason of these failures was analyzing as an unnecessary dependencies of the current DQM clients on the legacy L1T digis.\r\nThis is fixed / worked around in this PR.\r\n   * 9b3afd7e478fd1ec4b0b66f876e1188754feab27 removes the dependency in `HLTSiStripMonitorCluster` by means of re-configuring the few instances of `GenericTriggerEventFlag` class to use the stage 2 gt digis in presence of the `stage2L1Trigger` modifier.\r\n   * 8c7fd9b32506c8450f6734d9201da13714317043 replaces the legacy gt digis with the stage2 ones in presence of the `stage2L1Trigger` modifier\r\n   * fe46246e44fbac0a69747078acf9ac64a72d68e1 works around the fact that the `DQM/EcalMonitorTasks/src/ClusterTask.cc` natively doesn't support the stage2 L1T setup but requires products from the legacy L1T (this is followed up also at https://github.com/cms-sw/cmssw/issues/46715) \r\n\r\n#### PR validation:\r\n\r\nThe following commands work with this branch,\r\n\r\n```\r\nscram b runtests_TestDQMOnlineClient-hlt_dqm_sourceclient use-ibeos\r\nscram b runtests_TestDQMOnlineClient-dt_dqm_sourceclient use-ibeos\r\nscram b runtests_TestDQMOnlineClient-dt4ml_dqm_sourceclient use-ibeos\r\nscram b runtests_TestDQMOnlineClient-ecal_dqm_sourceclient use-ibeos\r\n```\r\n\r\nwhen tested by using the Global Tag proposed at  [CMSALCAFAST-94](https://its.cern.ch/jira/browse/CMSALCAFAST-94).\r\n\r\n```diff\r\ndiff --git a/DQM/Integration/python/config/FrontierCondition_GT_cfi.py b/DQM/Integration/python/config/FrontierCondition_GT_cfi.py\r\nindex 5845afa34bb..a91ce205422 100644\r\n--- a/DQM/Integration/python/config/FrontierCondition_GT_cfi.py\r\n+++ b/DQM/Integration/python/config/FrontierCondition_GT_cfi.py\r\n@@ -1,7 +1,7 @@\r\n import FWCore.ParameterSet.Config as cms\r\n from Configuration.StandardSequences.FrontierConditions_GlobalTag_cff import *\r\n from Configuration.AlCa.autoCond import autoCond\r\n-GlobalTag.globaltag = autoCond['run3_hlt']\r\n+GlobalTag.globaltag = \"141X_dataRun3_HLT_Candidate_2024_11_15_CleaningOfRecords\"  #autoCond['run3_hlt']\r\n \r\n #############################################\r\n #\r\n```\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nN/A", "branch": "master", "changed_files": 7, "comments": 4, "commits": 3, "created_at": "1731767039", "deletions": 27, "labels": ["dqm-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_14_2_X", "number": 46716, "release-notes": [], "review_comments": 0, "state": "open", "title": "Remove legacy L1T digis dependencies in Online DQM", "updated_at": "1731767706", "user": "mmusich"}