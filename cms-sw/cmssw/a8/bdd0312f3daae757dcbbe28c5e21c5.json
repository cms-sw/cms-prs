{"additions": 229, "auther_ref": "PATLostTrksForEXO90X", "auther_sha": "c8a4dd5b6c7a45dfb72fc924b4fc36b7243b080a", "author": "Sam-Harper", "body": "This pull request improves the track information stored in the miniAOD via PackedCandidates as discussed in last weeks x-pog meeting. \r\n\r\nFirst, it now stores the track pt and eta, not simply the charged candidate pt, eta (trk phi was already stored). It stores it as a w.r.t to the candidate value and this difference has to be >0.001 (somewhat arbitrarily chosen)\r\n\r\nSecondly it modifies the PATLostTrack producer to save more tracks, specifically all high purity tracks and high purity tracks associated to the electron. To avoid double counting with the electron GsfTracks already stored, the electron tracks are stored in their own collection as agreed at the x-pog. The track properties are only stored if the trk pt is > 0.95 GeV. Finally it modifies PATPackedCandidateProducer to save the track properties if the cand pt OR trk pt > 0.95 GeV\r\n\r\nLastly, the PATLostTracks producer was cleaned up slightly to conform with generally accepted naming conventions. I resisted making any changes to PATPackedCandidateProducer as the only ones I needed were very small while PATLostTracks needed more substantial changes. \r\n\r\nThe average event size increase was measured using the ttbar relval /RelValTTbar_13/CMSSW_9_0_0_pre4-PU25ns_90X_upgrade2017_realistic_v6-v1/GEN-SIM-RECO\r\n \r\n\r\nSize increase \r\npatPackedCandidates_packedPFCandidates__PAT. 92858.2 17191.7\r\npatPackedCandidates_lostTracks__PAT. 252.942 105.548\r\n\r\nto\r\npatPackedCandidates_packedPFCandidates__PAT. 100760 17258.6\r\npatPackedCandidates_lostTracks__PAT. 1034.94 317.643\r\npatPackedCandidates_lostTracks_eleTracks_PAT. 186.998 69.8704\r\n\r\nfor  a total size of ~350 bytes with most of that coming from adding low pt highpurity tracks. Also if people are interested, its about 1% of charged packedPFCandidates which have differing cand and trk pt. Eta is about 0.02%\r\nThe precision on the stored trk pt is acceptable with some small number deviating by up to 1%. This happens when you have a ~20 GeV charged candidate which has a ~0.5 GeV track.\r\n\r\nA 80X flavour as requested will follow shortly. \r\n\r\n\r\nlink to discussion in xpog : https://indico.cern.ch/event/618375/contributions/2499907/attachments/1423507/2182607/trksInMiniAOD.pdf", "branch": "master", "changed_files": 7, "closed_at": "1490590920", "comments": 34, "commits": 4, "created_at": "1489426785", "deletions": 91, "labels": ["analysis-pending", "comparison-available", "orp-pending", "pending-signatures", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "37ec9780945f344a8356723cff56518d4f82c59c", "merged_at": "1490590920", "merged_by": "davidlange6", "milestone": "CMSSW_9_1_X", "number": 17909, "release-notes": [], "review_comments": 3, "state": "closed", "title": "Improving Track Information in miniAOD : 91X", "updated_at": "1490608928", "user": "Sam-Harper"}