{"additions": 6, "auther_ref": "removeThreadInefficientClusterShapeLazyGetter_7_5", "auther_sha": "30c19e17731dd45e9e63ffcd076f68ac0140b512", "author": "Dr15Jones", "body": "A SerialTaskQueue was added to ClusterShapeLazyGetter in an attempt\nto make it thread safe. Unfortunately, the implementation was not safe\nsince the internals of SiPixelClusterShapeCache could be changed\nwhile another thread was reading the data outside of the queue.\nIn addition, performance measurements done using VTune showed\nthe fequent calls to SerialTaskQueue were causing a heavy CPU load\nwhen run with 8 threads.\nThe thread safety of SiPixelClusterShapeCache will have to be handled\nin a different way in the future once we start using more than one\nthread per Event.\n\nThis was backported from CMSSW_7_6 since it improves thread efficiency with no change in behavior.\n", "branch": "CMSSW_7_5_X", "changed_files": 1, "closed_at": "1445410591", "comments": 8, "commits": 1, "created_at": "1444801634", "deletions": 10, "labels": ["comparison-available", "fully-signed", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "f6d66ef7cd3c74aece0fe200e769ad0f7b508674", "merged_at": "1445410591", "merged_by": "cmsbuild", "milestone": "CMSSW_7_5_X", "number": 11781, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Removed inappropriate use of SerialTaskQueue from ClusterShapeLazyGetter", "updated_at": "1449600637", "user": "Dr15Jones"}