{"additions": 1587, "auther_ref": "implement_HeterogeneousTest_Alpaka_alt", "auther_sha": "33c945a8ba3c85e635a33cdf14130bc4857f82a9", "author": "fwyzard", "body": "#### PR description:\r\n\r\nThis is an alternative version of #44622 that uses the explicit accelerator types in alpaka device code:\r\n  - move all alpaka device code to the `ALPAKA_ACCELERATOR_NAMESPACE` namespace;\r\n  - use the explicit accelerator types, like `Acc1D` or `Acc2D`, instead of the generic `TAcc` template argument;\r\n  - move the definition of the device code to .dev.cc files and build them as libraries, instead of using a header-only approach.\r\n\r\n\r\n#### PR validation:\r\n\r\nMost `HeterogeneousTest` unit tests pass:\r\n```\r\nSkip    0s ... HeterogeneousTest/ROCmWrapper/testRocmDeviceAdditionWrapper (Failed to run rocmIsEnabled)\r\nSkip    0s ... HeterogeneousTest/AlpakaDevice/testAlpakaDeviceAdditionROCmAsync (Failed to run rocmIsEnabled)\r\nSkip    0s ... HeterogeneousTest/AlpakaKernel/testAlpakaDeviceAdditionKernelROCmAsync (Failed to run rocmIsEnabled)\r\nSkip    0s ... HeterogeneousTest/AlpakaOpaque/testAlpakaDeviceAdditionOpaqueROCmAsync (Failed to run rocmIsEnabled)\r\nSkip    0s ... HeterogeneousTest/AlpakaWrapper/testAlpakaDeviceAdditionWrapperROCmAsync (Failed to run rocmIsEnabled)\r\nPass    1s ... HeterogeneousTest/ROCmDevice/testRocmDeviceAddition\r\nPass    1s ... HeterogeneousTest/ROCmKernel/testRocmDeviceAdditionKernel\r\nPass    1s ... HeterogeneousTest/ROCmOpaque/testRocmDeviceAdditionOpaque\r\nPass    1s ... HeterogeneousTest/AlpakaDevice/testAlpakaDeviceAdditionSerialSync\r\nPass    0s ... HeterogeneousTest/AlpakaKernel/testAlpakaDeviceAdditionKernelSerialSync\r\nPass    0s ... HeterogeneousTest/AlpakaOpaque/testAlpakaDeviceAdditionOpaqueSerialSync\r\nPass    0s ... HeterogeneousTest/AlpakaWrapper/testAlpakaDeviceAdditionWrapperSerialSync\r\nPass    8s ... HeterogeneousTest/ROCmWrapper/testROCmTestWrapperAdditionModule\r\nPass    8s ... HeterogeneousTest/ROCmDevice/testROCmTestDeviceAdditionModule\r\nPass    8s ... HeterogeneousTest/ROCmOpaque/testROCmTestOpaqueAdditionModule\r\nPass    8s ... HeterogeneousTest/ROCmKernel/testROCmTestKernelAdditionModule\r\nPass    8s ... HeterogeneousTest/AlpakaWrapper/testAlpakaDeviceAdditionWrapperCudaAsync\r\nPass    8s ... HeterogeneousTest/CUDAWrapper/testCudaDeviceAdditionWrapper\r\nPass    8s ... HeterogeneousTest/CUDAOpaque/testCudaDeviceAdditionOpaque\r\nPass    8s ... HeterogeneousTest/AlpakaOpaque/testAlpakaDeviceAdditionOpaqueCudaAsync\r\nPass   10s ... HeterogeneousTest/CUDAKernel/testCudaDeviceAdditionKernel\r\nPass   10s ... HeterogeneousTest/CUDADevice/testCudaDeviceAddition\r\nPass   10s ... HeterogeneousTest/AlpakaDevice/testAlpakaDeviceAdditionCudaAsync\r\nPass   10s ... HeterogeneousTest/AlpakaKernel/testAlpakaDeviceAdditionKernelCudaAsync\r\nPass   17s ... HeterogeneousTest/AlpakaKernel/testAlpakaTestKernelAdditionModule\r\nPass   17s ... HeterogeneousTest/CUDAOpaque/testCUDATestOpaqueAdditionModule\r\nPass   17s ... HeterogeneousTest/AlpakaWrapper/testAlpakaTestWrapperAdditionModule\r\nPass   17s ... HeterogeneousTest/AlpakaDevice/testAlpakaTestDeviceAdditionModule\r\nPass   17s ... HeterogeneousTest/CUDAWrapper/testCUDATestWrapperAdditionModule\r\nPass   17s ... HeterogeneousTest/CUDADevice/testCUDATestDeviceAdditionModule\r\nPass   17s ... HeterogeneousTest/CUDAKernel/testCUDATestKernelAdditionModule\r\nPass   17s ... HeterogeneousTest/CUDAOpaque/testCUDATestAdditionModules\r\nFail   17s ... HeterogeneousTest/AlpakaOpaque/testAlpakaTestOpaqueAdditionModule\r\n```", "branch": "master", "changed_files": 63, "comments": 9, "commits": 6, "created_at": "1712325793", "deletions": 44, "labels": ["pending-signatures", "tests-pending", "orp-pending", "code-checks-pending", "heterogeneous-pending"], "milestone": "CMSSW_14_1_X", "number": 44636, "release-notes": [], "review_comments": 0, "state": "open", "title": "Use explicit accelerator types in alpaka device code", "updated_at": "1712345806", "user": "fwyzard"}