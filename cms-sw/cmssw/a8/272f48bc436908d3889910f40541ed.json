{"additions": 1, "auther_ref": "devel_cmsDriverFlushStdoutBuffer_126X", "auther_sha": "9dd3dd569dd486281b125d191a2be9400384a28b", "author": "missirol", "body": "backport of #40635\r\n\r\n#### PR description:\r\n\r\nFrom the description of #40635:\r\n\r\n>This PR updates the script `cmsDriver.py` adding a call to `sys.stdout.flush()` right before `os.execvpe` is used to execute `cmsRun`. As explained in the [documentation of `os.execvpe`](https://docs.python.org/3/library/os.html#os.execvpe), this ensures that the stdout buffer is flushed before the `os.execvpe` call replaces the current process.\r\n>\r\n>Currently (i.e. without this PR), redirecting the output of `cmsDriver.py` to a log file may result in the latter not containining all the printouts of `cmsDriver.py` (if the `--no_exec` option is not used). This means that this PR will increase the size of the logs of RelVal tests in PRs.\r\n>\r\n>For further details, see also https://github.com/cms-sw/cmssw/pull/40599#issuecomment-1407603855.\r\n\r\n#### PR validation:\r\n\r\nNone.\r\n\r\n#### If this PR is a backport, please specify the original PR and why you need to backport that PR. If this PR will be backported, please specify to which release cycle the backport is meant for:\r\n\r\n#40635\r\n\r\nSmall bugfix to `cmsDriver.py`. The main reason to backport is avoiding false reports about large reductions of logs in every future PR to this release cycle (see https://github.com/cms-sw/cmssw/pull/40650#issuecomment-1411586841 for an example). The fix alone does not warrant a new release, imho.\r\n", "branch": "CMSSW_12_6_X", "changed_files": 1, "comments": 1, "commits": 1, "created_at": "1675233845", "deletions": 3, "labels": ["operations-pending", "pending-signatures", "tests-pending", "orp-pending", "backport-ok"], "milestone": "CMSSW_12_6_X", "number": 40657, "release-notes": [], "review_comments": 0, "state": "open", "title": "`cmsDriver.py`: flush stdout buffer before call to `os.execvpe` [`12_6_X`]", "updated_at": "1675233873", "user": "missirol"}