{"additions": 499, "auther_ref": "nanoForRun3", "auther_sha": "b2d653806aecbb2c69dfaab2963f7e81664d6ccd", "author": "mariadalfonso", "body": "This draft PR: attempt to update the nano sequence to run together with mini (reco + DQM)\r\n* replaced all the Sequence with Task (this is needed otherwise we have \"ScheduleExecutionFailure\"\r\nvery long list of modules with order problems here ~ http://dalfonso.web.cern.ch/dalfonso/orderingModulesNano.txt)\r\n* moved some customisation from nano_cff to each object\r\n\r\nFor the moment: photon/electron//METrecalibration are dummy\r\nThese objects recycle sequence used for miniAOD called from inside the nano_cff.py\r\nI will need to follow with EGM/JME POGS\r\nrun3_nanoAOD_devel at the end should not be used as the master version should be able to run straigh on the newer nano.\r\n\r\nTESTED so far:\r\n1)  nanoGen (porting complete) wf 546 works\r\n\r\n2) 106Xv2 (i.e. nanoV9) wf 136.8523 runs\r\n\r\n3) cmsDriver.py step3 --conditions auto:phase1_2021_realistic -s RAW2DIGI,L1Reco,RECO,RECOSIM,EI,PAT,NANO,VALIDATION:@standardValidation+@miniAODValidation,DQM:@standardDQM+@ExtraHLT+@miniAODDQM --datatier GEN-SIM-RECO,MINIAODSIM,NANOAODSIM,DQMIO -n 10 --geometry DB:Extended --era Run3,run3_nanoAOD_devel --eventcontent RECOSIM,MINIAODSIM,NANOEDMAODSIM,DQM --filein file:step2.root --fileout file:step3.root\r\n\r\nruns with step2 from wf 11634.0\r\n\r\n4) previous eras fails tested because of the shortcut  in photon/electron/tau/boostedtau/METrecalibration \r\n136.8521 (102Xv1)\r\n136.7952 (94Xv2)\r\n\r\n5) JMEnano will stop working:\r\nJME sequences too customs and need to by updated by JME\r\nhttps://github.com/cms-sw/cmssw/blob/master/PhysicsTools/NanoAOD/python/custom_jme_cff.py\r\n\r\n", "branch": "master", "changed_files": 27, "closed_at": "1627842614", "comments": 46, "commits": 20, "created_at": "1625421575", "deletions": 400, "labels": ["code-checks-approved", "operations-pending", "orp-pending", "pending-signatures", "tests-rejected", "xpog-pending"], "milestone": "CMSSW_12_1_X", "number": 34329, "release-notes": [], "review_comments": 0, "state": "closed", "title": "DRAFT: nano: adaptation to run in Prompt", "updated_at": "1627842614", "user": "mariadalfonso"}