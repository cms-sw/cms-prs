{"additions": 539, "auther_ref": "OfflineJetValidation", "auther_sha": "d4dcf0207cb64e13f8d7c41820e40d5c49cbe2d5", "author": "elenavernazza", "body": "#### PR description:\r\n\r\nThis PR adapts the jet validation tool initially developed for Phase-2 HLT to support offline-reconstructed jets.\r\n\r\nThe harvesting sequence for offline jet validation now contains an additional module, based on the `DQMGenericClient`, for computing the efficiency, fake, resolution and other histograms.\r\nThe python plotter `makeHLTJetValidationPlots.py` has been renamed into `makeJetValidationPlots.py` and supports both HLT and offline jet collections:\r\n- main HLT collections: `hltAK4PFPuppiJets`, `hltAK4PFJets`\r\n- main offline collections: `ak4CaloJets`, `ak4PFJets`, `slimmedJets`, `slimmedJetsPuppi`\r\n\r\n#### PR validation:\r\n\r\nExamples to run the python plotter:\r\n- HLT: \r\n```\r\nmakeJetValidationPlots.py -s HLT --jet hltAK4PFPuppiJets --file DQM_V0001_R000000001__Global__CMSSW_X_Y_Z__RECO.root --odir <your_odir>\r\n```\r\n- Offline: \r\n```\r\nmakeJetValidationPlots.py -s Offline --jet ak4PFJets --file DQM_V0001_R000000001__Global__CMSSW_X_Y_Z__RECO.root --odir <your_odir>\r\n```\r\n\r\nFull workflow used to produce the `DQM_V0001_R000000001__Global__CMSSW_X_Y_Z__RECO.root`:\r\n```\r\ncmsDriver.py QCD_Pt15To7000_Flat_14TeV_TuneCP5_cff -s GEN,SIM -n 10 \\\r\n--conditions auto:phase2_realistic_T33 \\\r\n--beamspot DBrealisticHLLHC --datatier GEN-SIM --eventcontent FEVTDEBUG \\\r\n--geometry ExtendedRun4D110 --era Phase2C17I13M9 --relval 9000,100 \\\r\n--fileout file:step1.root\r\n\r\ncmsDriver.py step2 -s DIGI:pdigi_valid,L1TrackTrigger,L1,L1P2GT,DIGI2RAW,HLT:@relvalRun4 -n 10 \\\r\n--conditions auto:phase2_realistic_T33 \\\r\n--datatier GEN-SIM-DIGI-RAW --eventcontent FEVTDEBUGHLT \\\r\n--geometry ExtendedRun4D110 --era Phase2C17I13M9 \\\r\n--filein file:step1.root --fileout file:step2.root\r\n\r\ncmsDriver.py  step3 -s RAW2DIGI,RECO,RECOSIM,PAT,VALIDATION:@phase2Validation+@miniAODValidation,DQM:@phase2+@miniAODDQM -n 10 \\\r\n--conditions auto:phase2_realistic_T33 \\\r\n--datatier GEN-SIM-RECO,MINIAODSIM,DQMIO --eventcontent FEVTDEBUGHLT,MINIAODSIM,DQM \\\r\n--geometry ExtendedRun4D110 --era Phase2C17I13M9 \\\r\n--filein file:step2.root --fileout file:step3.root\r\n\r\ncmsDriver.py step4 -s HARVESTING:@phase2Validation+@phase2+@miniAODValidation+@miniAODDQM \\\r\n--conditions auto:phase2_realistic_T33 --mc --geometry ExtendedRun4D110 \\\r\n--scenario pp --filetype DQM --era Phase2C17I13M9 \\\r\n --filein file:step3_inDQM.root --fileout file:step4.root\r\n```", "branch": "master", "changed_files": 10, "comments": 14, "commits": 2, "created_at": "1763048518", "deletions": 407, "labels": ["dqm-pending", "geometry-pending", "operations-approved", "pending-signatures", "tests-approved", "orp-pending", "code-checks-approved", "ngt"], "milestone": "CMSSW_16_0_X", "number": 49384, "release-notes": [], "review_comments": 0, "state": "open", "title": "[NGT] Generalize hlt jet validation tool to offline jets", "updated_at": "1763109845", "user": "elenavernazza"}