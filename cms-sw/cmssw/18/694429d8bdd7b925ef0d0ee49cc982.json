{"additions": 1028, "auther_ref": "energy0_fix", "auther_sha": "c77208ff183d3b516e1261254a90fe96467afd0a", "author": "cms-AlCaDB", "body": "#### PR description:\r\n\r\nThis PR enables to define a range of valid values of Energy for the LHCInfoPerFill O20 in during fill mode. Depending on the `throwOnInvalid` argument when payload with invalid values is buffered for upload an exception is thrown or the payload is filtered out. The `throwOnInvalid` arguement was also added to LHCInfoPerLS O2O which already had a funtionality of filtering out invalid payload, wheras now it can also throw an exception enabling to notice issues via the O2O monitoring system.\r\nThe PR also refactors the main logic of the O2O implemented in the getNewObject method and implements unit tests in the Cath2 framework. The refactoring enabled implementing TestLHCInfoPerFillSourceHandler which replaces communication with external systems (OMS, subsystem DBs etc.) with mocks which is then levareged in the unit tests.\r\n\r\n#### PR validation:\r\n\r\nTested with unit tests implemented in test_catch2_LHCInfoPerFillPopCon.cpp. Additionally, existing tests in test_lhcInfoNewPopCon.sh were updated. Tested also by deploying it as a test O2O (LHCInfoPerFill_test) in on the cms-conddb-2 machine in P5 and running it with a cron job alongside the production jobs.\r\n\r\n\r\n#### Backport:\r\n\r\nBackport to 15_0 will follow\r\n\r\n\r\nP.S will squash commits into meaningfull parts of the update soon", "branch": "master", "changed_files": 11, "comments": 7, "commits": 1, "created_at": "1759410433", "deletions": 110, "labels": ["db-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-pending"], "milestone": "CMSSW_16_0_X", "number": 49049, "release-notes": [], "review_comments": 1, "state": "open", "title": "Allow defining valid range of Energy values for LHCInfoPerFill O2O", "updated_at": "1759739175", "user": "JanChyczynski"}