{"additions": 14, "auther_ref": "DoNotMapEmptyProcessHistoryID", "auther_sha": "f70f4a3ea5feaa9861616f7f1c67ce4a1220a150", "author": "wmtan", "body": "This is a fix for a bug that has actually been in place since CMSSW_3_0_0, but did not show any symptoms until CMSSW_6_2_0.\nThe problem was hit by Erik Butz when he tried to read a file written with CMSSW_3_2_5.\nWhen an old format file is read, the process history ID's may change, and must then be converted to new values. However, prior to release 3_8_0, process history ID's existed only for events, and not for runs and lumis. The bug is that, when a file written before release 3_8_0 is read, the code attempts to convert the non-existent (default constructed) process history ID's of runs and lumis to the new values.  These values are never used, so this is almost harmless, except for some unnecessary code running.\nHowever, to do the conversion, the process history ID must be looked up in a map.  An assert occurs if the ID is not found.  Apparently, prior to 6_2_0, the default ID was found in the map.  Beginning in 6_2_X , it is not.\nThe fix is simply that if a file is read that predates the presence of process history ID's in runs and lumis,\ndon't try to convert the non-existent ID's, which are not used anyway.\n", "branch": "CMSSW_7_1_X", "changed_files": 1, "closed_at": "1392727705", "comments": 4, "commits": 1, "created_at": "1392682122", "deletions": 10, "labels": ["core-approved", "fully-signed", "tests-approved"], "merge_commit_sha": "877deb8d768ea4a5846d4695b41f19935abd75d7", "merged_at": "1392727705", "merged_by": "ktf", "milestone": "CMSSW_7_1_0_pre5", "number": 2509, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Don't try to update empty process history ID", "updated_at": "1394439765", "user": "wmtan"}