{"additions": 36, "auther_ref": "mm_dev_protectBetaFunctAgainstGausParams", "auther_sha": "d3f4b0fb3a84c3d675ec8fd38d3540de7ce39cd6", "author": "mmusich", "body": "#### PR description:\r\n\r\nTitle says it all. Should make the usage of \"mismatched\" conditions / beam spot options throw a clearer exception when these are used at cmsDriver level, as it happened at https://gitlab.cern.ch/cms-ppd/cms-ppd-matters/-/issues/52#note_8968304 \r\nTechnical, no regressions are expected.\r\n\r\n#### PR validation:\r\n\r\nTrying to run the \"wrong\" `cmsDriver` command:\r\n\r\n```\r\ncmsDriver.py MinBias_14TeV_pythia8_TuneCP5_cfi --beamspot DBrealistic --conditions 142X_mcRun3_2025_realistic_FlatBeamConfigTest_v1 --datatier GEN-SIM --era Run3_2025 --eventcontent FEVTDEBUG --fileout \"file:step1.root\" --geometry DB:Extended --nStreams 2 --nThreads 2 --number 10000 --python_filename step_1_cfg.py --relval 1000000,1000 --step GEN,SIM \r\n```\r\nI get now the following (clearer) error:\r\n\r\n```\r\n----- Begin Fatal Exception 25-Jan-2025 11:52:02 CET-----------------------\r\nAn exception of category 'Configuration' occurred while\r\n   [0] Processing  stream begin LuminosityBlock run: 1 luminosityBlock: 1 stream: 1\r\n   [1] Calling method for module BetafuncEvtVtxGenerator/'VtxSmeared'\r\nException Message:\r\nError in BetafuncEvtVtxGenerator::update: The provided SimBeamSpotObjects is Gaussian.\r\nPlease check the configuration and ensure that the beam spot parameters are appropriate for a Betafunc distribution.\r\n----- End Fatal Exception -------------------------------------------------\r\n```\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nN/A", "branch": "master", "changed_files": 3, "comments": 8, "commits": 1, "created_at": "1737967172", "deletions": 15, "labels": ["simulation-pending", "alca-pending", "db-pending", "pending-signatures", "orp-pending", "tests-started", "code-checks-approved", "tracking"], "milestone": "CMSSW_15_0_X", "number": 47189, "release-notes": [], "review_comments": 0, "state": "open", "title": "throw in presence of mismatched `SimBeamSpot` types in `BetafuncEvtVtxGenerator` and `GaussEvtVtxGenerator`", "updated_at": "1737976424", "user": "mmusich"}