{"additions": 1, "auther_ref": "fixVHWofkFlowWithPU_12_4_X", "auther_sha": "e943bddf8abdb36c002cd2e66e9de8750371fa77", "author": "mmusich", "body": "backport of #38468\r\n\r\n#### PR description:\r\n\r\nit was noticed by @JanFSchulte that running wf `39634.9` it was crashing on the harvesting step with a seg fault in `Phase2ITRecHitHarvester:Phase2OTTrackingRechitHarvester_PS`.\r\nThis happens because this protection:\r\n\r\nhttps://github.com/cms-sw/cmssw/blob/c3498e82953ed6c07aa1712683a292518d128c44/Validation/SiTrackerPhase2V/python/Phase2TrackerMCHarvesting_cff.py#L70-L71\r\n\r\nwas not picked up, as the modifier was not applied in the harvesting step.\r\nThis PR trivially fixes the problem.\r\n\r\n#### PR validation:\r\n\r\nRun the wf 39634.9 and I get:\r\n\r\n```\r\n39634.9 2026D88PU_vectorHits+TTbar_14TeV_TuneCP5_GenSimHLBeamSpot14+DigiTriggerPU+RecoGlobalPU+HARVESTGlobalPU [1]: cmsDriver.py TTbar_14TeV_TuneCP5_cfi  -s GEN,SIM -n 10 --conditions auto:phase2_realistic_T21 --beamspot HLLHC14TeV --datatier GEN-SIM --eventcontent FEVTDEBUG --geometry Extended2026D88 --era Phase2C17I13M9 --relval 9000,100 \r\n                                           [2]: cmsDriver.py step2  -s DIGI:pdigi_valid,L1TrackTrigger,L1,DIGI2RAW,HLT:@fake2 --conditions auto:phase2_realistic_T21 --datatier GEN-SIM-DIGI-RAW -n 10 --eventcontent FEVTDEBUGHLT --geometry Extended2026D88 --era Phase2C17I13M9 --pileup AVE_200_BX_25ns --pileup_input das:/RelValMinBias_14TeV/CMSSW_12_3_0_pre5-123X_mcRun4_realistic_v4_2026D88noPU-v1/GEN-SIM\r\n                                           [3]: cmsDriver.py step3  -s RAW2DIGI,RECO,RECOSIM,PAT,VALIDATION:@phase2Validation+@miniAODValidation,DQM:@phase2+@miniAODDQM --conditions auto:phase2_realistic_T21 --datatier GEN-SIM-RECO,MINIAODSIM,DQMIO -n 10 --eventcontent FEVTDEBUGHLT,MINIAODSIM,DQM --geometry Extended2026D88 --era Phase2C17I13M9 --procModifiers vectorHits --pileup AVE_200_BX_25ns --pileup_input das:/RelValMinBias_14TeV/CMSSW_12_3_0_pre5-123X_mcRun4_realistic_v4_2026D88noPU-v1/GEN-SIM\r\n                                           [4]: cmsDriver.py step4  -s HARVESTING:@phase2Validation+@phase2+@miniAODValidation+@miniAODDQM --conditions auto:phase2_realistic_T21 --mc  --geometry Extended2026D88 --scenario pp --filetype DQM --era Phase2C17I13M9 --procModifiers vectorHits -n 10 --pileup AVE_200_BX_25ns --pileup_input das:/RelValMinBias_14TeV/CMSSW_12_3_0_pre5-123X_mcRun4_realistic_v4_2026D88noPU-v1/GEN-SIM\r\n```\r\n\r\nas expected (notice the modifier gets added to the step4).\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nverbatim backport of #38468\r\n", "branch": "CMSSW_12_4_X", "changed_files": 1, "comments": 1, "commits": 1, "created_at": "1655898225", "deletions": 0, "labels": ["pending-signatures", "tests-pending", "orp-pending", "pdmv-pending", "backport", "upgrade-pending"], "milestone": "CMSSW_12_4_X", "number": 38469, "release-notes": [], "review_comments": 0, "state": "open", "title": "fix `VectorHits` workflows with PU [12.4.X]", "updated_at": "1655898251", "user": "mmusich"}