{"additions": 67, "auther_ref": "dev_HCALoutFix", "auther_sha": "cfe5347d10ed6e5b2101493448c8577b56dd2ce1", "author": "jsamudio", "body": "#### PR description:\r\n\r\nThis fix addresses https://github.com/cms-sw/cmssw/issues/44668 where Alpaka-based PF Clustering was crashing at HLT when HCAL is off. The reason was due to the input HCAL RecHit number being used to specify the work division for kernels, and it was not protected against a case of requesting 0 blocks when there are no RecHits.\r\n\r\nIncluded now are checks on the number of rechits and the SoA size to only launch the Alpaka kernels if they are non-zero.\r\n\r\n#### PR validation:\r\n\r\nTested HLT configuration on data which is excluding HCAL, ECAL, or Pixel, using method outlined by @mmusich in https://github.com/cms-sw/cmssw/issues/44668#issuecomment-2045506118\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nVerbatim backport of https://github.com/cms-sw/cmssw/pull/44693 meant for `14_0_X`. Needed to address https://github.com/cms-sw/cmssw/issues/44668 at HLT.\r\n", "branch": "CMSSW_14_0_X", "changed_files": 4, "comments": 18, "commits": 3, "created_at": "1712755008", "deletions": 48, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-pending", "bug-fix", "urgent", "backport-ok", "pf"], "milestone": "CMSSW_14_0_X", "number": 44694, "release-notes": [], "review_comments": 0, "state": "open", "title": "[14_0_X] Fix crash in PF Clustering due to empty HCAL RecHits collection", "updated_at": "1712846226", "user": "jsamudio"}