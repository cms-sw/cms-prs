{"additions": 1331, "auther_ref": "CondFormats_HG_PCL_PR", "auther_sha": "be1d3ea397dc48099bd14b12866d6897a32079ca", "author": "dmeuser", "body": "#### PR description:\r\nThis PR is the first step towards using a higher granularity (HG) for the pixel alignment in the PCL. A new threshold object is introduced, which allows to use additional cuts/vetoes on top of the ones already used in the low granularity (LG) alignment.\r\n\r\nIn detail the following changes/adaption have been made:\r\n\r\n- New class `AlignPCLThresholdsHG`, which inherits from `AlignPCLThresholds`, and adds containers for floats, ints and strings with variable sizes to allow for different types of new thresholds in the future. So far, only methods for a fraction cut are implemented.\r\n- New record `AlignPCLThresholdsHGRcd`, which is based on the new class `AlignPCLThresholdsHG`\r\n- Templated `AlignPCLThresholdsWriter` and `AlignPCLThresholdsReader` to handle `AlignPCLThresholdsHG` and `AlignPCLThresholds`\r\n- Adapt the config of `AlignPCLThresholdsReader` to handle both payload types\r\n\r\n#### PR validation:\r\nThe PR can be tested with the old payload type based on `AlignPCLThresholdsHG` and the new payload type based on `AlignPCLThresholdsHG`:\r\n\r\n- Testing the new payload type: `cmsRun AlignPCLThresholdsWriter_cfg.py && cmsRun AlignPCLThresholdsWriter_cfg.py`\r\n- Testing the old payload type: Remove `fractionCut` entries in `Thresholds_cff.py` and run `cmsRun AlignPCLThresholdsWriter_cfg.py && cmsRun AlignPCLThresholdsWriter_cfg.py readLGpayload=True`\r\n\r\n#### Upcoming PRs:\r\nThis PR will be followed by two more PRs:\r\n- Changing to the new object in the consumer code in `Alingment` package\r\n- Introducing the changes needed to run and store the HG alignment\r\n\r\ncc:\r\n@mmusich, @connorpa, @antoniovagnerini, @consuegs \r\n\r\n", "branch": "master", "changed_files": 18, "closed_at": "1654311786", "comments": 20, "commits": 1, "created_at": "1654165664", "deletions": 40, "labels": ["alca-approved", "fully-signed", "tests-approved", "db-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "c1235c571afc92a06d5a5f2aada1af36587b20b5", "merged_at": "1654311786", "merged_by": "cmsbuild", "milestone": "CMSSW_12_5_X", "number": 38195, "release-notes": [], "review_comments": 9, "state": "closed", "title": "New PCL Alignment Threshold object and record for HG PCL Alignment", "updated_at": "1654311787", "user": "dmeuser"}