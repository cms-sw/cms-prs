{"additions": 9, "auther_ref": "CMSSW_10_0_0/sign998/trackNaN", "auther_sha": "85b77723ba5ee32f4738e2c578ca33607ff2c75f", "author": "slava77", "body": "posDef check is added to checks for NaNs already present in KFFittingSmoother and KFTrajectoryFitter.\r\nThe \"posDef\" check is partial, but it will already capture existing cases with negative values in the track covariances diagonal elements, which have to be non-negative.\r\n\r\nthis supersedes #21816 and should also resolve the problem reported in #21780.\r\n\r\nTested in : \r\n- 4x(200 event) workflows (136.782,136.783,136.784,136.787) in 2017B data showing \r\n    - HLT: single track dropout (out of 250) in GSF plots in one out of 4 tested wfs (136.783)\r\n    - RECO: no difference in saved results except for log warnings. There are fewer log warnings now: typically multiple warning about non-pos-def covariance is replaced with one about the NaN or a failing pos-def check.\r\n        - reco DQM shows single track increase in jetCore candidates in one (136.783) of the 4 tested workflows and one pixelPairStepTrackCandidates drop out (of about 25K) in another wf (136.787)\r\n- electron/muon/photon guns with 1K events each (10002.0,10003.0,10004.0,10005.0,10007.0,10009.0) show differences (reduction) in conversions/allConversions at 0.1% level or less.\r\n- 3 TeV dijet 400 events (10059) has no differences in DQM plots or fwlite, but there were some single track-candidate changes in a few events based on step2 log warnings.\r\n", "branch": "master", "changed_files": 2, "comments": 6, "commits": 1, "created_at": "1516746203", "deletions": 2, "labels": ["code-checks-approved", "comparison-pending", "orp-pending", "pending-signatures", "reconstruction-pending", "tests-pending"], "milestone": "CMSSW_10_0_X", "number": 21935, "release-notes": [], "review_comments": 0, "state": "open", "title": "treat non-pos-def covariance as if it contains a NaN", "updated_at": "1516746369", "user": "slava77"}