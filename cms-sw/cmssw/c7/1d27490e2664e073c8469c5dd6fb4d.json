{"additions": 4, "auther_ref": "fix-test_CreateFileLists", "auther_sha": "60f2be1cc74dcd43e501fe068d21d5adeff39a66", "author": "iarspider", "body": "#### PR description:\r\n\r\ntest_CreateFileLists failed in CMSSW_12_5_ASAN_X_2022-06-06-1100 IB: [log](https://cmssdt.cern.ch/SDT/cgi-bin/logreader/el8_amd64_gcc10/CMSSW_12_5_ASAN_X_2022-06-06-1100/unitTestLogs/Alignment/MillePedeAlignmentAlgorithm#/426-426)\r\n\r\n```\r\n\r\nTraceback (most recent call last):\r\n  File \"/cvmfs/cms-ib.cern.ch/week0/el8_amd64_gcc10/cms/cmssw/CMSSW_12_5_ASAN_X_2022-06-06-1100/bin/el8_amd64_gcc10/mps_create_file_lists.py\", line 12, in <module>\r\n    exec(open(subprocess.check_output([\"which\", \"tkal_create_file_lists.py\"], universal_newlines=True).rstrip()).read())\r\n  File \"<string>\", line 1174, in <module>\r\n  File \"<string>\", line 44, in main\r\n  File \"<string>\", line 120, in create\r\n  File \"<string>\", line 375, in _request_dataset_information\r\n  File \"/cvmfs/cms-ib.cern.ch/week0/el8_amd64_gcc10/external/python3/3.9.6-67e5cf5b4952101922f1d4c8474baa39/lib/python3.9/multiprocessing/pool.py\", line 771, in get\r\n    raise self._value\r\nUnboundLocalError: local variable 'das_data' referenced before assignment\r\n```\r\n\r\nThis PR fixes the error by initializing `das_data` with some generic state before running DAS query. Also, the PR updates test definition to use `tkal_create_file_lists.py` instead of `mps_create_file_lists.py` as indicated in [mps_create_file_lists.py](https://github.com/cms-sw/cmssw/blob/master/Alignment/MillePedeAlignmentAlgorithm/scripts/mps_create_file_lists.py):\r\n\r\n```\r\n=======================================\r\nThis script is moved to its new home in\r\ntkal_create_file_lists.py              \r\n(in Alignment/CommonAlignment/scripts).\r\n=======================================\r\n```\r\n\r\n#### PR validation:\r\n\r\nTest ran locally without errors", "branch": "master", "changed_files": 2, "comments": 10, "commits": 1, "created_at": "1654590009", "deletions": 2, "labels": ["alca-pending", "pending-signatures", "tests-approved", "orp-pending", "bug-fix", "code-checks-approved", "trk"], "milestone": "CMSSW_12_5_X", "number": 38271, "release-notes": [], "review_comments": 1, "state": "open", "title": "Alignment/MillePedeAlignmentAlgorithm/test_CreateFileLists: give a better error message in case of failure", "updated_at": "1654615687", "user": "iarspider"}