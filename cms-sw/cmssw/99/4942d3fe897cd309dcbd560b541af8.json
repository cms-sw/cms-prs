{"additions": 12, "auther_ref": "triton-retry-fix", "auther_sha": "71301131a636c6b0af1bedd3328f4923aeed0bb5", "author": "cjh1", "body": "#### PR description:\r\n\r\nOn retry the client was trying to access the TritonService through the ServiceRegistry. However, the thread calling the evalute method did not have the appropriate context setup to allow this. We now save the ServiceToken when the client is created, so the appropriate context can be setup before accessing the service.\r\n\r\n\r\n#### PR validation:\r\n\r\nWe tested this at NERSC where we are seeing `GOAWAY` responses from our nginx ingress. This logic successfully retries the failed requests. ", "branch": "master", "changed_files": 2, "closed_at": "1732174590", "comments": 19, "commits": 1, "created_at": "1731610183", "deletions": 0, "labels": ["fully-signed", "tests-approved", "orp-approved", "code-checks-approved", "heterogeneous-approved"], "merge_commit_sha": "e455f1f19327cb719aad5f9e86867423c3c64892", "merged_at": "1732174590", "merged_by": "cmsbuild", "milestone": "CMSSW_14_2_X", "number": 46703, "release-notes": [], "review_comments": 5, "state": "closed", "title": "fix retry logic for triton client", "updated_at": "1732174591", "user": "cjh1"}