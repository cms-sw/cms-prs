{"additions": 8, "auther_ref": "rethrow-signals-after-exit", "auther_sha": "00965b00597791e5b4ffa41d14e65353ef119d32", "author": "dan131riley", "body": "When InitRootHandlers is unloaded, it sets the signal handlers for SIGILL, SIGSEGV, SIGBUS and SIGTERM to a handler that simply calls abort().  This is inconsistent with the behavior of the sig_dostack_then_abort() handler which re-raises those signals so that the exit code correctly reflects the signal received.  This PR updates sig_abort() to write a short message and re-raise the signal received so the exit code is set correctly.\r\n\r\nThis is in response to difficulties diagnosing CRAB job crashes at exit(), likely caused by memory corruption found during the destruction of ROOT globals, see:\r\n\r\nhttps://hypernews.cern.ch/HyperNews/CMS/get/computing-tools/2350/2/1/1/1/1.html", "branch": "CMSSW_9_0_X", "changed_files": 1, "closed_at": "1481710852", "comments": 15, "commits": 1, "created_at": "1481642317", "deletions": 0, "labels": ["comparison-available", "core-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "e1bede66765f392595f04a0e6a3471cf7414035f", "merged_at": "1481710852", "merged_by": "cmsbuild", "milestone": "CMSSW_9_0_X", "number": 17006, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Re-raise signals received after InitRootHandlers has been unloaded", "updated_at": "1507556298", "user": "dan131riley"}