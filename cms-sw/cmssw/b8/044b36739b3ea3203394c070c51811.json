{"additions": 796, "auther_ref": "add-phase2-gct-interface-to-correlator-pr", "auther_sha": "413761f7ac2e5059dfcf1976941b1e317105a0b7", "author": "skkwan", "body": "#### PR description:\r\n\r\n\r\nThis PR includes:\r\n- Fixes a missing half-crystal offset in the existing `realEta()` and `realPhi()` methods of the digitized clusters DataFormats/L1TCalorimeterPhase2/interface/DigitizedClusterCorrelator.h, so that there is an exact match with the real eta/phi returned by the float clusters.\r\n- Adds new dataformats DataFormats/L1TCalorimeterPhase2/interface/GCTEmDigiCluster.h and DataFormats/L1TCalorimeterPhase2/interface/GCTHadDigiCluster.h, which represent the containerized outputs of the GCT barrel to the Correlator Layer 1 (see [these slides](https://www.dropbox.com/scl/fi/1m47c74c19gt1vks9etc5/2025-01-17-Updated-Documentation-Barrel-GCT-Clusters-to-Correlator-Layer-1.pdf?rlkey=rottdsivjj8t0fl08l338r6bk&dl=0) for schematics). `GCTEmDigiCluster.h` is built from the digitized EM outputs of the GCT barrel emulator (`DigitizedClusterCorrelator.h`). `GCTHadDigiCluster.h` is built directly from the float outputs (EM + hadronic deposits) of the GCT PF Cluster emulator. \r\n- The containers (std::vector<std::vector<>>) of the digitized clusters reflects the link structure to the Correlator Layer 1. Clusters are zero-padded (see [these slides](https://www.dropbox.com/scl/fi/1m47c74c19gt1vks9etc5/2025-01-17-Updated-Documentation-Barrel-GCT-Clusters-to-Correlator-Layer-1.pdf?rlkey=rottdsivjj8t0fl08l338r6bk&dl=0) for schematics). \r\n- The digitized clusters also contain `edm::Ref` to their parent clusters.\r\n\r\nNote that this will affect the ParticleFlow code since the inputs are renamed; this has been agreed upon to be changed in a separate PR since the changes to the ParticleFlow code will need to be validated separately. \r\n\r\n#### PR validation:\r\n\r\n- An [analyzer](https://github.com/skkwan/phase2-l1Calo-analyzer/blob/devel-GCTBarrelToCorrelator/plugins/L1CaloEGammaSingleAnalyzer.cc) was used to check that the containerized digitized clusters can be read out and give the exact same real eta/phi location as the previous outputs. The edm::Ref to the parent clusters (for non-null clusters) has also been checked\r\n- scram b code-format, scram build code-checks \r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n", "branch": "master", "changed_files": 9, "comments": 5, "commits": 1, "created_at": "1738014459", "deletions": 24, "labels": ["l1-pending", "pending-signatures", "tests-pending", "orp-pending", "upgrade-pending", "code-checks-pending", "changes-dataformats"], "milestone": "CMSSW_15_1_X", "number": 47193, "release-notes": [], "review_comments": 2, "state": "open", "title": "update GCT eg and hadronic cluster interface to Correlator", "updated_at": "1739571476", "user": "skkwan"}