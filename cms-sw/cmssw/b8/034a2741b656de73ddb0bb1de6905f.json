{"additions": 18, "auther_ref": "WorkaroundForROOT6Limitation", "auther_sha": "1c9b1a2ec96466b83dc5608c8d31c598509287f9", "author": "wmtan", "body": "ROOT6 uses a version of the llvm just in time compiler that cannot handle embedded assembler code.\nboost/shared_ptr.hpp contains (indirectly) two headers that contain assembler. This breaks many framework unit tests.\nThis workaround sets preprocessor variables recognized by boost that are used if and only if ROOTCLING is defined. These preprocessor definitions cause the assembler code to not be included. This fixes the unit test errors.\nThe final fix for this problem should be either that ROOT6 is fixed to handle assembler, OR that CMSSW replaces with std::shared_ptr those uses of boost::shared_ptr that cause problems \n\nI accidentally closed #1842.  This is a duplicate of #1842\n", "branch": "CMSSW_7_0_ROOT6_X", "changed_files": 12, "closed_at": "1387260836", "comments": 2, "commits": 1, "created_at": "1387260332", "deletions": 0, "labels": ["core-pending", "pending-signatures", "tests-pending"], "merge_commit_sha": "fc1a8aae07bb7b9320b680eb61e12f41ff1940c8", "merged_at": "1387260836", "merged_by": "davidlt", "number": 1843, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Workaround for ROOT6 limitation", "updated_at": "1387393214", "user": "wmtan"}