{"additions": 71, "auther_ref": "makePoolDBOutputServiceCompatibleWithThreadedFramework", "auther_sha": "452995fc39ef5f74586d5f1b35a426804273fc0f", "author": "Dr15Jones", "body": "Initial attempt at making PoolDBOutputService work with the threaded\nframework. The code now uses the new ActivityRegistry signals and\nhas a recursive mutex around the function which change internal state.\nSeveral assumptions have been made\n1) only one Run and Lumi are being processed in the job. This will be\ntrue for CMSSW_7_1_X but not in the future;\n2) the calls to the DB are thread safe;\n3) time based IOVs are only set during Event processing\n\nIn addition, the session() method was not removed however I am\nfairly certain a caller could not use the return value in a thread\nsafe manner.\n", "branch": "CMSSW_7_1_X", "changed_files": 2, "closed_at": "1397737278", "comments": 7, "commits": 1, "created_at": "1397657790", "deletions": 29, "labels": ["alca-approved", "comparison-available", "fully-signed", "tests-approved"], "merge_commit_sha": "50aefc3d68ec704a3ffac6d213337439c3655955", "merged_at": "1397737278", "merged_by": "ktf", "milestone": "CMSSW_7_1_0_pre7", "number": 3371, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Made PoolDBOutputService compatible with threaded framework", "updated_at": "1405687043", "user": "Dr15Jones"}