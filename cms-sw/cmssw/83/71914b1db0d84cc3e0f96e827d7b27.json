{"additions": 478, "auther_ref": "RecoEgamma_CodeQuality", "auther_sha": "8755bb3e96a3a31584375e00d701f59c082df98e", "author": "guitargeek", "body": "As advertised by @slava77 and @perrotta in the Reconstruction and Ananlysis Tools meetings, I took my \"favourite\" CMSSW packages (RecoEgamma/*) and addressed the complaints of the static analyser [1] which originate from RecoEgamma code.\r\n\r\nThe issues were mainly:\r\n\r\n1. Inherits from edm::EDProducer,edm::EDFilter,edm::EDAnalyzer, or edm::OutputModule\r\n2. Related to code which was actually outside RecoEgamma (most if not all const_cast issues)\r\n3. A few dead assignments [2,3] and a branch condition evaluations to a garbage value [4]\r\n\r\nHere, I propose fixes for the legacy modules and the small things in 3. The strategy was to use `global::EDProducer` if possible, `stream::EDProducer` where altering the class members in `produce()` could not trivially be avoided (two cases) and `one::EDAnalyzer` for the analysers where I was afraid that the parallelization would maybe break them (but they are not so important anyway).\r\n\r\nIn total, this fixes about 50 static analyzer issues. I tested locally, and the workflows without DAS errors succeeded.\r\n\r\n[1] https://cmssdt.cern.ch/SDT/jenkins-artifacts/ib-static-analysis/CMSSW_10_2_X_2018-07-03-1100/slc6_amd64_gcc630/llvm-analysis/index.html\r\n[2] https://cmssdt.cern.ch/SDT/jenkins-artifacts/ib-static-analysis/CMSSW_10_2_X_2018-07-03-1100/slc6_amd64_gcc630/llvm-analysis/report-b91ab3.html#EndPath\r\n[3] https://cmssdt.cern.ch/SDT/jenkins-artifacts/ib-static-analysis/CMSSW_10_2_X_2018-07-03-1100/slc6_amd64_gcc630/llvm-analysis/report-d77667.html#EndPath\r\n[4] https://cmssdt.cern.ch/SDT/jenkins-artifacts/ib-static-analysis/CMSSW_10_2_X_2018-07-03-1100/slc6_amd64_gcc630/llvm-analysis/report-2a785d.html#EndPath", "branch": "master", "changed_files": 88, "closed_at": "1532698295", "comments": 53, "commits": 8, "created_at": "1530707774", "deletions": 969, "labels": ["code-checks-approved", "comparison-available", "fully-signed", "hlt-approved", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "5bfa1f7263144b20f3b7c380b7d8bb0e8cca511b", "merged_at": "1532698295", "merged_by": "cmsbuild", "milestone": "CMSSW_10_3_X", "number": 23743, "release-notes": [], "review_comments": 13, "state": "closed", "title": "Tackled majority of RecoEgamma code quality issues", "updated_at": "1532698295", "user": "guitargeek"}