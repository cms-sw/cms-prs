{"additions": 151, "auther_ref": "mm_dev_tkal_improv", "auther_sha": "ce441bfccbad36168f7327de191070d366276200", "author": "mmusich", "body": "#### PR description:\r\n\r\nThe goal of this PR is to introduce a couple of improvements to `TrackerAlignment_PayloadInspector`:\r\n   * support OT-only comparisons for `TrackerAlignmentCompareAll`. \r\n   * add a function `isReorderedTFPXTEPX` to detect of if the underlying detId schema implies a phase-2 forward pixel detector with yawed geometry (hence requiring to use a different version of `trackerParameters.xml`): this is done by checking if after applying the \"regular\" tracker bit masks there is any FPix detid corresponding to disk 0 (which should never happen). \r\n\r\n#### PR validation:\r\n\r\nRun the following test script and checked the output:\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\n# Function to reduce redundancy\r\nget_and_move_payload() {\r\n    getPayloadData.py  \\\r\n        --plugin pluginTrackerAlignment_PayloadInspector \\\r\n        --plot \"$1\" \\\r\n        --tag \"$2\" \\\r\n        --tagtwo \"$3\" \\\r\n        --time_type Run --iovs '{\"start_iov\": \"1\", \"end_iov\": \"1\"}' \\\r\n        --iovstwo '{\"start_iov\": \"1\", \"end_iov\": \"1\"}' \\\r\n        --db Prep \\\r\n        --test >& \"$4\" &\r\n}\r\n\r\n# Pixel only\r\nget_and_move_payload plot_PixelAlignmentComparatorTwoTags \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v1 \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v2 \\\r\n    IT_mismatch.log\r\n\r\nget_and_move_payload plot_PixelAlignmentComparatorTwoTags \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v1 \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v1 \\\r\n    IT_old.log\r\n\r\nget_and_move_payload plot_PixelAlignmentComparatorTwoTags \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v2 \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v2 \\\r\n    IT_new.log\r\n\r\n# OT only\r\nget_and_move_payload plot_OTAlignmentComparatorTwoTags \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v1 \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v2 \\\r\n    OT_mismatch.log\r\n\r\nget_and_move_payload plot_OTAlignmentComparatorTwoTags \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v1 \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v1 \\\r\n    OT_old.log\r\n\r\nget_and_move_payload plot_OTAlignmentComparatorTwoTags \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v2 \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v2 \\\r\n    OT_new.log\r\n\r\n# Full\r\nget_and_move_payload plot_TrackerAlignmentComparatorTwoTags \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v1 \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v2 \\\r\n    FULL_mismatch.log\r\n\r\nget_and_move_payload plot_TrackerAlignmentComparatorTwoTags \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v1 \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v1 \\\r\n    FULL_old.log\r\n\r\nget_and_move_payload plot_TrackerAlignmentComparatorTwoTags \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v2 \\\r\n    TrackerAlignment_Upgrade2026_T36_design_v2 \\\r\n    FULL_new.log\r\n```\r\n\r\n#### If this PR is a backport please specify the original PR and why you need to backport that PR. If this PR will be backported please specify to which release cycle the backport is meant for:\r\n\r\nN/A", "branch": "master", "changed_files": 2, "comments": 3, "commits": 2, "created_at": "1711375867", "deletions": 24, "labels": ["db-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-approved"], "milestone": "CMSSW_14_1_X", "number": 44537, "release-notes": [], "review_comments": 0, "state": "open", "title": "Improvements for `TrackerAlignment_PayloadInspector`: support OT-only comparisons and re-ordered TF{E}PX detid schemas", "updated_at": "1711376354", "user": "mmusich"}