{"additions": 838, "auther_ref": "additionalDigiInfo_from-CMSSW_12_4_0_pre1", "auther_sha": "70900d5b6c82b7baa47d7995ebaddb55fae4510b", "author": "CMSTrackerDPG", "body": "\r\n#### PR description:\r\n\r\nModifications of the code to allow the Pixel Charge Reweighting at the mixing step in view of future runDependent MC production. The idea is first to produce a premix Library in which no Charge Reweighting is applied, but with stored extra SimHit Information. Then in a second step, during the mixing part, a \"Late\" Charge Reweighting is applied on the digis from PU, using the extra information. See [Last presentation during the AlcaDB meeting](https://indico.cern.ch/event/1153319/contributions/4842846/attachments/2435508/4170988/20220502_AlcaDB_PixelCR.pdf) for more details. \r\n\r\nBy default, the standard Charge Reweighting is applied. \r\n\r\nTo use the new functionality, the `runDependent` processModifier can be used (but for the moment there is a problem with running this processModifier with the 2018 or 2021 configurations -- AlcaDB people are aware of that).\r\n\r\nSome [review](https://github.com/CMSTrackerDPG/cmssw/pull/19) has already been done within the tracker DPG group. \r\n\r\n#### PR validation:\r\n\r\nThe standard runTheMatrix workflows should give no differences, because by default we stay with the standard Charge Reweighting approach. \r\n\r\nA lot of tests have been performed within the Pixel Offline group to understand the impact of using the Late Charge Reweighthing approach. Comparisons between the two approaches (Standard and Late CR) have been done and differences are understood and expected.\r\n", "branch": "master", "changed_files": 17, "comments": 13, "commits": 1, "created_at": "1651759462", "deletions": 62, "labels": ["simulation-pending", "pending-signatures", "tests-rejected", "orp-pending", "urgent", "code-checks-approved", "trk"], "milestone": "CMSSW_12_4_X", "number": 37823, "release-notes": [], "review_comments": 2, "state": "open", "title": "Modifications of the Pixel Charge Reweighting for RunDependent MC", "updated_at": "1651767323", "user": "carolinecollard"}