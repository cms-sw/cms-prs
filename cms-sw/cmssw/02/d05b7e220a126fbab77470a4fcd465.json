{"additions": 10, "auther_ref": "gcc10ValidationMixing", "auther_sha": "0cbcb8d0544bc3ab5c4b4d6877b0ab3f54ebb83c", "author": "makortel", "body": "#### PR description:\r\n\r\nGCC 10 warns\r\n```\r\n/data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/6bfeb1b59c2a9e14c52cd5c5d0709cec/opt/cmssw/slc7_amd64_gcc10/cms/cmssw/CMSSW_11_2_X_2020-07-24-2300/src/Validation/Mixing/src/GlobalTest.cc: In member function 'virtual void GlobalTest::bookHistograms(dqm::legacy::DQMStore::IBooker&, const edm::Run&, const edm::EventSetup&)':\r\n  /data/cmsbld/jenkins/workspace/build-any-ib/w/tmp/BUILDROOT/6bfeb1b59c2a9e14c52cd5c5d0709cec/opt/cmssw/slc7_amd64_gcc10/cms/cmssw/CMSSW_11_2_X_2020-07-24-2300/src/Validation/Mixing/src/GlobalTest.cc:77:10: warning: 'char* strncpy(char*, const char*, size_t)' specified bound 13 equals destination size [-Wstringop-truncation]\r\n    77 |   strncpy(labels[0], NrPileupEvts.c_str(), NrPileupEvtsSize);\r\n      |   ~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n```\r\nThis was discussed in Core Software meeting a few weeks ago, and the consensus was that the warning is likely wrong and the sizes are fine. On the other hand, the code creates an `std::string`, copies that to a `char[]`, which is then passed to `snprintf()`. This PR proposes to replace all that with a single call to `fmt::format()` (per label).\r\n\r\n\r\n#### PR validation:\r\n\r\nCode compiles.", "branch": "master", "changed_files": 3, "closed_at": "1596435125", "comments": 12, "commits": 1, "created_at": "1596203347", "deletions": 43, "labels": ["code-checks-approved", "comparison-available", "dqm-approved", "fully-signed", "orp-approved", "tests-approved"], "merge_commit_sha": "dcbe8034664ab6d88fd72b6985ae3a2cc1595d0a", "merged_at": "1596435125", "merged_by": "cmsbuild", "milestone": "CMSSW_11_2_X", "number": 31008, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Replace snprintf() and string copies with fmt::format() in Validation/Mixing/src/GlobalTest.cc", "updated_at": "1596435125", "user": "makortel"}