{"additions": 1345, "auther_ref": "add-displacedMuons_RECO_MINI_PATFilter", "auther_sha": "8f0ca8c6c6327c60515d5fe826f5cd642bc8aded", "author": "CeliaFernandez", "body": "#### PR description:\r\n\r\nThis PR is a follow-up from a previous one: https://github.com/cms-sw/cmssw/pull/36926\r\n\r\nIt adds a new reco::Muon collection, called 'displacedMuons', that includes the dedicated displaced muon reconstructions: 'displacedTracks', 'displacedGlobalMuons' and 'displacedStandAloneMuons' (all of them saved in AOD as reco::Track collections).\r\n\r\nIn this PR we add the necessary modifications to:\r\n1. Cross-clean the existing reco::Track objects in order to avoid the duplication or loss of displaced muon candidates in the output collection.\r\n2. Compute the main muon variables, including isolation, time, recoTracksExtras... etc\r\n3. Save this information in AOD and RECO, as configured for standard 'muons' collection\r\n4. Read the new reco::Muon collection and create a pat::Muon collection to be saved in MiniAOD\r\n5. Add a filter to preselect the muons stored in the new pat::Muon collection and reduce the size increase in the new samples.\r\n\r\nThe sequences are implemented to run independently to the default reco::Muon 'muons' collection and avoid interferences. Muons of the 'muons' collection should remain untouchable. The sequences also emulate the existing implementation and make use of the existing tools and modules so the new information is computed with the default parameters configuration.\r\n\r\nThe following packages are modified:\r\n\r\n- RecoMuon/Configuration\r\n- RecoMuon/Identification\r\n- RecoMuon/MuonIsolationProducers\r\n- RecoMuon/MuonIsolation\r\n- PhysicsTools/PatAlgos\r\n\r\nThis new collection was presented several times in CMS meetings. Further information can be found in:\r\n- https://indico.cern.ch/event/1077850/\r\n- https://indico.cern.ch/event/1122330/\r\n- https://indico.cern.ch/event/1128824/\r\n- https://indico.cern.ch/event/1134932/\r\n- https://indico.cern.ch/event/1153168/ (last report in Muon HLT&RECO meeting)\r\n\r\nThe increase in size is measured in ttbar (PU) simulation [11834.21 workflow] and totals +1% in AOD and +2.5% in MiniAOD.\r\n\r\nUpdates from the last presentation: \r\nThe filter was further optimized and the preselection requirements on muons were updated.\r\n\r\nThe implementation was built on top of CMSSW_12_3_0_pre2\r\n\r\n@gkaratha @sscruz @trocino\r\n\r\n#### PR validation:\r\n\r\nWe have checked out all dependencies and have a clean build. Code-checks were applied. Most runTheMatrix tests were successfully run as well:\r\n[runall-report-step123-.log](https://github.com/cms-sw/cmssw/files/8624877/runall-report-step123-.log)\r\n\r\nStudies about the physics performance are available in the presentations attached before.\r\n\r\n", "branch": "master", "changed_files": 24, "comments": 38, "commits": 20, "created_at": "1651680859", "deletions": 5, "labels": ["reconstruction-pending", "pending-signatures", "tests-pending", "orp-pending", "code-checks-pending", "xpog-pending", "muon"], "milestone": "CMSSW_12_4_X", "number": 37805, "release-notes": [], "review_comments": 25, "state": "open", "title": "Add new reco::Muon 'displacedMuons' collection to AOD and MiniAOD", "updated_at": "1652457289", "user": "CeliaFernandez"}