{"additions": 94, "auther_ref": "phase1_migrateGeomDetEnumerators", "auther_sha": "902fd4991a40a368050a9ce670dd4aa457f0cd22", "author": "makortel", "body": "This PR migrates all code (found with `git grep GeomDetEnumerators::Pixel`) from using `GeomDetEnumerators::PixelBarrel/PixelEndcap` to either use the helper functions in GeomDetEnumerators, or `GeomDetEnumerators::subDetGeom` (one case) (one case was also from `subDetGeom` to the helper functions). These changes are needed for the Phase1/2 upgrades, where pixel barrel has `P1PXB` and pixel endcap `P1PXEC` or `P2PXEC` values. (Something similar is probably needed for Phase2 strips, but that is left for future work).\n\nI also added a simple unit test for GeomDetEnumerators to ensure that all subdets are either `isBarrel()` or `isEndcap()`, so that I can safely assume in production code that, according to these functions, if something is not barrel, it is endcap (and vice versa). (Mostly because the condition that spurred this PR was `if(pixel barrel) ... else if(pixel endcap) ... else throw`).\n\nTogether with #11621 and #11609, the reco step of phase1 workflow `runTheMatrix.py --what upgrade -l 10000` technically works. (The final HARVESTING step fails on missing input file, because DQM/VALIDATION are not part of the reco step)\n\nTested in 760pre6, no changes expected in Run1/2 workflows.\n\n@rovere @VinInn @boudoul @venturia @mark-grimes \n", "branch": "CMSSW_7_6_X", "changed_files": 12, "closed_at": "1444993963", "comments": 24, "commits": 6, "created_at": "1443790978", "deletions": 86, "labels": ["alca-approved", "comparison-available", "fastsim-approved", "fully-signed", "geometry-approved", "orp-approved", "reconstruction-approved", "tests-approved"], "merge_commit_sha": "60fd2d3e062318883b6acaa6aa1422f86cbfda84", "merged_at": "1444993963", "merged_by": "cmsbuild", "milestone": "CMSSW_7_6_X", "number": 11624, "release-notes": [], "review_comments": 5, "state": "closed", "title": "Migrate away from explicit comparisons of GeomDetEnumerators::PixelBarrel/PixelEndcap", "updated_at": "1476956884", "user": "makortel"}