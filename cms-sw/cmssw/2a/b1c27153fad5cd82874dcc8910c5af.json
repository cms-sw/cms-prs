{"additions": 69, "auther_ref": "L1T_LeftShiftError", "auther_sha": "0336ec913be6e145c5a0769563a94117e4180e0a", "author": "ryanm124", "body": "#### PR description:\r\n\r\nAddressing part of issue #35010 where UBSAN reported left-shift of negative value in L1Trigger files. Introduced bitShift helper function which makes number positive before bit shifting and then reintroduces the original sign. Replaced left shifts in problem files with helper function. \r\n\r\n#### PR validation:\r\n\r\nRan prompt and displaced tracking using default cms-L1TK repository and modified cms-L1TK repository with proposed bitShift changes in PR to problem files in TrackFindingTracklet and made comparison efficiency and eta resolution plots. Results are identical between two versions. Left shift errors no longer appear in UBSAN log when compiling.\r\n![D76_TTbarPrompt_PU200_BitShiftComparison_eff_z0](https://user-images.githubusercontent.com/83873544/179777987-f144d7a7-77ec-4577-8461-88bf9b3d2f4c.png)\r\n![D76_TTbarPrompt_PU200_BitShiftComparison_eff_d0](https://user-images.githubusercontent.com/83873544/179777991-d35467ca-e625-4d8d-9209-8c369b438cb9.png)\r\n![D76_TTbar_PU200_BitShiftComparison_resVsEta_phi](https://user-images.githubusercontent.com/83873544/179777992-57df6677-8d3c-4f16-95e8-7c1ebccc2b92.png)\r\n![D76_TTbar_PU200_BitShiftComparison_resVsEta_eta](https://user-images.githubusercontent.com/83873544/179777996-f151e624-53e7-4b95-acd7-6cb1fb159b36.png)\r\n![D76_TTbar_PU200_BitShiftComparison_resVsEta_z0](https://user-images.githubusercontent.com/83873544/179777998-095e793e-7147-427c-b313-7e229763c536.png)\r\n![D76_TTbar_PU200_BitShiftComparison_resVsEta_d0](https://user-images.githubusercontent.com/83873544/179778001-7e1df92a-cd2d-4472-be1a-4126565d7527.png)\r\n![D76_TTbar_PU200_BitShiftComparison_resVsEta_ptRel](https://user-images.githubusercontent.com/83873544/179778002-41d8a827-60f7-4ec1-8ea2-4c2f722828c7.png)\r\n![D76_TTbar_PU200_BitShiftComparison_eff_phi_sector](https://user-images.githubusercontent.com/83873544/179778005-74365f04-fd39-4901-b920-520d408b3ac1.png)\r\n![D76_TTbar_PU200_BitShiftComparison_eff_phi](https://user-images.githubusercontent.com/83873544/179778009-3c1243dd-5d79-4f19-9f55-35d539c98475.png)\r\n![D76_TTbar_PU200_BitShiftComparison_eff_eta](https://user-images.githubusercontent.com/83873544/179778012-3949654c-9f1e-499e-a875-342b67e1007a.png)\r\n![D76_TTbar_PU200_BitShiftComparison_eff_z0](https://user-images.githubusercontent.com/83873544/179778015-791b1c4e-0801-4219-a0b3-f3d79d817453.png)\r\n![D76_TTbar_PU200_BitShiftComparison_eff_d0](https://user-images.githubusercontent.com/83873544/179778019-e997bbdc-f8f4-45a9-8137-efe992c7789b.png)\r\n![D76_TTbarPrompt_PU200_BitShiftComparison_resVsEta_phi](https://user-images.githubusercontent.com/83873544/179778020-bed3a818-3c09-4836-832e-0aa0fe0fea47.png)\r\n![D76_TTbarPrompt_PU200_BitShiftComparison_resVsEta_eta](https://user-images.githubusercontent.com/83873544/179778023-cd35b848-56c9-4118-925e-b4f78b43e6e6.png)\r\n![D76_TTbarPrompt_PU200_BitShiftComparison_resVsEta_z0](https://user-images.githubusercontent.com/83873544/179778024-25fc4c7e-99d8-4a76-9532-bf085a8adbc1.png)\r\n![D76_TTbarPrompt_PU200_BitShiftComparison_resVsEta_d0](https://user-images.githubusercontent.com/83873544/179778025-9548e786-24cf-42a9-b2e6-cb96a8cd5857.png)\r\n![D76_TTbarPrompt_PU200_BitShiftComparison_resVsEta_ptRel](https://user-images.githubusercontent.com/83873544/179778027-f3aa3840-de4b-4fac-a6ad-899b465e05f8.png)\r\n![D76_TTbarPrompt_PU200_BitShiftComparison_eff_phi_sector](https://user-images.githubusercontent.com/83873544/179778028-dcec12ea-9661-464b-8f78-21d454e9af6f.png)\r\n![D76_TTbarPrompt_PU200_BitShiftComparison_eff_phi](https://user-images.githubusercontent.com/83873544/179778032-bd66d650-7e84-4de8-abb1-8ffd1bf61ba1.png)\r\n![D76_TTbarPrompt_PU200_BitShiftComparison_eff_eta](https://user-images.githubusercontent.com/83873544/179778033-32ba7649-5b94-4294-a858-fc4c1048055e.png)\r\n\r\n", "branch": "master", "changed_files": 11, "closed_at": "1660347196", "comments": 16, "commits": 5, "created_at": "1658234701", "deletions": 40, "labels": ["l1-approved", "fully-signed", "tests-approved", "orp-approved", "code-checks-approved"], "merge_commit_sha": "61f63a0b919745cc43c943d19862bae2bad6f0e2", "merged_at": "1660347196", "merged_by": "cmsbuild", "milestone": "CMSSW_12_5_X", "number": 38785, "release-notes": [], "review_comments": 0, "state": "closed", "title": "L1T Left Shift Error", "updated_at": "1660347196", "user": "ryanm124"}