{"additions": 35, "auther_ref": "GenParticlePruner-InfiniteLoopsFix_from-CMSSW_7_5_X_2015-07-02-1100", "auther_sha": "4f97f347d566057de224893834524830334377cf", "author": "ferencek", "body": "This PR fixes a bug introduced by #9709 where correct handling of infinite mother/daughter loops got broken. The two Sherpa workflows reported to fail in https://github.com/cms-sw/cmssw/pull/9709#issuecomment-118070003 now run successfully\n\n```\n[ferencek@lxplus0002 src]$ runTheMatrix.py -l 533.0,534.0 \nprocessing relval_standard\nprocessing relval_highstats\nprocessing relval_pileup\nprocessing relval_generator\nprocessing relval_extendedgen\nprocessing relval_production\nprocessing relval_ged\nignoring relval_upgrade from default matrix\nignoring relval_identity from default matrix\nprocessing relval_machine\nprocessing relval_unsch\nprocessing relval_premix\nRunning in 4 thread(s)\n\nPreparing to run 533.0 sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+HARVESTGEN\ncleaning up  533.0_sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+HARVESTGEN  in  /afs/cern.ch/work/f/ferencek/GitSandBox/CMSSW_7_5_X_2015-07-02-1100/src\n\n# in: /afs/cern.ch/work/f/ferencek/GitSandBox/CMSSW_7_5_X_2015-07-02-1100/src going to execute cd 533.0_sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+HARVESTGEN\n cmsDriver.py sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER_cff  --conditions auto:run2_mc_FULL -s GEN,VALIDATION:genvalid_all --datatier GEN,DQMIO --beamspot Realistic8TeVCollision -n 10 --relval 250000,20000 --eventcontent RAWSIM,DQM --fileout file:step1.root  > step1_sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+HARVESTGEN.log  2>&1\n\n\nPreparing to run 534.0 sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+HARVESTGEN\ncleaning up  534.0_sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+HARVESTGEN  in  /afs/cern.ch/work/f/ferencek/GitSandBox/CMSSW_7_5_X_2015-07-02-1100/src\n\n# in: /afs/cern.ch/work/f/ferencek/GitSandBox/CMSSW_7_5_X_2015-07-02-1100/src going to execute cd 534.0_sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+HARVESTGEN\n cmsDriver.py sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER_cff  --conditions auto:run2_mc_FULL -s GEN,VALIDATION:genvalid_all --datatier GEN,DQMIO --beamspot Realistic8TeVCollision -n 10 --relval 250000,20000 --eventcontent RAWSIM,DQM --fileout file:step1.root  > step1_sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+HARVESTGEN.log  2>&1\n\n\n# in: /afs/cern.ch/work/f/ferencek/GitSandBox/CMSSW_7_5_X_2015-07-02-1100/src going to execute cd 533.0_sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+HARVESTGEN\n cmsDriver.py step2  --conditions auto:run2_mc_FULL --filein file:step1_inDQM.root -s HARVESTING:genHarvesting --harvesting AtJobEnd --filetype DQM --customise SLHCUpgradeSimulations/Configuration/postLS1Customs.customisePostLS1 --mc  -n 100  --fileout file:step2.root  > step2_sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+HARVESTGEN.log  2>&1\n\n\n# in: /afs/cern.ch/work/f/ferencek/GitSandBox/CMSSW_7_5_X_2015-07-02-1100/src going to execute cd 534.0_sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+HARVESTGEN\n cmsDriver.py step2  --conditions auto:run2_mc_FULL --filein file:step1_inDQM.root -s HARVESTING:genHarvesting --harvesting AtJobEnd --filetype DQM --customise SLHCUpgradeSimulations/Configuration/postLS1Customs.customisePostLS1 --mc  -n 100  --fileout file:step2.root  > step2_sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+HARVESTGEN.log  2>&1\n\n533.0_sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+sherpa_ZtoEE_0j_BlackHat_13TeV_MASTER+HARVESTGEN Step0-PASSED Step1-PASSED  - time date Fri Jul  3 02:46:49 2015-date Fri Jul  3 02:45:53 2015; exit: 0 0\n534.0_sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+sherpa_ZtoEE_0j_OpenLoops_13TeV_MASTER+HARVESTGEN Step0-PASSED Step1-PASSED  - time date Fri Jul  3 02:46:49 2015-date Fri Jul  3 02:45:56 2015; exit: 0 0\n2 2 tests passed, 0 0 failed\n\n```\n", "branch": "CMSSW_7_5_X", "changed_files": 1, "closed_at": "1436170703", "comments": 2, "commits": 1, "created_at": "1435877589", "deletions": 30, "labels": ["analysis-pending", "comparison-pending", "orp-pending", "pending-signatures", "tests-pending"], "merge_commit_sha": "739574d43f646eb64917fb7ec4c5fdb198bf52b2", "merged_at": "1436170703", "merged_by": "davidlange6", "milestone": "CMSSW_7_5_X", "number": 10028, "release-notes": [], "review_comments": 0, "state": "closed", "title": "GenParticlePruner: Bugfix for infinite mother/daughter loops", "updated_at": "1436464309", "user": "ferencek"}