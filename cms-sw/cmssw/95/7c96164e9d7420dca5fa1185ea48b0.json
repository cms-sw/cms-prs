{"additions": 475, "auther_ref": "CMSSW_13_0_X_tau-pog_deepTauPh2", "auther_sha": "755c32a65d1064597f8294d0ae4f5073ca4f5256", "author": "cms-tau-pog", "body": "#### PR description:\r\n\r\nThis PR adds code for a phase-2 version of DeepTau discriminator. The network structure is identical to that of Run-2/3 DeepTau v2p5, therefore code modifications are small. The changes include:\r\n* Adding scaling parameters and working points for the new training;\r\n* A new \"year\" identifier introduced to separate this new phase-2 training and current Run-2/3 v2p5 (2026 vs 2018)\r\n* The electron input collection used for the new phase2 deepTauID is sum of two collections: `slimmedElectrons` (gsfElectrons in EB) and `slimmedElectronsHGC` (HGCal electrons in endcaps). Notes: 1. The latter collection is called `slimmedElectronsFromMultiCl` in older CMSSW (<13_0) release series (and samples produced with them) which can cause some problems with running on old samples; 2. The same merged electron collection is used by old-style anti-electron tau discriminant for phase-2;\r\n* The new deepTauID replaces old-style BDT-based tauIDs in miniAOD.\r\n\r\nThe performance of this phase 2 DeepTau discriminator is documented in [AN-22-090](https://icms.cern.ch/tools-api/restplus/relay/piggyback/notes/AN/2022/90/files/3/download).\r\n\r\nThe PR to cms-data with the data-model is here: https://github.com/cms-data/RecoTauTag-TrainingFiles/pull/11\r\n\r\nBackport of the PRs to 12_5/12_6 is foreseen.\r\n\r\nTo run standalone test, one can run the configuration file `RecoTauTag/RecoTau/test/runDeepTauIDsOnMiniAOD.py` after setting the flag `phase2 = True` in that file.\r\n\r\n#### PR validation:\r\n\r\nValidated with the standalone test mentioned above and with miniAOD workflows, matrix tests, `runTheMatrix.py -l limited -i all --ibeos`, successful.\r\nNote: the tests should be run with data-model here: https://github.com/cms-data/RecoTauTag-TrainingFiles/pull/11\r\n\r\n", "branch": "master", "changed_files": 8, "closed_at": "1675428763", "comments": 10, "commits": 11, "created_at": "1674741297", "deletions": 27, "labels": ["reconstruction-approved", "fully-signed", "tests-approved", "orp-approved", "requires-external", "code-checks-approved", "xpog-approved"], "merge_commit_sha": "d51ac5f949b5df86f13ae4a33edb6d6d6b26753f", "merged_at": "1675428763", "merged_by": "cmsbuild", "milestone": "CMSSW_13_0_X", "number": 40622, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Code to process phase2 version of deepTauID v2p5", "updated_at": "1675428764", "user": "mbluj"}