{"additions": 300, "auther_ref": "10X_getPayloadDataInRelease", "auther_sha": "a17b352e80e834ad7e6d35aa4eed583a801ac9e4", "author": "mmusich", "body": "As requested in https://github.com/cms-sw/cmssw/pull/21417#discussion_r153776820 and https://github.com/cms-sw/cmssw/pull/21266#discussion_r152192952, this PR is meant to distribute the `getPayloadData` script with the release rather than calling it from an afs location. It's a request for comments as I am not completely sure how having the script callable without local checkout is going to affect the client code in `cmsDbBrowser`. \r\nThe script is almost the same as in `/afs/cern.ch/user/c/condbpro/public/BROWSER_PI/getPayloadData.py`, the only modification I made is to provide the functionality to inspect also other DB types other than oracle (e.g. local sqlite files):\r\n\r\n```diff\r\ndiff --git a/afs/cern.ch/user/c/condbpro/public/BROWSER_PI/getPayloadData.py b/getPayloadData.py\r\nindex 96aad99dab8..1ef9ed6fcb5 100755\r\n--- a/afs/cern.ch/user/c/condbpro/public/BROWSER_PI/getPayloadData.py\r\n+++ b/getPayloadData.py\r\n@@ -81,9 +81,14 @@ def deserialize_iovs(db, plugin_name, plot_name, tag, time_type, iovs):\r\n     plot = getattr(plugin_obj, plot_name)()\r\n     output('plot object: ', plot)\r\n \r\n-    db_name = 'oracle://cms_orcon_adg/CMS_CONDITIONS' if db == 'Prod' else 'oracle://cms_orcoff_prep/CMS_CONDITIONS'\r\n+    if db == \"Prod\":\r\n+        db_name = 'oracle://cms_orcon_adg/CMS_CONDITIONS'\r\n+    elif db == 'Prep' :\r\n+        db_name = 'oracle://cms_orcoff_prep/CMS_CONDITIONS'\r\n+    else:\r\n+        db_name = db\r\n     output('full DB name: ', db_name)\r\n```\r\nAttn: @ggovi, if you are working on some more sophisticated solution, just let me know and I'll close this PR. \r\nThanks ", "branch": "master", "changed_files": 8, "closed_at": "1512923551", "comments": 29, "commits": 2, "created_at": "1512045130", "deletions": 17, "labels": ["code-checks-approved", "comparison-available", "db-approved", "hlt-pending", "orp-approved", "pending-signatures", "tests-approved"], "merge_commit_sha": "7016516b5244a7e427ff361a3036ba2543167bb0", "merged_at": "1512923551", "merged_by": "cmsbuild", "milestone": "CMSSW_10_0_X", "number": 21617, "release-notes": [], "review_comments": 0, "state": "closed", "title": "[RFC] remove dependency on afs for getPayloadData script", "updated_at": "1512923552", "user": "mmusich"}