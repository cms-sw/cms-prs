{"additions": 9, "auther_ref": "fixCMSType_12_3_X", "auther_sha": "f3677ff26507829977da326c715b9eaf7da60a3f", "author": "mmusich", "body": "backport of https://github.com/cms-sw/cmssw/pull/37613\r\n\r\n#### PR description:\r\n\r\nIt appears that `CollectionAdder` \r\n\r\nhttps://github.com/cms-sw/cmssw/blob/837fd56eb63cfeab570ff8b23d5fdca1716febd0/CommonTools/UtilAlgos/interface/CollectionAdder.h#L17\r\n\r\nwhich is the underlying module type of https://github.com/cms-sw/cmssw/blob/6d2f66057131baacc2fcbdd203588c41c885b42c/PhysicsTools/HepMCCandAlgos/plugins/GenParticleMatchMerger.cc#L4\r\n\r\nis an `EDProducer`, but it was declared in the configuration as an `EDFilter`:\r\n\r\nhttps://github.com/cms-sw/cmssw/blob/837fd56eb63cfeab570ff8b23d5fdca1716febd0/SimTracker/TrackAssociation/python/allTrackMCMatch_cfi.py#L3\r\n\r\nleading to runtime errors of the type:\r\n\r\n```console\r\n----- Begin Fatal Exception 19-Apr-2022 00:54:18 CEST-----------------------\r\nAn exception of category 'Configuration' occurred while\r\n   [0] Constructing the EventProcessor\r\n   [1] Validating configuration of module: class=GenParticleMatchMerger label='allTrackMCMatch'\r\nException Message:\r\nThe base type in the python configuration is EDFilter, but the base type\r\nfor the module's C++ class is EDProducer. Please fix the configuration.\r\nIt must use the same base type as the C++ class.\r\n----- End Fatal Exception -------------------------------------------------\r\n```\r\nthis is trivially fixed here.\r\nIn addition in commit [f68a4df](https://github.com/cms-sw/cmssw/pull/37613/commits/f68a4df4191d9d33a85339a1a899b31294cd1a57), I take care of some other mismatched types in the configuration.\r\nThe parameter `associator` of `MCTrackMatcher` should be a `cms.string` and not a `cms.InputTag`:\r\n\r\nhttps://github.com/cms-sw/cmssw/blob/9583b99e8c31f33b8924a18bbb08568f6386f03b/SimTracker/TrackAssociation/plugins/MCTrackMatcher.cc#L44\r\n\r\nFinally in the same commit, the value of the variable  `associator` in `Tracker/TrackAssociation/python/trackMCMatch_cfi.py` is corrected such that it is `trackAssociatorByHits` and not `TrackAssociatorByHits`\r\n\r\n#### PR validation:\r\n\r\nPrivate scripts.\r\n\r\n#### if this PR is a backport please specify the original PR and why you need to backport that PR:\r\n\r\nverbatim backport of https://github.com/cms-sw/cmssw/pull/37613.", "branch": "CMSSW_12_3_X", "changed_files": 4, "comments": 2, "commits": 2, "created_at": "1650604298", "deletions": 6, "labels": ["simulation-pending", "pending-signatures", "tests-pending", "orp-pending", "backport-ok"], "milestone": "CMSSW_12_3_X", "number": 37652, "release-notes": [], "review_comments": 0, "state": "open", "title": "[12.3.X] fix the cms EDModule type of `GenParticleMatchMerger`", "updated_at": "1650604366", "user": "mmusich"}