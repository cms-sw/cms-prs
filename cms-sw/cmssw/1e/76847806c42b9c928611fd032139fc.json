{"additions": 2, "auther_ref": "fix-o3-nonlto", "auther_sha": "e93aca94aa9a449d4b72562e08537b0f52a7d27b", "author": "smuzaffar", "body": "This should fix the build errors for NONLTO IBs which were first shown when we enabled `-O3`.  This might be relatged to https://rkoucha.fr/tech_corner/nonnull_gcc_attribute.html ( as mentioned [here](https://github.com/pytorch/pytorch/issues/99278#issuecomment-1512027064) ). This change explicitly use `-O2` for the source files which failed to compile using `-O3`. Otherwise option is that we use `-Wno-error=nonnull` which will turn the build error in to warning.\r\n\r\n[a] https://cmssdt.cern.ch/SDT/cgi-bin/buildlogs/el8_amd64_gcc12/CMSSW_14_1_NONLTO_X_2024-06-11-1100/Geometry/HGCalCommonData\r\n```\r\nIn file included from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/external/gcc/12.3.1-40d504be6370b5a30e3947a6e575ca28/include/c++/12.3.1/bits/specfun.h:45,\r\n                 from /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/external/gcc/12.3.1-40d504be6370b5a30e3947a6e575ca28/include/c++/12.3.1/cmath:1935,\r\n                 from src/DataFormats/Math/interface/angle_units.h:4,\r\n                 from src/Geometry/HGCalCommonData/plugins/DDHGCalPassive.cc:6:\r\nIn static member function 'static _Tp* std::__copy_move<_IsMove, true, std::random_access_iterator_tag>::__copy_m(const _Tp*, const _Tp*, _Tp*) [with _Tp = double; bool _IsMove = false]',\r\n    inlined from '_OI std::__copy_move_a2(_II, _II, _OI) [with bool _IsMove = false; _II = const double*; _OI = double*]' at /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/external/gcc/12.3.1-40d504be6370b5a30e3947a6e575ca28/include/c++/12.3.1/bits/stl_algobase.h:495:30,\r\n    inlined from '_OI std::__copy_move_a1(_II, _II, _OI) [with bool _IsMove = false; _II = const double*; _OI = double*]' at /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/external/gcc/12.3.1-40d504be6370b5a30e3947a6e575ca28/include/c++/12.3.1/bits/stl_algobase.h:522:42,\r\n    inlined from '_OI std::__copy_move_a(_II, _II, _OI) [with bool _IsMove = false; _II = const double*; _OI = double*]' at /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/external/gcc/12.3.1-40d504be6370b5a30e3947a6e575ca28/include/c++/12.3.1/bits/stl_algobase.h:529:31,\r\n    inlined from '_OI std::copy(_II, _II, _OI) [with _II = const double*; _OI = double*]' at /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/external/gcc/12.3.1-40d504be6370b5a30e3947a6e575ca28/include/c++/12.3.1/bits/stl_algobase.h:620:7,\r\n    inlined from 'void std::vector<_Tp, _Alloc>::_M_assign_aux(_ForwardIterator, _ForwardIterator, std::forward_iterator_tag) [with _ForwardIterator = const double*; _Tp = double; _Alloc = std::allocator<double>]' at /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/external/gcc/12.3.1-40d504be6370b5a30e3947a6e575ca28/include/c++/12.3.1/bits/vector.tcc:330:19:\r\n  /data/cmsbld/jenkins/workspace/build-any-ib/w/el8_amd64_gcc12/external/gcc/12.3.1-40d504be6370b5a30e3947a6e575ca28/include/c++/12.3.1/bits/stl_algobase.h:431:30: error: argument 1 null where non-null expected [-Werror=nonnull]\r\n   431 |             __builtin_memmove(__result, __first, sizeof(_Tp) * _Num);\r\n      |             ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n```", "branch": "master", "changed_files": 1, "comments": 7, "commits": 1, "created_at": "1718137918", "deletions": 0, "labels": ["geometry-pending", "pending-signatures", "orp-pending", "tests-started", "upgrade-pending", "code-checks-approved"], "milestone": "CMSSW_14_1_X", "number": 45201, "release-notes": [], "review_comments": 0, "state": "open", "title": "Explicitly build with O2 to avoid build errors", "updated_at": "1718166159", "user": "smuzaffar"}