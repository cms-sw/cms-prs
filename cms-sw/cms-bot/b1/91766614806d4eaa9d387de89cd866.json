{"additions": 152, "auther_ref": "nodes-sanity", "auther_sha": "87f7771c5d4831bd6b2b9d0a82585d393660c8b1", "author": "aandvalenzuela", "body": "This job runs a check that makes sure `/afs`, `/cvmfs`, `/cvmfs/cms.cern.ch`,  `/cvmfs/cms-ci.cern.ch`,  `/cvmfs/cms-ib.cern.ch`,  `/cvmfs/grid.cern.ch` and `/cvmfs/unpacked.cern.ch` are mounted and that `singularity` can start a container in the node. It runs on `lxplus7`, `lxplus8` and `lxplus9` considering the available hosts at the time of running and both `aarch64` and `ppc64le` machines.\r\n\r\nIf any of the checks fails, it sends an email notification and writes the node name into a blacklist. For `lxplus` nodes, this blacklist is checked before connecting any node to make sure Jenkins does not connect to a blacklisted node. For `aarch64` and `ppc64le` machines, it takes the corresponding nodes offline.\r\n\r\nThe blacklist is cleaned up for lxplus nodes if the tests run again successfully in any of the nodes or if the host is not in the list of available hosts anymore. The `aarch64` and `ppc64le` nodes must be taken online manually after receiving the email notification and fixing the issue.", "branch": "master", "changed_files": 3, "comments": 6, "commits": 16, "created_at": "1669619627", "deletions": 1, "labels": ["orp-pending", "pending-signatures", "externals-pending", "tests-pending"], "number": 1894, "release-notes": [], "review_comments": 3, "state": "open", "title": "Nodes `/afs`, `/cvmfs` and `singularity` sanity check", "updated_at": "1669649132", "user": "aandvalenzuela"}