{"additions": 34, "auther_ref": "rpm-db-size-issue", "auther_sha": "1578be4c3adfe17e269a6f3c19fe59ca00367a68", "author": "cms-sw", "body": "work around for installing packages when RPM database is over 2GB ( see https://cern.service-now.com/service-portal?id=ticket&table=incident&n=INC4478007 for details). This is a generic issue with cvmfs and newer linux kernel. Opening a large file with read/write permission fails. A simple `open(\"/cvmfs/repo/some/large/file\",O_RDWR);` fails on kernel  `5.14.0-503` ( which is installed on our cms-ib.cern.ch cvmfs publishers) while it works on kernel `5.14.0-362` ( which is available on cms.cern.ch cvmfs publisher).\r\n\r\nThe change here moves the large `Packages` file to local disk, create a symlink on cvmfs and then runs `rpm -ivh` and finally move back the `Packages` file to cvmfs. We can remove this workaround once cvmfs or kernel has a fix for it.", "branch": "master", "changed_files": 1, "comments": 4, "commits": 4, "created_at": "1747729739", "deletions": 3, "labels": ["orp-pending", "fully-signed", "tests-pending", "externals-approved"], "number": 2508, "release-notes": [], "review_comments": 0, "state": "open", "title": "Rpm db size issue", "updated_at": "1747729857", "user": "smuzaffar"}