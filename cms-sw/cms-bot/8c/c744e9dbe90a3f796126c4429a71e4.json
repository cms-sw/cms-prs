{"additions": 19, "auther_ref": "fix-cuda-install", "auther_sha": "3cd2ca37cf5c8262efbedf938beda0e1dacf0d3a", "author": "cms-sw", "body": "The script was failing with the following error:\r\n\r\n```\r\n09:40:39 Traceback (most recent call last):\r\n09:40:39   File \"/home/cvcms-restricted/cache/cms-bot/cuda/install-cuda.py\", line 763, in <module>\r\n09:40:39     main()\r\n09:40:39   File \"/home/cvcms-restricted/cache/cms-bot/cuda/install-cuda.py\", line 742, in main\r\n09:40:39     install_package(component, archive_dir, install_dir, rules)\r\n09:40:39   File \"/home/cvcms-restricted/cache/cms-bot/cuda/install-cuda.py\", line 496, in install_package\r\n09:40:39     movetree(archive_dir, install_dir)\r\n09:40:39   File \"/home/cvcms-restricted/cache/cms-bot/cuda/install-cuda.py\", line 180, in movetree\r\n09:40:39     movetree(srcname, dstname, overwrite)\r\n09:40:39   File \"/home/cvcms-restricted/cache/cms-bot/cuda/install-cuda.py\", line 187, in movetree\r\n09:40:39     raise RuntimeError(f\"Cannot merge or overwrite entries of different types: {src} vs {dst}\")\r\n09:40:39 RuntimeError: Cannot merge or overwrite entries of different types: /tmp/cvcms-restricted/jenkins/workspace/cvmfs-install-cuda/tmp/cuda_sandbox_dev-linux-x86_64-12.8.55-archive/lib64 vs /cvmfs/projects.cern.ch/cms-restricted/x86_64/rhel8/external/cuda/12.8.0/lib64\r\n```\r\n\r\nIt couldn't merge directory with symlink to directory. The script fixes that issue by fully resolving `src` and `dst` in `movetree` before deciding how to proceed.", "branch": "master", "changed_files": 1, "comments": 2, "commits": 1, "created_at": "1738586637", "deletions": 4, "labels": ["orp-pending", "pending-signatures", "externals-pending", "tests-pending"], "number": 2429, "release-notes": [], "review_comments": 0, "state": "open", "title": "Fix installation of CUDA to cvcms-restricted", "updated_at": "1738586657", "user": "iarspider"}