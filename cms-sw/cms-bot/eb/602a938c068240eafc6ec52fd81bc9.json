{"additions": 9, "auther_ref": "master", "auther_sha": "6eaca96d92c0eb01853c20e032be6c23a1226ad8", "author": "gartung", "body": "Something in Igprof's instrumenting of fork causes an error in `cling::CIFactory::createCI()`\r\nThe workaround for now is to execute the command that createCI runs to get the compiler paths and add those to ROOT_INCLUDE_PATH.\r\n\r\n```\r\nERROR in cling::CIFactory::createCI(): cannot extract standard library include paths!\r\nInvoking:\r\n  LC_ALL=C g++   -xc++ -E -v /dev/null 2>&1 | sed -n -e '/^.include/,${' -e '/^ \\/.*++/p' -e '}'\r\nResults was:\r\n /cvmfs/cms-ib.cern.ch/nweek-02734/el8_amd64_gcc10/external/gcc/10.3.0-84898dea653199466402e67d73657f10/bin/../lib/gcc/x86_64-redhat-linux-gnu/10.3.0/../../../../include/c++/10.3.0\r\n /cvmfs/cms-ib.cern.ch/nweek-02734/el8_amd64_gcc10/external/gcc/10.3.0-84898dea653199466402e67d73657f10/bin/../lib/gcc/x86_64-redhat-linux-gnu/10.3.0/../../../../include/c++/10.3.0/x86_64-redhat-linux-gn\r\nu\r\n /cvmfs/cms-ib.cern.ch/nweek-02734/el8_amd64_gcc10/external/gcc/10.3.0-84898dea653199466402e67d73657f10/bin/../lib/gcc/x86_64-redhat-linux-gnu/10.3.0/../../../../include/c++/10.3.0/backward\r\nWith exit code 0\r\n```\r\nThis leads to a dictionary error when loading root files\r\n```\r\nIn file included from DataFormatsCandidate_xr dictionary payload:82:\r\nIn file included from /cvmfs/cms-ib.cern.ch/nweek-02735/el8_amd64_gcc10/cms/cmssw-patch/CMSSW_12_5_X_2022-05-31-1100/src/DataFormats/Common/interface/AssociationMap.h:41:\r\nIn file included from /cvmfs/cms-ib.cern.ch/nweek-02735/el8_amd64_gcc10/external/tbb/v2021.5.0-e966a5acb1e4d5fd7605074bafbb079c/include/oneapi/tbb/concurrent_unordered_map.h:22:\r\n/cvmfs/cms-ib.cern.ch/nweek-02735/el8_amd64_gcc10/external/tbb/v2021.5.0-e966a5acb1e4d5fd7605074bafbb079c/include/oneapi/tbb/tbb_allocator.h:26:10: fatal error: 'memory_resource' file not found\r\n#include <memory_resource>\r\n         ^~~~~~~~~~~~~~~~~\r\n31-May-2022 10:51:58 UTC  Closed file root://eoscms.cern.ch//eos/cms/store/user/cmsbuild/store/relval/CMSSW_12_1_0_pre2/RelValMinBias_14TeV/GEN-SIM/113X_mcRun4_realistic_v7_2026D77noPU-v1/10000/3cb96e45-120e-4060-980c-2f6292ae3edb.root\r\n31-May-2022 10:51:58 UTC  Closed file file:step1.root\r\n```", "branch": "master", "changed_files": 2, "closed_at": "1654253574", "comments": 7, "commits": 2, "created_at": "1654184898", "deletions": 0, "labels": ["orp-pending", "pending-signatures", "tests-approved", "externals-pending"], "merge_commit_sha": "557bd41301903aa84f1915325774e156960c7f6b", "merged_at": "1654253574", "merged_by": "smuzaffar", "number": 1770, "release-notes": [], "review_comments": 0, "state": "closed", "title": "When running igprof ensure that compiler include paths are added to ROOT_INCLUDE_PATH ", "updated_at": "1654253575", "user": "gartung"}