{"additions": 51230, "auther_ref": "test-backport", "auther_sha": "f4cb7246cc914a69eb30c5f1c5535f415a4848ed", "author": "cms-sw", "body": "@smuzaffar changes to modify_comment.py are a follow-up of our discussion (the two added functions are not used by process_pr, and don't rely on any process_pr parts). \r\n\r\nI also couldn't come up with a scenario in which bot cache will shrink - we never remove anything from cache, so it can only grow. In theory, if we barely exceed the comment limit and get cache to split between two comments, and then update the cache to compress better we _may_ get it to shrink. \r\n\r\nWhen tests are ran from github workflow, I don't generate coverage report, this is something we need to discuss later - e.g. we can use a webhook trigger Jenkins job to generate coverage report and host it somewhere on cmssdt, or use external service like codecov.\r\n\r\nI have changed how actions are compared (recorded vs performed): b64-encoded data is not compared. It turned out that gzip may produce different compressed bytes for the same input in different zlib versions. Instead, I have hooked `write_bot_cache` function to record (and verify) uncompressed cache. ", "branch": "master", "changed_files": 142, "comments": 22, "commits": 1, "created_at": "1745396260", "deletions": 143, "labels": ["orp-pending", "pending-signatures", "externals-pending", "tests-pending"], "number": 2486, "release-notes": [], "review_comments": 5, "state": "open", "title": "Add more tests and start measuring coverage", "updated_at": "1747132618", "user": "iarspider"}