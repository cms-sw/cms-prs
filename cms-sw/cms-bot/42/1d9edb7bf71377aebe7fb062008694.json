{"additions": 84, "auther_ref": "jenkins-monitor-queue", "auther_sha": "21b232a3f72586d0744f22ccc50c9aa3fa26c375", "author": "aandvalenzuela", "body": "Hello,\r\n\r\nThis script monitors the jenkins queue and looks for the buggy offline nodes (i.e., the nodes that are kept offline in Jenkins and we need to manually launch them).\r\n\r\nWe are seeing this type of errors more often, so I think this monitoring will help in detecting the nodes.\r\n\r\nAs discussed, there is a fist job that runs a simple check daily on every node (https://cmssdt.cern.ch/jenkins/view/All/job/jenkins-infrastructure-sanity-check/).\r\nThen the monitoring job (https://cmssdt.cern.ch/jenkins/view/All/job/jenkins-monitor-queue/) runs every hour and reports offline nodes to OpenSearch. Offline buggy nodes can be found in the Jenkins Grafana Dashboard (https://monit-grafana.cern.ch/d/83t0M504k/cmssdt-jenkins?orgId=11) with the total offline time (in minutes), if there is any buggy node.", "branch": "master", "changed_files": 1, "closed_at": "1692384158", "comments": 2, "commits": 1, "created_at": "1692345511", "deletions": 0, "labels": ["orp-pending", "pending-signatures", "externals-pending", "tests-pending"], "merge_commit_sha": "80a0050d269e9398aaa81478e36bf02dd80806e1", "merged_at": "1692384158", "merged_by": "aandvalenzuela", "number": 2039, "release-notes": [], "review_comments": 0, "state": "closed", "title": "Monitor jenkins queue and offline nodes", "updated_at": "1692384158", "user": "aandvalenzuela"}