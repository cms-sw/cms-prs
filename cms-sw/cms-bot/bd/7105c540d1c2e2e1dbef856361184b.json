{"additions": 10, "auther_ref": "master", "auther_sha": "a74c2f2dd528d41fd7f7d709c28f44b49768a7a9", "author": "gartung", "body": "resolves https://github.com/cms-sw/framework-team/issues/1596\r\n\r\nThe text output of igprof-analyze --sqlite has been producing errors from newer versions of sqlite3 like the ones below. String literals need to strictly be enclosed in single quotes. \r\n\r\nThis will require updating the fix-igprof-sql.py script to convert double quotes in `VALUES` to single quotes. This is complicated by the presence of single quotes in some of the function names (due to UTF-8 encoding?).\r\n \r\n```\r\nParse error near line 61: no such column: \"PERF_TICKS\" - should this be a string literal in single-quotes?\r\n  ter, total_count, total_freq, tick_period) VALUES(\"PERF_TICKS\", 6651, 6651, 0.\r\n                                      error here ---^\r\nParse error near line 63: no such column: \"<unknown>\" - should this be a string literal in single-quotes?\r\n  INSERT INTO files VALUES (28010080, \"<unknown>\");\r\n                        error here ---^\r\nParse error near line 64: no such column: \"<spontaneous>\" - should this be a string literal in single-quotes?\r\n  INSERT INTO symbols VALUES (28010160, \"<spontaneous>\", 28010080);\r\n                          error here ---^\r\nParse error near line 69: no such column: \"}^N^T\" - should this be a string literal in single-quotes?\r\n  INSERT INTO files VALUES (28024672, \"}^N^T\");\r\n                        error here ---^\r\nParse error near line 70: no such column: \"_start\" - should this be a string literal in single-quotes?\r\n  INSERT INTO symbols VALUES (28033568, \"_start\", 28024672);\r\n                          error here ---^\r\nParse error near line 74: no such column: \"'A^S\" - should this be a string literal in single-quotes?\r\n  INSERT INTO files VALUES (28047200, \"'A^S\");\r\n                        error here ---^\r\n```", "branch": "master", "changed_files": 1, "comments": 6, "commits": 5, "created_at": "1759443383", "deletions": 2, "labels": ["orp-pending", "pending-signatures", "externals-pending", "tests-pending"], "number": 2583, "release-notes": [], "review_comments": 0, "state": "open", "title": "fix-igprof-sql.py: Use python3. Use open with encoding=\"latin-1\", errors=\"ignore\"", "updated_at": "1759515948", "user": "gartung"}