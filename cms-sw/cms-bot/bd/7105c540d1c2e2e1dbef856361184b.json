{"additions": 12, "auther_ref": "master", "auther_sha": "1e1649df2f1100f7c9010fdd26beb2eec739e97d", "author": "gartung", "body": "resolves https://github.com/cms-sw/framework-team/issues/1596\r\n\r\nThe text output of igprof-analyze --sqlite has been producing errors from newer versions of sqlite3 like the ones below. String literals need to strictly be enclosed in single quotes. \r\n\r\nThis will require updating the fix-igprof-sql.py script to convert double quotes in `VALUES` to single quotes. This is complicated by the presence of single quotes in some of the function names (due to UTF-8 encoding?).\r\n \r\n```\r\nParse error near line 61: no such column: \"PERF_TICKS\" - should this be a string literal in single-quotes?\r\n  ter, total_count, total_freq, tick_period) VALUES(\"PERF_TICKS\", 6651, 6651, 0.\r\n                                      error here ---^\r\nParse error near line 63: no such column: \"<unknown>\" - should this be a string literal in single-quotes?\r\n  INSERT INTO files VALUES (28010080, \"<unknown>\");\r\n                        error here ---^\r\nParse error near line 64: no such column: \"<spontaneous>\" - should this be a string literal in single-quotes?\r\n  INSERT INTO symbols VALUES (28010160, \"<spontaneous>\", 28010080);\r\n                          error here ---^\r\nParse error near line 69: no such column: \"}^N^T\" - should this be a string literal in single-quotes?\r\n  INSERT INTO files VALUES (28024672, \"}^N^T\");\r\n                        error here ---^\r\nParse error near line 70: no such column: \"_start\" - should this be a string literal in single-quotes?\r\n  INSERT INTO symbols VALUES (28033568, \"_start\", 28024672);\r\n                          error here ---^\r\nParse error near line 74: no such column: \"'A^S\" - should this be a string literal in single-quotes?\r\n  INSERT INTO files VALUES (28047200, \"'A^S\");\r\n                        error here ---^\r\n```\r\n\r\nThe extra single quote is reported by Igprof for multiple instances of python functions. These singe quotes were replaced with underscores\r\n```\r\nINSERT INTO symbols VALUES (338167776, \"_PyEval_EvalFrameDefault'2\", 28734288);\r\n```", "branch": "master", "changed_files": 1, "closed_at": "1760001873", "comments": 17, "commits": 6, "created_at": "1759443383", "deletions": 2, "labels": ["orp-pending", "fully-signed", "tests-approved", "externals-approved"], "merge_commit_sha": "f7551008e9014734d4d97a1b7416752bd5a396c5", "merged_at": "1760001873", "merged_by": "smuzaffar", "number": 2583, "release-notes": [], "review_comments": 0, "state": "closed", "title": "fix-igprof-sql.py: Use python3. Replace double quotes with single quotes needed by newer sqlite3 for string literals.", "updated_at": "1760001887", "user": "gartung"}