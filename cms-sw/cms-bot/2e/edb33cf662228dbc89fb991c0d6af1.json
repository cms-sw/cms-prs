{"additions": 92, "auther_ref": "master", "auther_sha": "43c2fd3d7c885d44624009d66adcac82324e223d", "author": "gudrutis", "body": "To include into existing Jenkins, use this bash snipped as an example\r\n\r\n```bash\r\n# set +x\r\n\r\nEXTERNAL_REPO=$1\r\nEXTERNAL_PR=${2:-22}\r\nCMS_SW_TAG=$3\r\nWORKSPACE=\"/build/zmatonis/jenkins_sources_flag\"\r\n\r\nif [[ \"X$EXTERNAL_REPO\" != \"X\"  && \"$EXTERNAL_REPO\" != 'cms-sw/cmsdist'  && \"X$EXTERNAL_PR\" != \"X\" && \"X$CMS_SW_TAG\" != \"X\" ]] ; then\r\n    echo \"Testing pull reguest\"\r\n    PKG_NAME=$(echo $EXTERNAL_REPO | sed 's|.*/||')\r\n    pushd $WORKSPACE\r\n        ./cms-bot/get_source_flag_for_cmsbuild.sh $EXTERNAL_REPO $EXTERNAL_PR $CMS_SW_TAG\r\n        EXTRA_CMSBUILD_ARGS=\"$(cat get_source_flag_result.txt)\"\r\n    popd\r\nelse\r\n    echo \"Not testig external\"\r\n    exit 1\r\nfi\r\necho $EXTRA_CMSBUILD_ARGS\r\n```", "branch": "master", "changed_files": 1, "comments": 1, "commits": 7, "created_at": "1540042667", "deletions": 0, "labels": ["externals-pending", "orp-pending", "pending-signatures", "tests-pending"], "number": 1046, "release-notes": [], "review_comments": 0, "state": "open", "title": "created get_source_flag_for_cmsbuild.sh", "updated_at": "1540828876", "user": "gudrutis"}