{"additions": 8, "auther_ref": "iarspider-patches-20251106-1", "auther_sha": "46d16ccaf95f5d35b486b6a64ea6b10ceee9f8ae", "author": "cms-sw", "body": "Technical PR. In principle the descriptor will get released once the list comprehension `[...]` is complete [a], but it's better to be explicit\r\n\r\n[a]\r\nHeres what actually happens:\r\n\r\n1. `open(...)` creates a file object.\r\n2. `.read()` reads the **entire contents** of the file into memory as a single string.\r\n3. After `.read()` finishes, **the file object still exists**, but youve lost the reference to it (since you never assigned it to a variable).\r\n4. Because you lost the reference, the file object becomes *unreachable* once the expression completes, and Pythons **garbage collector** will eventually close it *when the object is destroyed*.\r\n\r\nHowever  and this is key  **theres no guarantee *when* that destruction happens**.\r\n\r\nIn CPython (the most common implementation), itll usually happen immediately (due to reference counting).\r\n", "branch": "master", "changed_files": 1, "comments": 0, "commits": 1, "created_at": "1762418105", "deletions": 12, "labels": [], "number": 2612, "release-notes": [], "review_comments": 0, "state": "open", "title": "Avoid leaking file descriptors when reading GPU lists", "updated_at": "1762418105", "user": "iarspider"}