{"additions": 12, "auther_ref": "pending-task-heck", "auther_sha": "8efd5eab963b095da9d29195a1cef7731c2e09b9", "author": "cms-sw", "body": "possible fix for errors like [a] where a package `build-prep` step force mark some tasks done but scheduler still try to schedule them.\r\n\r\n[a]\r\n```\r\nDEBUG:parallel:pending->running: transition build-prep-external+py3-Bottleneck+1.5.0-391a8d83ba581644e136a881814f97c1\r\nCreating directory /pool/condor/dir_2570169/jenkins/workspace/build-any-ib/w/BUILD/el8_aarch64_gcc14/external/py3-Bottleneck/1.5.0-391a8d83ba581644e136a881814f97c1 if not existing.\r\nCreating directory /pool/condor/dir_2570169/jenkins/workspace/build-any-ib/w/BUILD/el8_aarch64_gcc14/external/py3-histogrammar/1.1.2-3ad18a1c123188fe94496a66b86ed231 if not existing.\r\nObjectStore: Checking package store for external+py3-Bottleneck+1.5.0-391a8d83ba581644e136a881814f97c1.\r\nDEBUG:Force:pending->done: transition build-rpms-external+py3-Bottleneck+1.5.0-391a8d83ba581644e136a881814f97c1\r\nDEBUG:Force:pending->done: transition build-srpm-external+py3-Bottleneck+1.5.0-391a8d83ba581644e136a881814f97c1\r\nDEBUG:Force:pending->done: transition build-install-external+py3-Bottleneck+1.5.0-391a8d83ba581644e136a881814f97c1\r\nDEBUG:Force:pending->done: transition build-build-external+py3-Bottleneck+1.5.0-391a8d83ba581644e136a881814f97c1\r\nDEBUG:parallel:pending->running: transition build-install-external+py3-Bottleneck+1.5.0-391a8d83ba581644e136a881814f97c1\r\nbuild-install-external+py3-Bottleneck+1.5.0-391a8d83ba581644e136a881814f97c1 not in source list\r\nTraceback (most recent call last):\r\n  File \"PKGTOOLS/cmsBuild\", line 5196, in <module>\r\n    build(opts, args[1:], PKGFactory)\r\n  File \"PKGTOOLS/cmsBuild\", line 4416, in build\r\n    buildSpecs(packages)\r\n  File \"PKGTOOLS/cmsBuild\", line 4327, in buildSpecs\r\n    scheduler.run()\r\n  File \"/pool/condor/dir_2570169/jenkins/workspace/build-any-ib/PKGTOOLS/scheduler.py\", line 80, in run\r\n    self.__doNotifications()\r\n  File \"/pool/condor/dir_2570169/jenkins/workspace/build-any-ib/PKGTOOLS/scheduler.py\", line 126, in __doNotifications\r\n    self.__doRescheduleParallel()\r\n  File \"/pool/condor/dir_2570169/jenkins/workspace/build-any-ib/PKGTOOLS/scheduler.py\", line 204, in __doRescheduleParallel\r\n    transition(taskId, self.pendingJobs, self.runningJobs, \"parallel:pending->running\")\r\n  File \"/pool/condor/dir_2570169/jenkins/workspace/build-any-ib/PKGTOOLS/scheduler.py\", line 21, in transition\r\n    raise e\r\n  File \"/pool/condor/dir_2570169/jenkins/workspace/build-any-ib/PKGTOOLS/scheduler.py\", line 18, in transition\r\n    fromList.remove(what)\r\nValueError: list.remove(x): x not in list\r\n\r\n```", "branch": "V00-34-XX", "changed_files": 1, "comments": 3, "commits": 2, "created_at": "1768905448", "deletions": 6, "labels": ["orp-pending", "pending-signatures", "externals-pending", "tests-pending"], "number": 233, "release-notes": [], "review_comments": 0, "state": "open", "title": "make sure the pending task is still in pendingJobs queue", "updated_at": "1769426405", "user": "smuzaffar"}